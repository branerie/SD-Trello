(this["webpackJsonpsmart-manager"]=this["webpackJsonpsmart-manager"]||[]).push([[0],{100:function(e,t,n){e.exports={card:"Card_card__1zCVy",container:"Card_container__2sYk9","card-name":"Card_card-name__SB7bM",button:"Card_button__2IaS-",attachments:"Card_attachments__2FepI",progress:"Card_progress__ZgeWv"}},12:function(e,t,n){e.exports={container:"Welcome_container__Blv2d","top-container":"Welcome_top-container__1kWsD","top-div-container":"Welcome_top-div-container__wAc50","header-nav":"Welcome_header-nav__23dVS",logo:"Welcome_logo__1FHqc","first-buttons":"Welcome_first-buttons__1zNCr",pic1:"Welcome_pic1__WdSLj",pic2:"Welcome_pic2__3kR7y","lower-div-container":"Welcome_lower-div-container__11mp2","first-text":"Welcome_first-text__2wMqP","login-button":"Welcome_login-button__2aVK9","sign-up-button":"Welcome_sign-up-button__2DTaq",headers:"Welcome_headers__YqCjW",lucida:"Welcome_lucida__3OQA8",paragraph:"Welcome_paragraph__2xlYA","second-sign-up-button":"Welcome_second-sign-up-button__3YQut","second-container":"Welcome_second-container__3oB5N","first-row":"Welcome_first-row__kdO8F","second-text":"Welcome_second-text__wGxh7","third-sign-up-button":"Welcome_third-sign-up-button__E-21v","pic3-container":"Welcome_pic3-container__3y42i",picture:"Welcome_picture__1LfpA","second-row":"Welcome_second-row__2gFr0","second-row-colum":"Welcome_second-row-colum__1QPMm","second-row-pic":"Welcome_second-row-pic__25QT9","pic4-container":"Welcome_pic4-container__31mTt","third-row":"Welcome_third-row__2pG7q","pic6-container":"Welcome_pic6-container__1SSNA","content-wrap":"Welcome_content-wrap__2dveJ",footer:"Welcome_footer__2XGx5","footer-column":"Welcome_footer-column__1v0eJ","footer-headers":"Welcome_footer-headers__3JwzT","footer-info":"Welcome_footer-info__1Sdrd","last-column":"Welcome_last-column__1XKLT","social-media-container":"Welcome_social-media-container__3rB36","social-media":"Welcome_social-media__14Zva",sd2006:"Welcome_sd2006__1n8bn"}},136:function(e,t,n){e.exports={container:"ToggleSwitch_container__1XYXK","switch-container":"ToggleSwitch_switch-container__2fcJU","container-active":"ToggleSwitch_container-active__2KlxI","state-circle":"ToggleSwitch_state-circle__27vlr"}},15:function(e,t,n){e.exports={container:"HeaderDropdowns_container__29rcz","dropdown-container":"HeaderDropdowns_dropdown-container__3wSui",button:"HeaderDropdowns_button__X-O6a",title:"HeaderDropdowns_title__sf-dL",dropdown:"HeaderDropdowns_dropdown__314x4","options-container":"HeaderDropdowns_options-container__2j26N",options:"HeaderDropdowns_options__1fdRp","last-option":"HeaderDropdowns_last-option__1epJE",avatar:"HeaderDropdowns_avatar__2YMoE",profile:"HeaderDropdowns_profile__3KVLR","team-media":"HeaderDropdowns_team-media__iRnD9","project-media":"HeaderDropdowns_project-media__2geIl"}},16:function(e,t,n){e.exports={container:"Profile_container__2jn1d","left-container":"Profile_left-container__192mn","pic-container":"Profile_pic-container__NkUuW",pic1:"Profile_pic1__10iGJ",teams:"Profile_teams__3rU3V","navigate-buttons":"Profile_navigate-buttons__2i3f7","button-input-div":"Profile_button-input-div__3nxTZ","button-input-div-tasks":"Profile_button-input-div-tasks__2vLJs","input-fields-tasks":"Profile_input-fields-tasks__1EyeJ","input-fields-profile":"Profile_input-fields-profile__2meLO","profile-pic":"Profile_profile-pic__dcZ5p","load-pic-text":"Profile_load-pic-text__3xgzd",pen:"Profile_pen__3-PuD","profile-pic-container":"Profile_profile-pic-container__YugLK","profile-picture":"Profile_profile-picture__2uOYt","save-button":"Profile_save-button__1J0CK","button-div-save":"Profile_button-div-save__1Cq3-",alerts:"Profile_alerts__9_8ch","new-pass-alert":"Profile_new-pass-alert__3-5pw","select-team-container":"Profile_select-team-container__gkHJ_","teams-home":"Profile_teams-home__GLM5A","navigate-buttons-teams":"Profile_navigate-buttons-teams__1Pcy1",edit:"Profile_edit__2Bn-c",delete:"Profile_delete__3CAmX",relative:"Profile_relative__tYXFt",menu:"Profile_menu__3K4CG"}},184:function(e,t,n){e.exports={submit:"ButtonHideList_submit__3glNU",name:"ButtonHideList_name__24VGN",opacity:"ButtonHideList_opacity__2oef5"}},185:function(e,t,n){e.exports={app:"PageLayout_app__2ictT",content:"PageLayout_content__2RzM6",small:"PageLayout_small__1Mq-R"}},186:function(e,t,n){e.exports={attachment:"Attachment_attachment__1LGL-","att-picture":"Attachment_att-picture__2rF6n",format:"Attachment_format__1ATQP"}},187:function(e,t,n){e.exports={title:"Error_title__1VvYs",pic1:"Error_pic1__2769P",text:"Error_text__3jaPe"}},188:function(e,t,n){e.exports={projectInfoContainer:"ProjectList_projectInfoContainer__2--XA","calendar-container":"ProjectList_calendar-container__2tN25","layout-container":"ProjectList_layout-container__1xU4h",table:"ProjectList_table__3UAlN",column:"ProjectList_column__3etaq",columnChild:"ProjectList_columnChild__1r7DM",daylyElement:"ProjectList_daylyElement__vjLXN"}},189:function(e,t,n){e.exports={container:"FilterWrapper_container__2mc8F","legend-wrapper":"FilterWrapper_legend-wrapper__2H0G_",legend:"FilterWrapper_legend__2ixJM"}},19:function(e,t,n){e.exports={columns:"CalendarData_columns__-FIu9",task:"CalendarData_task__3pGoD",buttoDiv:"CalendarData_buttoDiv__38O5Q",listName:"CalendarData_listName__vvNl9",container:"CalendarData_container__2gTLe",nameContainer:"CalendarData_nameContainer__ah6Fk",input:"CalendarData_input__3BvDQ",inputList:"CalendarData_inputList__-v8qO",addlist:"CalendarData_addlist__19KFm",dueDateField:"CalendarData_dueDateField__2Eunf",dueDateFieldInput:"CalendarData_dueDateFieldInput__fpgRy",inputElementName:"CalendarData_inputElementName__OCCiE",clean:"CalendarData_clean__1Tt9q",taskProgress:"CalendarData_taskProgress__8JSPb",taskProgressButton:"CalendarData_taskProgressButton__25BRW",taskProgressButtonInput:"CalendarData_taskProgressButtonInput__3ZWW2",tableText:"CalendarData_tableText__3cXyB",select:"CalendarData_select__2NTIx",pen:"CalendarData_pen__1j8xF",membersDiv:"CalendarData_membersDiv__3pToC",membersContainer:"CalendarData_membersContainer__1x6pF",daylyProgress:"CalendarData_daylyProgress__137iX",header:"CalendarData_header__2Ssi7",cursorPointer:"CalendarData_cursorPointer__3Gmkm",filter:"CalendarData_filter__2FDSG",filters:"CalendarData_filters__3Gq7C","filters-container":"CalendarData_filters-container__UBo34","filters-clicked":"CalendarData_filters-clicked__wgWOb",list:"CalendarData_list__1yfKY","attachments-container":"CalendarData_attachments-container__3WW0v"}},190:function(e,t,n){e.exports={"filter-used":"FilterDueDate_filter-used__2w3oe","filter-blank":"FilterDueDate_filter-blank__1Tuw4","filter-clear":"FilterDueDate_filter-clear__BVHie"}},20:function(e,t,n){e.exports={title:"MyTasks_title__1C8P6","button-container":"MyTasks_button-container__3ojpk","team-buttons":"MyTasks_team-buttons__rwLN9",teams:"MyTasks_teams__bacAI","projects-button":"MyTasks_projects-button__QEKL1",selected:"MyTasks_selected__2L6Mh",pic:"MyTasks_pic__2sXbq",box:"MyTasks_box__3GKSN",project:"MyTasks_project__3TwfE","project-name":"MyTasks_project-name__3GHcB",link:"MyTasks_link__2yCTm",bold:"MyTasks_bold__15RaX",header:"MyTasks_header__mroLj",raw:"MyTasks_raw__20QEV",container:"MyTasks_container__3KSqs","task-container":"MyTasks_task-container__2V5Yb",list:"MyTasks_list__2iT9e",task:"MyTasks_task__1dbTY",progress:"MyTasks_progress__3nBUU",days:"MyTasks_days__3bCTi"}},21:function(e,t,n){e.exports={"small-buttons":"EditCardOptions_small-buttons__1hy9d",pics:"EditCardOptions_pics__SnHKl",date:"EditCardOptions_date__3hXp1",select:"EditCardOptions_select__3Kx68",members:"EditCardOptions_members__1ONdZ",history:"EditCardOptions_history__1o3UV","progress-input":"EditCardOptions_progress-input__1OQoV","progress-input-container":"EditCardOptions_progress-input-container__1v_MB","progress-bar":"EditCardOptions_progress-bar__nxvKF","bad-input":"EditCardOptions_bad-input__2WT7C",progress:"EditCardOptions_progress__2EHw4","att-container":"EditCardOptions_att-container__GBRn5",attachment:"EditCardOptions_attachment__1_JhW","att-picture":"EditCardOptions_att-picture__11VOZ",format:"EditCardOptions_format__1DJu8",remaining:"EditCardOptions_remaining__360yd"}},22:function(e,t,n){e.exports={container:"EditTeam_container__jOWEK",title:"EditTeam_title__1SlVn","input-container":"EditTeam_input-container__20E2D","input-container-invite":"EditTeam_input-container-invite__34vji","input-name":"EditTeam_input-name__3l4BG","text-invite":"EditTeam_text-invite__2pe88","input-invite":"EditTeam_input-invite__2Bo-1","input-container-descr":"EditTeam_input-container-descr__oVXbs","text-area-descr":"EditTeam_text-area-descr__1zqXP","button-div":"EditTeam_button-div__3L4JE","create-button":"EditTeam_create-button__--HPe","members-div":"EditTeam_members-div__2htec","invite-input":"EditTeam_invite-input__1YcA-","select-for-invite":"EditTeam_select-for-invite__3CS0n",members:"EditTeam_members__39VP2",user:"EditTeam_user__WOpOa",email:"EditTeam_email__3ZwGR","leave-team-btn-div":"EditTeam_leave-team-btn-div__zLSrF","leave-team-btn":"EditTeam_leave-team-btn__l6dJ_"}},24:function(e,t,n){e.exports={container:"SignupForm_container__1EUzX",alerts:"SignupForm_alerts__3SVKz","inner-container":"SignupForm_inner-container__3WHa3",logo:"SignupForm_logo__3kCbY","right-side":"SignupForm_right-side__11WBG",title:"SignupForm_title__Fapvf","input-container":"SignupForm_input-container__2Ab8N","sign-up-input":"SignupForm_sign-up-input__Qllfz","pass-instructions":"SignupForm_pass-instructions__3dV59","sign-up-button":"SignupForm_sign-up-button__30sA_","button-div-login":"SignupForm_button-div-login__1VwbR","text-div":"SignupForm_text-div__2HDuw","already-sign-up":"SignupForm_already-sign-up__lhjkC","sign-up-btn":"SignupForm_sign-up-btn__1IrDl","button-div-google-login":"SignupForm_button-div-google-login__20p6X","google-login-btn":"SignupForm_google-login-btn__1dUjE"}},250:function(e,t,n){e.exports={aside:"ListColor_aside__3JtLX",list:"ListColor_list__Vd3bu"}},252:function(e,t,n){e.exports={"search-container":"SearchResults_search-container__MlAXI",result:"SearchResults_result__3ytDV"}},253:function(e,t,n){e.exports={"members-avatars":"TeamMembers_members-avatars__1huAA"}},256:function(e,t,n){e.exports={bar:"ProgressBar_bar__3HFkM",progress:"ProgressBar_progress__17L3y"}},257:function(e,t,n){e.exports={button:"AttachmentsLink_button__dAzPs",attachments:"AttachmentsLink_attachments__33y53"}},26:function(e,t,n){e.exports={container:"AddProjectMember_container__1Yv-E",form:"AddProjectMember_form__25ZT2","current-members":"AddProjectMember_current-members__24r6z","admins-container":"AddProjectMember_admins-container__1B9Ro",admins:"AddProjectMember_admins__17_bM","big-container":"AddProjectMember_big-container__3NFuQ","members-container":"AddProjectMember_members-container__36xCp",title:"AddProjectMember_title__3Sqes","select-for-invite":"AddProjectMember_select-for-invite__3sFhG",members:"AddProjectMember_members__3NmI1","member-select":"AddProjectMember_member-select__3rsJu","add-button":"AddProjectMember_add-button__1ASmv",draggable:"AddProjectMember_draggable__3_zby",droppable:"AddProjectMember_droppable__21y0a","droppable-members":"AddProjectMember_droppable-members__qZCTH","input-container":"AddProjectMember_input-container__22Seg","text-invite":"AddProjectMember_text-invite__2PZAa","invite-input":"AddProjectMember_invite-input__2USeg","members-input":"AddProjectMember_members-input__1AohK",user:"AddProjectMember_user__1z2g4",email:"AddProjectMember_email__1wPCc"}},29:function(e,t,n){e.exports={container:"GetStarted_container__2H_7b",title:"GetStarted_title__TgCLw",paragraph:"GetStarted_paragraph__1CUHy","logo-div":"GetStarted_logo-div__1-6bQ",logo:"GetStarted_logo__LHiNS","pic-div":"GetStarted_pic-div__1Jy4O","navigate-buttons":"GetStarted_navigate-buttons__bbFe8",pic:"GetStarted_pic__3Ntuu",pic3:"GetStarted_pic3__GgMVL",greeting:"GetStarted_greeting__aNbMS"}},32:function(e,t,n){e.exports={container:"CreateTeam_container__2WhLz",form:"CreateTeam_form__24Mfc",title:"CreateTeam_title__1PJSO","input-container":"CreateTeam_input-container__2KxsA","input-name":"CreateTeam_input-name__1aoJu","input-container-descr":"CreateTeam_input-container-descr__Ub7xw","input-container-members":"CreateTeam_input-container-members__2ykPg","description-text":"CreateTeam_description-text__2gAfb","text-area-descr":"CreateTeam_text-area-descr__1bd9_","members-text":"CreateTeam_members-text__1r2Kf","input-members":"CreateTeam_input-members__2RQGG","button-div":"CreateTeam_button-div__1biFv","create-button":"CreateTeam_create-button__-2tDq","members-avatars":"CreateTeam_members-avatars__17gAf","invite-input":"CreateTeam_invite-input__h19QP","select-for-invite":"CreateTeam_select-for-invite__nSIlB","members-pop-up":"CreateTeam_members-pop-up__1CTGn",members:"CreateTeam_members__1ErPS",user:"CreateTeam_user__2cHWm",email:"CreateTeam_email__1DwA8"}},33:function(e,t,n){e.exports={container:"FormForgotPassword_container__1NEtt",alerts:"FormForgotPassword_alerts__28_6E","inner-container":"FormForgotPassword_inner-container__1oKG5",logo:"FormForgotPassword_logo__3W4yw","right-side":"FormForgotPassword_right-side__1Q0k3",title:"FormForgotPassword_title__U05Qo","input-container":"FormForgotPassword_input-container__5c-Sk",emailInput:"FormForgotPassword_emailInput__3vKfR",passInput:"FormForgotPassword_passInput__1W_mV",loginButton:"FormForgotPassword_loginButton__-Fujb",buttonDivLogin:"FormForgotPassword_buttonDivLogin__xk6yS",textDiv:"FormForgotPassword_textDiv__1a0R_",buttonDivGoogleLogin:"FormForgotPassword_buttonDivGoogleLogin__2IzTS",forgotPass:"FormForgotPassword_forgotPass__2RBW2",newToSmM:"FormForgotPassword_newToSmM__2tAK-",signUpBtn:"FormForgotPassword_signUpBtn__381qn",googleLoginBtn:"FormForgotPassword_googleLoginBtn__2TldA"}},35:function(e,t,n){e.exports={container:"LoginForm_container__3mSDm",alerts:"LoginForm_alerts__3oX4D","inner-container":"LoginForm_inner-container__2sUKy",logo:"LoginForm_logo__3hg3V","right-side":"LoginForm_right-side__3C-eo",title:"LoginForm_title__3njFN","input-container":"LoginForm_input-container__2m6Dv","email-input":"LoginForm_email-input__1_iak","pass-input":"LoginForm_pass-input__24yg5","login-button":"LoginForm_login-button__3pm-s","button-div-login":"LoginForm_button-div-login__2im8C","text-div":"LoginForm_text-div__1i1zE","button-div-google-login":"LoginForm_button-div-google-login__1zFxo","forgot-pass":"LoginForm_forgot-pass__2GUJp","new-to-sm":"LoginForm_new-to-sm__1eNbD","sign-up-btn":"LoginForm_sign-up-btn__OvfKJ","google-login-btn":"LoginForm_google-login-btn__HJ--x"}},351:function(e,t,n){e.exports={clean:"ButtonClean_clean__MmpNi"}},353:function(e,t,n){e.exports={"profile-picture":"AvatarUser_profile-picture__BQ0ww"}},356:function(e,t,n){e.exports={button:"ButtonGrey_button__22yhy"}},357:function(e,t,n){e.exports={link:"Link_link__2v7Ip"}},358:function(e,t,n){e.exports={transparent:"Transparent_transparent__3eLJT"}},36:function(e,t,n){e.exports={container:"CreateProject_container__3yvf3",title:"CreateProject_title__p1t6m","input-container":"CreateProject_input-container__-X6Hn","input-name":"CreateProject_input-name__3d2jC","invite-input":"CreateProject_invite-input__1aTwm","select-for-invite":"CreateProject_select-for-invite__1pqBV","members-input":"CreateProject_members-input__3L2Zm","input-container-descr":"CreateProject_input-container-descr__3uWP2","text-area-descr":"CreateProject_text-area-descr__1p4fI","text-invite":"CreateProject_text-invite__JdBCK","button-div":"CreateProject_button-div__3eNE3","create-button":"CreateProject_create-button__6x5pZ","members-avatars":"CreateProject_members-avatars__2s-RG",members:"CreateProject_members__2wR8K",user:"CreateProject_user__sHVQv",email:"CreateProject_email__lk9sz"}},360:function(e,t,n){e.exports={link:"LinkTitle_link__3986T"}},361:function(e,t,n){e.exports={clean:"ButtonCleanTitle_clean__3CTSX"}},362:function(e,t,n){e.exports={title:"Title_title__31TWB"}},363:function(e,t,n){e.exports={button:"ButtonGreyTitle_button__19TJ_"}},364:function(e,t,n){e.exports={alert:"Alert_alert__Wb40V"}},365:function(e,t,n){e.exports={title:"Inbox_title__2V72A"}},37:function(e,t,n){e.exports={container:"Confirmation_container__1twF0",logo:"Confirmation_logo__1cPi0",title:"Confirmation_title__2GTN6",text:"Confirmation_text__1c54f",cheers:"Confirmation_cheers__3-74p",team:"Confirmation_team__2Ws9D","proceed-button":"Confirmation_proceed-button__2BlXN"}},372:function(e,t,n){e.exports={button:"Button_button__3Y-q5"}},38:function(e,t,n){e.exports={aside:"Aside_aside__2Njbe",container:"Aside_container__2dzBw",button:"Aside_button__djeVy",logo:"Aside_logo__2fhgX","top-left":"Aside_top-left__OTH7h",menu:"Aside_menu__2LcGf","top-right":"Aside_top-right__2oRKj",link:"Aside_link__3_X5_","bottom-right":"Aside_bottom-right__8HfKT",bell:"Aside_bell__21fDz",hamburger:"Aside_hamburger__3YfcW",settings:"Aside_settings__1GECq"}},39:function(e,t,n){e.exports={container:"EditCard_container__36pBB","task-name":"EditCard_task-name__3HFFc","name-input":"EditCard_name-input__296eI","task-body":"EditCard_task-body__MN9SU",text:"EditCard_text__3svz-","left-side":"EditCard_left-side__1VJBW","right-side":"EditCard_right-side__24WUw","task-component":"EditCard_task-component__edf0Y","description-input":"EditCard_description-input__3QJ0k","small-buttons":"EditCard_small-buttons__1sxed",pics:"EditCard_pics__RNsxt"}},403:function(e,t,n){},41:function(e,t,n){e.exports={container:"FormAddPassword_container__kt31_",alerts:"FormAddPassword_alerts__26Enm","inner-container":"FormAddPassword_inner-container__2lYc6",logo:"FormAddPassword_logo__3hGrj","right-side":"FormAddPassword_right-side__3Vb4J",title:"FormAddPassword_title__1yoyV","input-container":"FormAddPassword_input-container__eszIy","pass-instructions":"FormAddPassword_pass-instructions__3wv_r","pass-input":"FormAddPassword_pass-input__1RvQT","login-button":"FormAddPassword_login-button__7QZcK","button-div-login":"FormAddPassword_button-div-login__n04Yh","text-login":"FormAddPassword_text-login__2FLj3","new-pass-alert":"FormAddPassword_new-pass-alert__2lx9N"}},42:function(e,t,n){e.exports={list:"List_list__3CC1i",row:"List_row___HUu9",button:"List_button__2JdEh",dots:"List_dots__3SLCm",menu:"List_menu__2iEVJ",edit:"List_edit__2VO84",delete:"List_delete__1xG6l",relative:"List_relative__3HUD3","add-task":"List_add-task__wgmyp",draggable:"List_draggable__1DaL5",droppable:"List_droppable__rjf6A",flexend:"List_flexend__N6Zvp",name:"List_name__2pQkI",container:"List_container__5oCG3",input:"List_input__3M02c","task-input":"List_task-input__1X9Zo"}},45:function(e,t,n){e.exports={container:"Home_container__1xEq7","pic-container":"Home_pic-container__3V468",pic1:"Home_pic1__1KI5l","welcome-user":"Home_welcome-user__3PicL","left-buttons":"Home_left-buttons__18tIE","right-buttons":"Home_right-buttons__1WbYz","my-teams-container":"Home_my-teams-container__3vSsH","teams-home":"Home_teams-home__3znif","select-team-container":"Home_select-team-container__1xTnE","navigate-buttons":"Home_navigate-buttons__1vBH_","navigate-buttons-teams":"Home_navigate-buttons-teams__1O_HP"}},52:function(e,t,n){e.exports={form:"EditProject_form__2Zerv",title:"EditProject_title__1us1P","buttons-div":"EditProject_buttons-div__3Yg3P","navigate-buttons":"EditProject_navigate-buttons__1t3PE","input-container":"EditProject_input-container__2IfEj","input-pr-name":"EditProject_input-pr-name__1c4Fa","input-container-descr":"EditProject_input-container-descr__Iroze","text-area-descr":"EditProject_text-area-descr__1LiJL","edit-members":"EditProject_edit-members__XwwXs"}},53:function(e,t,n){e.exports={container:"Team_container__1NMEF",title:"Team_title__20bpO","left-side":"Team_left-side__7jKvf","right-side":"Team_right-side__3QAvM","right-side-team":"Team_right-side-team__2EGTD",pic1:"Team_pic1__UX0Pc","button-div":"Team_button-div__2OcBw","new-project-button":"Team_new-project-button__10WVc",picture:"Team_picture__PQLrx"}},56:function(e,t,n){e.exports={card:"MyTasksTask_card__7SxjV",task:"MyTasksTask_task__3jiD9",progress:"MyTasksTask_progress__1_nbW",days:"MyTasksTask_days__PYXHu",deadline:"MyTasksTask_deadline__1snIh","buttons-container":"MyTasksTask_buttons-container__1QSJP",button:"MyTasksTask_button__2kM0-",input:"MyTasksTask_input__O7BKr","bad-input":"MyTasksTask_bad-input__3Fw81","no-border":"MyTasksTask_no-border__2hPaR",edit:"MyTasksTask_edit__1SH_h"}},60:function(e,t,n){e.exports={container:"EditList_container__1b94R","input-container":"EditList_input-container__36jfK",name:"EditList_name__2Hhat","name-input":"EditList_name-input__1gg6i","change-color":"EditList_change-color__3EZry","color-title":"EditList_color-title__3pzlD","color-pick":"EditList_color-pick__LMc5r","color-button":"EditList_color-button__3CEZF","edit-list-button":"EditList_edit-list-button__1k-qo",text:"EditList_text__CXAIj"}},61:function(e,t,n){e.exports={container:"TableDateNavigation_container__D9yFh",navigateButtons:"TableDateNavigation_navigateButtons__2HbT1",picContainer:"TableDateNavigation_picContainer__X886T",centeredText:"TableDateNavigation_centeredText__2gWZk"}},662:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(79),i=n.n(c),o=n(14),l=n(3),u=n(87),d=n.n(u),j=n(25),b=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null};var m=function(e){return{username:e.user.username,id:e.user._id,teams:e.teams,inbox:e.user.inbox,confirmed:e.user.confirmed,newPasswordConfirmed:e.user.newPasswordConfirmed,recentProjects:e.user.recentProjects,image:e.user.image,lastTeamSelected:e.user.lastTeamSelected}},p=s.a.createContext({user:null,logIn:function(){},logOut:function(){}}),h=function(e){var t=Object(r.useState)(null),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(!0),u=Object(l.a)(i,2),h=u[0],O=u[1],f=Object(j.g)(),x=function(e){c(Object(o.a)(Object(o.a)({},e),{},{loggedIn:!0}))},_=Object(r.useCallback)((function(){var e=b("x-auth-token");fetch("/api/user/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){e.ok?(document.cookie="x-auth-token= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/;",c({loggedIn:!1})):f.push("/error")}))}),[f]),v=Object(r.useCallback)((function(){var e=b("x-auth-token");if(!e)return c({loggedIn:!1}),void O(!1);fetch("/api/user/verify",{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){return e.json()})).then((function(e){e.status?x(m(e)):_(),O(!1)}))}),[_]);return Object(r.useEffect)((function(){v()}),[v]),h?Object(a.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3}):Object(a.jsx)(p.Provider,{value:{user:s,setUser:c,logIn:x,logOut:_},children:e.children})},O=function(e){return Object(a.jsx)(h,{children:e.children})},f=(n(403),n(13)),x=n(17),_=n(4),v=n.n(_),g=n(7),N=n(32),k=n.n(N),C=s.a.createContext({teams:[],setTeams:function(){},selectedTeam:"Select",setSelectedTeam:function(){},getCurrentTeam:function(){},currentTeam:"",setCurrentTeam:function(){},getTeams:function(){}}),w=n(351),y=n.n(w),T=function(e){var t=e.title,n=e.onClick,r=e.type,s=e.className,c=e.children,i=e.style;return Object(a.jsxs)("button",{type:r||"button",onClick:n,className:"".concat(y.a.clean," ").concat(s),style:i,children:[t,c]})},S=n(352),P=n.n(S),D=s.a.createContext();function F(){return Object(r.useContext)(D)}function I(e){var t=e.user,n=e.children,s=Object(r.useState)(),c=Object(l.a)(s,2),i=c[0],o=c[1],u=window.location.href.includes("heroku")?"/":"http://localhost:4000";return Object(r.useEffect)((function(){if(t&&t.teams){var e=t.username,n=t.id,a=Object(x.a)(t.teams).map((function(e){return e._id})),r=JSON.stringify(a),s=P()(u,{query:{teamsStr:r,username:e,userId:n},transports:["websocket"]});return o(s),function(){return s.close()}}}),[t,u]),Object(a.jsx)(D.Provider,{value:i,children:n})}var E=n(353),A=n.n(E),L=n(239),M=n.n(L),H=n(240),W=n.n(H),B=n(180);function z(e){var t=e.user,n=e.onClick,r=e.className,s=e.size;return t.image?Object(a.jsx)(M.a,{publicId:t.image.publicId,onClick:n,className:"".concat(A.a["profile-picture"]," ").concat(r),title:t.username,children:Object(a.jsx)(W.a,{width:s,height:s,gravity:"faces",crop:"fill"})}):Object(a.jsx)(B.a,{className:r,onClick:n,name:t.username,size:s,round:!0,maxInitials:2})}var U=n(356),R=n.n(U),J=function(e){var t=e.title,n=e.onClick,r=e.className;return Object(a.jsx)("button",{onClick:n,className:"".concat(R.a.button," ").concat(r),children:t})};function G(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(""),h=Object(l.a)(m,2),O=h[0],f=h[1],_=Object(r.useState)([]),N=Object(l.a)(_,2),w=N[0],y=N[1],S=Object(r.useState)(!1),P=Object(l.a)(S,2),D=P[0],I=P[1],E=Object(r.useState)([]),A=Object(l.a)(E,2),L=A[0],M=A[1],H=Object(j.g)(),W=Object(r.useContext)(C),B=Object(r.useContext)(p),U=F(),R=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(t.target.value),I(!1),0!==L.length){e.next=12;break}return n=b("x-auth-token"),e.next=6,fetch("/api/user/get-all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(a=e.sent).ok||H.push("/error"),e.next=10,a.json();case 10:r=e.sent,M(r);case 12:O.length>=2&&I(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var t=Object(g.a)(v.a.mark((function t(n){var a,r,c,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==s){t.next=3;break}return t.abrupt("return");case 3:return a=b("x-auth-token"),t.next=6,fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({name:s,description:u,requests:w})});case 6:if((r=t.sent).ok){t.next=12;break}return H.push("/error"),t.abrupt("return");case 12:return t.next=14,r.json();case 14:c=t.sent,(i=Object(x.a)(W.teams)).push(c),W.setTeams(i),W.setSelectedTeam(c.name),e.hideForm(),U.emit("team-update",c._id),U.emit("multiple-messages-sent",w),H.push("/team/".concat(c._id));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:k.a.container,children:[Object(a.jsx)("div",{className:k.a.title,children:"Create New Team"}),Object(a.jsxs)("div",{className:k.a["input-container"],children:[Object(a.jsx)("span",{children:" Name"}),Object(a.jsx)("input",{className:k.a["input-name"],value:s,onChange:function(e){return c(e.target.value)},label:"Name",id:"name",placeholder:"Team Name",autocomplete:"off"})]}),Object(a.jsxs)("div",{className:k.a["input-container-descr"],children:[Object(a.jsx)("span",{className:k.a["description-text"],children:" Description"}),Object(a.jsx)("textarea",{className:k.a["text-area-descr"],value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description",placeholder:"Team Description",spellCheck:"false"})]}),Object(a.jsxs)("div",{className:k.a["input-container-members"],children:[Object(a.jsx)("span",{className:k.a["members-text"],children:" Invite Members"}),Object(a.jsxs)("div",{className:k.a["invite-input"],children:[Object(a.jsx)("input",{className:k.a["input-members"],autoComplete:"off",value:O,onChange:R,label:"Invite members",id:"members",placeholder:"username",onBlur:function(){setTimeout((function(){return I(!1)}),120)}}),Object(a.jsx)("div",{className:k.a["select-for-invite"],children:D&&Object(a.jsx)("div",{className:k.a["members-pop-up"],children:Object(a.jsx)("div",{className:k.a.members,children:L.filter((function(e){return e.username.toLowerCase().includes(O.toLowerCase())&&!e.username.includes(B.user.username)})).filter((function(e){return!w.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(a.jsx)(T,{className:k.a.user,onClick:function(){return function(e){var t=Object(x.a)(w);t.push(e),y(t),I(!1),f("")}(e)},title:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.username}),Object(a.jsx)("div",{className:k.a.email,children:e.email})]})},e._id)}))})})})]})]}),Object(a.jsx)("div",{className:k.a["members-avatars"],children:w.map((function(e){return Object(a.jsx)(T,{onClick:function(){return function(e){var t=w.filter((function(t){return t._id!==e._id}));y(t)}(e)},title:Object(a.jsx)(z,{user:e,size:40})})}))}),Object(a.jsx)("div",{className:k.a["button-div"],children:Object(a.jsx)(J,{onClick:function(e){return G(e)},title:"Create",className:k.a["create-button"]})})]})}var Y=n(357),V=n.n(Y),K=function(e){var t=e.title,n=e.href,r=e.className,s=e.onClick;return Object(a.jsx)(f.b,{to:n,className:"".concat(V.a.link," ").concat(r),onClick:s,children:t})},q=n(38),X=n.n(q),Q=n.p+"static/media/logo.11e90948.svg",Z=n.p+"static/media/menu.c7591865.svg",$=n.p+"static/media/home.f4ff998e.svg",ee=n.p+"static/media/tasks.3208aed2.svg",te=n.p+"static/media/inbox.c6537480.svg",ne=n.p+"static/media/inbox-bell.7f4fc855.svg",ae=n.p+"static/media/project-info.eb151f7e.svg",re=s.a.createContext({lists:[],setLists:function(){},hiddenLists:[],setHiddenLists:function(){},project:{},setProject:function(){}}),se=n(250),ce=n.n(se);function ie(e){var t=e.color,n=e.type;return"aside"===n?Object(a.jsx)("svg",{className:"".concat(ce.a[n]),xmlns:"http://www.w3.org/2000/svg",width:"110",height:"26.931",viewBox:"0 0 110 26.931",children:Object(a.jsx)("g",{id:"Layer_2","data-name":"Layer 2",transform:"translate(0.002 0.014)",children:Object(a.jsx)("g",{id:"Layer_1","data-name":"Layer 1",transform:"translate(-0.002 -0.014)",children:Object(a.jsx)("path",{id:"Path_60","data-name":"Path 60",d:"M4.208,22.578l-.277-.26c-.594-.366-.814-1.074-1.351-1.49-1-.749-1.14-2.214-2.352-2.784a1.237,1.237,0,0,1-.187-.391,1.628,1.628,0,0,1,.554-1.628,5.636,5.636,0,0,1,3.1-.456,6.862,6.862,0,0,0,1.083,0,.733.733,0,0,0,.765-.765c.049-.48-.057-.814-.586-.871a1.628,1.628,0,0,1-.513-.163c-.92-.456-.961-1.083-.106-1.7a3.256,3.256,0,0,0,.545-.448,1.27,1.27,0,0,1,.659-.383c.667-.244,1.538.3,2.027-.545a.651.651,0,0,0-.244-.374,6.894,6.894,0,0,1-.659-.554,1.278,1.278,0,0,1-.415-.814A1.9,1.9,0,0,0,5.022,6.933C4.2,6.509,3.6,5.891,4.411,4.881c2.263-1.628,4.933-1.937,7.57-2.328,1.27-.309,2.589-.187,3.858-.48a4.811,4.811,0,0,1,1.449-.09c.643.073,1.254.317,1.921-.147a2.011,2.011,0,0,1,1.718-.106,2.808,2.808,0,0,0,2.32-.2,3.394,3.394,0,0,1,2.2.122c1.628-.6,3.313-.391,4.957-.667.765-.147,1.563-.114,2.328-.3a8.873,8.873,0,0,1,3.557.13.252.252,0,0,0,.269,0A2.914,2.914,0,0,1,39.885.73h.277A2.182,2.182,0,0,1,42.075.307a22.922,22.922,0,0,0,3.883.057A34.326,34.326,0,0,0,56.165.2,1.75,1.75,0,0,1,57.85.51h.277C59.136-.3,60.276.054,61.383.128a28.856,28.856,0,0,0,4.436.26,8.669,8.669,0,0,1,2.751,0c1.188.317,2.442,0,3.606.244A22.083,22.083,0,0,0,75.7.917l.464.041a16.752,16.752,0,0,0,3.191.228h.464c1.083.057,2.157.285,3.256.269,1.351,0,2.678.3,4.021.309.814.171,1.685.2,2.523.334.545.269,1.254.065,1.709.578a4.746,4.746,0,0,0,1.9.309,26.545,26.545,0,0,1,4.548.392c1.166.211,2.347.235,3.527.333,1.091.3,2.271,0,3.329.5,1.408,0,2.825,0,4.241.081.3,0,.716.1.676.513s-.374.586-.814.383c-1.034-.09-2.059-.155-2.523,1.083-.317.814-.961.562-1.555.488-.537.228-1.14.147-1.677.358a5.576,5.576,0,0,1-.814.106,20.26,20.26,0,0,0-4.591.765c.814.676,1.245,1.555,2.255,1.758a1.934,1.934,0,0,1,1.424.334c-.057,1.026-.936.586-1.449.814a.578.578,0,0,1-.383-.065.057.057,0,0,0,0,.057h3.972a1.042,1.042,0,0,1,.92.448c-.244.814-1.058.521-1.587.814-.407.212-1.156.187-.545.961a4.613,4.613,0,0,0,.391.407,11.928,11.928,0,0,0,3,.155,5.421,5.421,0,0,1,.961,0c.814.147,1.058.44.407,1.156-1.074,1.188-2.442,2.165-3.012,3.769,1.742,0,3.565.041,5.389,0,.863.4.879.92.236,1.547a1.148,1.148,0,0,0-.3.814c.114.35.073.733.212,1.074.562,1.384.5,1.547-.863,2.068a13.569,13.569,0,0,1-2.637.814c-1.571.049-3.118.521-4.7.309-1.628-.554-3.329.212-4.99-.081a9.589,9.589,0,0,0-4.884.147,2.816,2.816,0,0,1-2.076.488H79.771a5.739,5.739,0,0,0-1.9.179,10.631,10.631,0,0,1-1.831.1c-4.485,0-8.954.081-13.455,0a4.933,4.933,0,0,0-1.758.187,9.247,9.247,0,0,1-2.507.106h-.529a28.6,28.6,0,0,1-3.126,0h-.48a6.137,6.137,0,0,1-1.726-.1,11.209,11.209,0,0,0-3.533-.2c-2.222.065-4.461-.106-6.675.163a6.658,6.658,0,0,1-1.929.081,4.168,4.168,0,0,1-.456,0c-1.286,0-2.572.106-3.858.049a12.474,12.474,0,0,0-3.394,0c-1.319.2-2.67-.138-3.98.187a16.768,16.768,0,0,1-2.556.236c-1.368-.366-2.711.342-4.07.106a2.133,2.133,0,0,1-.456-.073,9.475,9.475,0,0,0-2.711-.179c-1.213-.09-2.442-.236-3.63-.342a9.377,9.377,0,0,0-1.058-.228,17.6,17.6,0,0,0-2.068-.114c-1.335-.472-2.768-.22-4.119-.521a.969.969,0,0,1-.684-.814l-.594-.537c-.244-.236-.627-.26-.814-.529l-.529-.342A1.913,1.913,0,0,1,4.208,22.578Z",transform:"translate(0.002 0.014)",fill:t})})})}):"list"===n?Object(a.jsx)("svg",{className:"".concat(ce.a[n]),xmlns:"http://www.w3.org/2000/svg",width:"267.316",height:"26.931",viewBox:"0 0 267.316 26.931",children:Object(a.jsx)("path",{id:"Path_60","data-name":"Path 60",d:"M10.229,22.578l-.673-.26c-1.444-.366-1.978-1.074-3.284-1.49C3.84,20.079,3.5,18.614.556,18.044A1.347,1.347,0,0,1,.1,17.653c-.341-.6.18-1.235,1.345-1.628,2.334-.61,4.985-.431,7.537-.456.876.029,1.755.029,2.631,0a3.5,3.5,0,0,0,1.34-.214c.354-.146.542-.346.52-.551.119-.48-.138-.814-1.424-.871A8.487,8.487,0,0,1,10.8,13.77c-2.235-.456-2.334-1.083-.257-1.7a10.411,10.411,0,0,0,1.325-.448,5.16,5.16,0,0,1,1.6-.383c1.622-.244,3.739.3,4.926-.545a1.011,1.011,0,0,0-.593-.374q-.842-.256-1.6-.554c-.569-.211-.928-.5-1.009-.814.269-.877-.97-1.715-2.987-2.019-2-.423-3.462-1.042-1.484-2.051,5.5-1.628,11.987-1.937,18.4-2.328,3.086-.309,6.29-.187,9.376-.48a28.141,28.141,0,0,1,3.521-.09,13.688,13.688,0,0,0,4.668-.147,11.345,11.345,0,0,1,4.174-.106,15.811,15.811,0,0,0,5.638-.2,19.52,19.52,0,0,1,5.341.122c3.956-.6,8.051-.391,12.047-.667,1.859-.147,3.8-.114,5.657-.3a51.868,51.868,0,0,1,8.644.13,1.4,1.4,0,0,0,.653,0A15.916,15.916,0,0,1,96.93.73H97.6a11.592,11.592,0,0,1,4.649-.423c3.136.129,6.292.148,9.436.057A201.717,201.717,0,0,0,136.493.2a9.383,9.383,0,0,1,4.095.309h.673c2.453-.814,5.222-.456,7.913-.383,3.572.2,7.176.288,10.781.26a50.926,50.926,0,0,1,6.686,0c2.888.317,5.934,0,8.763.244,2.832.189,5.7.284,8.565.285L185.1.958c2.561.178,5.158.254,7.754.228h1.128c2.631.057,5.242.285,7.913.269,3.284,0,6.508.3,9.772.309,1.978.171,4.095.2,6.132.334,1.325.269,3.046.065,4.154.578a26.89,26.89,0,0,0,4.609.309c3.714,0,7.407.131,11.052.392,2.834.211,5.7.235,8.571.333,2.651.3,5.519,0,8.091.5,3.422,0,6.864,0,10.306.081.732,0,1.741.1,1.642.513s-.91.586-1.978.383c-2.512-.09-5-.155-6.132,1.083-.771.814-2.334.562-3.778.488-1.306.228-2.769.147-4.075.358-.652.055-1.313.091-1.978.106-3.778.078-7.522.335-11.157.765,1.978.676,3.027,1.555,5.479,1.758a10.354,10.354,0,0,1,3.462.334c-.138,1.026-2.275.586-3.521.814a3.213,3.213,0,0,1-.93-.065.031.031,0,0,0,0,.057h9.653a4.468,4.468,0,0,1,2.235.448c-.593.814-2.572.521-3.857.814-.989.212-2.809.187-1.325.961q.444.215.949.407a69.98,69.98,0,0,0,7.28.155c.777-.028,1.558-.028,2.334,0,1.978.147,2.572.44.989,1.156-2.611,1.188-5.934,2.165-7.319,3.769,4.233,0,8.664.041,13.1,0,2.1.4,2.136.92.574,1.547-.493.221-.756.514-.732.814.277.35.178.733.514,1.074,1.365,1.384,1.207,1.547-2.1,2.068-2.064.36-4.211.633-6.409.814-3.818.049-7.576.521-11.434.309-3.956-.554-8.091.212-12.126-.081a55.789,55.789,0,0,0-11.869.147,15.064,15.064,0,0,1-5.044.488H193.858a33.325,33.325,0,0,0-4.609.179c-1.474.085-2.963.118-4.451.1-10.9,0-21.759.081-32.7,0a28.531,28.531,0,0,0-4.273.187,54.277,54.277,0,0,1-6.093.106h-1.286q-3.8.085-7.6,0h-1.167a35.951,35.951,0,0,1-4.194-.1,65.578,65.578,0,0,0-8.585-.2c-5.4.065-10.84-.106-16.221.163A39.063,39.063,0,0,1,98,26.289q-.553.012-1.108,0c-3.125,0-6.251.106-9.376.049a73.383,73.383,0,0,0-8.249,0c-3.2.2-6.488-.138-9.673.187-2.053.144-4.129.223-6.211.236-3.323-.366-6.587.342-9.891.106-.375-.008-.746-.032-1.108-.073a55.413,55.413,0,0,0-6.587-.179c-2.947-.09-5.934-.236-8.822-.342q-1.269-.144-2.572-.228c-1.668-.079-3.346-.117-5.024-.114-3.244-.472-6.726-.22-10.009-.521-.9-.111-1.551-.431-1.662-.814l-1.444-.537c-.593-.236-1.523-.26-1.978-.529L13,23.188A8.056,8.056,0,0,1,10.229,22.578Z",transform:"translate(0.002 0.014)",fill:t})}):void 0}var oe=n(184),le=n.n(oe),ue=function(e){var t=e.list,n=e.type,s=Object(r.useContext)(re);return Object(a.jsxs)("button",{onClick:function(){var e=Object(x.a)(s.hiddenLists);if(e.includes(t._id)){var n=e.indexOf(t._id);e.splice(n,1)}else e.push(t._id);s.setHiddenLists(e)},className:"".concat(le.a.submit," ").concat(s.hiddenLists.includes(t._id)&&le.a.opacity),children:[Object(a.jsx)(ie,{color:t.color||"#A6A48E",type:n}),Object(a.jsx)("div",{className:le.a.name,title:t.name,children:t.name})]})},de=n(358),je=n.n(de),be=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{onClick:e.hideForm,className:je.a.transparent}),e.children]})},me=n(52),pe=n.n(me),he=(n(127),n(26)),Oe=n.n(he),fe=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){var t=function(t){null===e.current||e.current.contains(t.target)||s(!a)};return a&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}),[a,e]),[a,s]},xe=n(51),_e=n(80),ve=n.n(_e),ge=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:ve.a["transparent-confirm"]}),Object(a.jsx)("div",{className:ve.a.container,children:Object(a.jsxs)("div",{className:ve.a.content,children:[Object(a.jsx)("div",{className:ve.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"194",height:"142"})}),Object(a.jsx)("div",{className:ve.a.title,children:"Are you sure you want to ".concat(e.title,"?")}),Object(a.jsxs)("div",{className:ve.a.buttons,children:[Object(a.jsx)(J,{className:ve.a.button,title:"Yes",onClick:function(){e.hideConfirm(),e.onConfirm()}}),Object(a.jsx)(J,{className:ve.a.button,title:"No",onClick:function(){return e.hideConfirm()}})]})]})})]})},Ne="/api/projects";function ke(e){var t=F(),n=Object(r.useState)([]),s=Object(l.a)(n,2),c=s[0],i=s[1],u=Object(r.useContext)(p),d=Object(r.useContext)(C),m=Object(r.useRef)(null),h=fe(m),O=Object(l.a)(h,2),f=O[0],_=O[1],N=Object(r.useState)(!1),k=Object(l.a)(N,2),w=k[0],y=k[1],S=Object(r.useState)(""),P=Object(l.a)(S,2),D=P[0],I=P[1],E=Object(r.useState)(e.project.membersRoles),A=Object(l.a)(E,2),L=A[0],M=A[1],H=e.admin,W=Object(j.g)(),B=e.project._id,U=Object(j.h)(),R=Object(r.useState)(!1),J=Object(l.a)(R,2),G=J[0],Y=J[1],V=Object(r.useState)(""),K=Object(l.a)(V,2),q=K[0],X=K[1],Q=Object(r.useState)(""),Z=Object(l.a)(Q,2),$=Z[0],ee=Z[1],te=function(){var e=Object(j.g)(),t=b("x-auth-token"),n=function(){return{"Content-Type":"application/json",Authorization:t}};return{changeUserRole:function(){var t=Object(g.a)(v.a.mark((function t(a,r,s){var c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Ne,"/").concat(a,"/user-roles"),{method:"PUT",headers:n(),body:JSON.stringify({userRole:r,isAdmin:!s})});case 2:if((c=t.sent).ok){t.next=6;break}return e.push("/error"),t.abrupt("return");case 6:return t.next=8,c.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),removeProjectMember:function(){var t=Object(g.a)(v.a.mark((function t(a,r){var s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Ne,"/").concat(a,"/user-remove"),{method:"POST",headers:n(),body:JSON.stringify({memberId:r})});case 2:if((s=t.sent).ok){t.next=6;break}return e.push("/error"),t.abrupt("return");case 6:return t.next=8,s.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}(),ne=te.changeUserRole,ae=te.removeProjectMember,re=Object(r.useCallback)((function(){t.emit("project-update",e.project),t.emit("team-update",U.teamid)}),[t,e,U.teamid]);function se(){return(se=Object(g.a)(v.a.mark((function e(t){var n,a,r,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=3;break}return console.log("no destination"),e.abrupt("return");case 3:if(n=t.draggableId,L.filter((function(e){return e._id===n}))[0].memberId._id!==u.user.id){e.next=8;break}return console.log("can`t move self"),e.abrupt("return");case 8:if(a=L.filter((function(e){return e._id===n}))[0].admin,"admins"!==t.destination.droppableId||!a){e.next=11;break}return e.abrupt("return");case 11:if("members"!==t.destination.droppableId||a){e.next=13;break}return e.abrupt("return");case 13:return r=Object(x.a)(L),s=r.filter((function(e){return e._id!==n})),(c=L.filter((function(e){return e._id===n}))[0]).admin=!a,s.push(c),M(s),e.next=21,ne(B,n,a);case 21:re();case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=function(){var t=Object(g.a)(v.a.mark((function t(n){var a,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._id!==u.user.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,ae(e.project._id,n._id);case 4:re(),a=Object(x.a)(L),r=a.filter((function(e){return e.memberId._id!==n._id})),M(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ie=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return _(!f),e.abrupt("return");case 3:return n=b("x-auth-token"),e.next=6,fetch("/api/projects/".concat(B,"/user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({member:t,admin:!1})});case 6:if((a=e.sent).ok){e.next=11;break}W.push("/error"),e.next=21;break;case 11:return e.next=13,a.json();case 13:r=e.sent,re(),r.memberId=t,_(!f),(s=Object(x.a)(L)).push(r),M(s),i([]);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a,r,s,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c.length){e.next=14;break}return t="",d.teams.map((function(e){return e.projects.map((function(n){return n._id===B&&(t=e._id),t}))})),n=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(a=e.sent).ok||W.push("/error"),e.next=10,a.json();case 10:r=e.sent,s=r.members,o=s.filter((function(e){return!L.find((function(t){return t.memberId.username===e.username}))})),i(o);case 14:y(!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le={"delete this member":ce};return Object(a.jsxs)("div",{className:Oe.a.container,children:[G&&Object(a.jsx)(ge,{title:q,hideConfirm:function(){return Y(!1)},onConfirm:function(){return le[q]($)}}),Object(a.jsx)("div",{className:Oe.a["big-container"],children:H?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:Oe.a["input-container"],children:[Object(a.jsx)("span",{className:Oe.a["text-invite"],children:"Add Members"}),Object(a.jsxs)("div",{className:Oe.a["invite-input"],children:[Object(a.jsx)("input",{className:Oe.a["members-input"],autoComplete:"off",value:D,onFocus:oe,onBlur:function(){setTimeout((function(){return y(!1)}),120)},onChange:function(e){return I(e.target.value)},label:"Invite members",id:"members",placeholder:"Teammate Username"}),Object(a.jsx)("div",{className:Oe.a["select-for-invite"],children:w&&Object(a.jsx)("div",{className:Oe.a.members,children:c.filter((function(e){return e.username.toLowerCase().includes(D.toLowerCase())&&!e.username.includes(u.user.username)})).filter((function(e){return!L.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(a.jsx)(T,{className:Oe.a.user,onClick:function(){ie(e)},title:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.username}),Object(a.jsx)("div",{className:Oe.a.email,children:e.email})]})},e._id)}))})})]})]}),Object(a.jsxs)(xe.a,{onDragEnd:function(e){return se.apply(this,arguments)},children:[Object(a.jsxs)("div",{className:Oe.a["admins-container"],children:[Object(a.jsx)("span",{className:Oe.a.title,children:"Admins:"}),Object(a.jsx)(xe.c,{droppableId:"admins",children:function(e){return Object(a.jsxs)("div",Object(o.a)(Object(o.a)({className:Oe.a.droppable,ref:e.innerRef},e.droppableProps),{},{children:[L.filter((function(e){return!0===e.admin})).map((function(e,t){return Object(a.jsx)(xe.b,{draggableId:e._id,index:t,children:function(t){return Object(a.jsxs)("span",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:[Object(a.jsx)(z,{user:e.memberId,size:40}),t.placeholder]}))}},e.memberId._id)})),e.placeholder]}))}})]}),Object(a.jsxs)("div",{className:Oe.a["members-container"],children:[Object(a.jsx)("span",{className:Oe.a.title,children:"Members:"}),Object(a.jsx)(xe.c,{droppableId:"members",children:function(e){return Object(a.jsxs)("div",Object(o.a)(Object(o.a)({className:Oe.a["droppable-members"],ref:e.innerRef},e.droppableProps),{},{children:[L.filter((function(e){return!0!==e.admin})).map((function(e,t){return Object(a.jsx)(xe.b,{draggableId:e._id,index:t,children:function(t){return Object(a.jsxs)("span",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:[Object(a.jsx)(z,{user:e.memberId,size:40,round:!0,onClick:function(){Y(!0),X("delete this member"),ee(e.memberId)}}),t.placeholder]}))}},e.memberId._id)})),e.placeholder]}))}})]})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:Oe.a["admins-container"],children:[Object(a.jsx)("span",{className:Oe.a.title,children:"Admins:"}),Object(a.jsx)("div",{className:Oe.a.droppable,children:L.filter((function(e){return!0===e.admin})).map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(z,{user:e.memberId,size:40})},t)}))})]}),Object(a.jsxs)("div",{className:Oe.a["admins-container"],children:[Object(a.jsx)("span",{className:Oe.a.title,children:"Members:"}),Object(a.jsx)("div",{className:Oe.a.droppable,children:L.filter((function(e){return!0!==e.admin})).map((function(e,t){return Object(a.jsxs)("span",{children:["                                                                                                ",Object(a.jsx)(z,{user:e.memberId,size:40})]},t)}))})]})]})})]})}var Ce=function(e,t){var n=t.find((function(t){return t.memberId._id===e}));return!!n&&n.admin};function we(e){var t=Object(r.useState)(e.project.name),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(e.project.description),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(e.project.isFinished),h=Object(l.a)(m,2),O=h[0],f=h[1],x=e.project.membersRoles,_=Object(r.useState)(!1),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(r.useState)(!1),y=Object(l.a)(w,2),T=y[0],S=y[1],P=Object(r.useContext)(p),D=Object(j.g)(),I=F(),E=Object(j.h)(),A=e.project._id,L=Object(r.useCallback)((function(){I.emit("project-update",e.project)}),[I,e]);function M(){return(M=Object(g.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("handle",O),a=b("x-auth-token"),t.next=5,fetch("/api/projects/".concat(A),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({name:s,description:u,isFinished:O})});case 5:t.sent.ok?(L(),e.hideForm(),I.emit("team-update",E.teamid)):D.push("/error");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=Object(g.a)(v.a.mark((function t(){var n,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b("x-auth-token"),t.next=3,fetch("/api/projects/".concat(e.project._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 3:t.sent.ok?(e.hideForm(),a={projectId:e.project._id,teamId:E.teamid},I.emit("project-deleted",a),D.push("/team/".concat(E.teamid))):D.push("/error");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){C(Ce(P.user.id,x))}),[x,P.user.id,e]),Object(a.jsxs)("div",{className:pe.a.form,children:[T&&Object(a.jsx)(ge,{title:"delete this project",hideConfirm:function(){return S(!1)},onConfirm:function(){return function(){return H.apply(this,arguments)}()}}),Object(a.jsxs)("div",{className:pe.a.container,children:[Object(a.jsx)("div",{className:pe.a.title,children:"Project"}),Object(a.jsxs)("div",{className:pe.a["input-container"],children:[Object(a.jsx)("span",{children:" Name"}),Object(a.jsx)("input",{className:pe.a["input-pr-name"],value:s,onChange:function(e){return c(e.target.value)},label:"Name",id:"name"})]}),Object(a.jsxs)("div",{className:pe.a["input-container-descr"],children:[Object(a.jsx)("span",{children:" Description"}),Object(a.jsx)("textarea",{className:pe.a["text-area-descr"],value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description",placeholder:"Project Description",spellCheck:"false"})]}),Object(a.jsx)("div",{className:pe.a["edit-members"],children:Object(a.jsx)(ke,{admin:k,project:e.project,members:x})})]}),Object(a.jsx)("div",{children:k?Object(a.jsxs)("div",{className:pe.a["buttons-div"],children:[Object(a.jsx)(J,{className:pe.a["navigate-buttons"],title:"Edit",onClick:function(e){return function(e){return M.apply(this,arguments)}(e)}}),Object(a.jsx)(J,{className:pe.a["navigate-buttons"],title:O?"Set Current":"Set Finished",onClick:function(){return f(!O)}}),Object(a.jsx)(J,{className:pe.a["navigate-buttons"],title:"Delete Project",onClick:function(){S(!0)}})]}):null})]})}function ye(e){var t=e.asideOn,n=e.setAsideOn,s=Object(r.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(r.useContext)(re),N=Object(r.useContext)(p),k=F(),C=N.logIn;Object(r.useEffect)((function(){window.location.href.includes("project")&&(o(!0),x(!0))}),[]);var w=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=m(t),C(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]);return Object(r.useEffect)((function(){if(k)return k.on("message-sent",w),function(){return k.off("message-sent")}}),[k,w]),Object(a.jsxs)("div",{className:X.a.aside,children:[Object(a.jsxs)("aside",{className:X.a.container,children:[Object(a.jsx)("div",{className:X.a["top-left"],children:Object(a.jsx)(T,{className:X.a.hamburger,onClick:function(){return n(!t)},title:Object(a.jsx)("img",{className:X.a.options,src:Z,alt:"menu",width:"32",height:"24"})})}),Object(a.jsx)(K,{href:"/",title:Object(a.jsx)("img",{src:$,alt:"home",width:"34",height:"32"})}),Object(a.jsx)(K,{href:"/my-tasks/".concat(N.user.id),title:Object(a.jsx)("img",{src:ee,alt:"my-tasks",width:"30",height:"25"})}),Object(a.jsx)(K,{href:"/inbox/".concat(N.user.id),title:Object(a.jsx)("img",{src:te,alt:"inbox",width:"33",height:"34"})}),f&&Object(a.jsx)(T,{className:X.a.settings,onClick:function(){return b(!j)},title:Object(a.jsx)("img",{className:X.a.options,src:ae,alt:"",width:"40"})}),0!==N.user.inbox.length&&Object(a.jsx)(K,{href:"/inbox/".concat(N.user.id),title:Object(a.jsx)("img",{src:ne,alt:"inbox",width:"33",height:"34"}),className:X.a.bell})]}),t&&Object(a.jsxs)("div",{className:X.a.menu,children:[Object(a.jsxs)("div",{className:X.a["top-right"],children:[Object(a.jsx)("div",{className:X.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"87",height:"65"})}),Object(a.jsx)(K,{href:"/",title:"Home",className:X.a.link}),Object(a.jsx)(K,{href:"/my-tasks/".concat(N.user.id),title:"My Tasks",className:X.a.link}),Object(a.jsx)(K,{href:"/inbox/".concat(N.user.id),title:"Inbox",className:X.a.link}),f&&Object(a.jsx)(T,{className:X.a.link,onClick:function(){return b(!j)},title:"Settings"})]}),i&&Object(a.jsx)("div",{className:X.a["bottom-right"],children:_.lists.map((function(e){return Object(a.jsx)(ue,{list:e,type:"aside"},e._id)}))})]}),j&&Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return b(!j)},children:Object(a.jsx)(we,{hideForm:function(){return b(!j)},project:_.project})})})]})}var Te=n(97),Se=n.n(Te),Pe=n(252),De=n.n(Pe);function Fe(e){for(var t=Object(r.useContext)(p),n=Object(j.g)(),s=Object(r.useContext)(C),c=t.user.teams,i=e.searchInput,o=[],l=0;l<c.length;l++){var u=c[l],d={name:"Team: ".concat(u.name),id:u._id,type:"team"};o.push(d);for(var b=0;b<u.projects.length;b++){var m=u.projects[b],h={name:"Project: ".concat(m.name),id:m._id,type:"project"};o.push(h)}}return Object(a.jsx)("div",{className:De.a["search-container"],children:o.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})).map((function(t,r){return Object(a.jsx)("div",{className:De.a.result,onClick:function(){!function(t){for(var a=0;a<c.length;a++){var r=c[a];r._id===t&&(n.push("/team/".concat(t)),s.updateSelectedTeam(r._id),e.hideForm());for(var i=0;i<r.projects.length;i++){var o=r.projects[i];o._id===t&&(n.push("/project-board/".concat(r._id,"/").concat(o._id)),s.updateSelectedTeam(r._id),e.hideForm())}}}(t.id)},children:t.name},r)}))})}var Ie=n(72),Ee=n.n(Ie),Ae=n.p+"static/media/search.eabb7a59.svg",Le=function(e){var t=e.asideOn,n=Object(r.useRef)(null),s=Object(r.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=fe(n),d=Object(l.a)(u,2),j=d[0],b=d[1],m=Object(r.useState)(!1),p=Object(l.a)(m,2),h=p[0],O=p[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:Ee.a["search-button"],onClick:function(){return O(!h)},children:Object(a.jsx)("img",{className:Ee.a["search-icon"],src:Ae,alt:"search"})}),Object(a.jsxs)("div",{className:h?t?"".concat(Ee.a["new-line"]," ").concat(Ee.a["search-fields"]," ").concat(Ee.a.small," "):"".concat(Ee.a["new-line"]," ").concat(Ee.a["search-fields"]):Ee.a["search-fields"],children:[Object(a.jsx)("input",{className:Ee.a.input,type:"text",placeholder:j?"Enter Project or Team name":"Search...",autoComplete:"off",value:i,onChange:function(e){return o(e.target.value)},onClick:function(){return b(!0)},onBlur:function(){setTimeout((function(){return b(!1)}),120),setTimeout((function(){return O(!h)}),120)}}),i.length>0&&j?Object(a.jsx)("div",{ref:n,children:Object(a.jsx)(Fe,{searchInput:i,hideForm:function(){b(!j),o("")}})}):null]})]})},Me=n(15),He=n.n(Me),We=n(360),Be=n.n(We),ze=function(e){var t=e.title,n=e.href,r=e.className,s=e.onClick;return Object(a.jsx)(f.b,{to:n,className:"".concat(Be.a.link," ").concat(r),onClick:s,title:t,children:t})},Ue=n(361),Re=n.n(Ue),Je=function(e){var t=e.title,n=e.onClick,r=e.type,s=e.className,c=e.children,i=e.style;return Object(a.jsxs)("button",{type:r||"button",onClick:n,className:"".concat(Re.a.clean," ").concat(s),style:i,title:t,children:[t,c]})};function Ge(){var e=Object(r.useContext)(C),t=Object(r.useRef)(null),n=Object(r.useState)(!1),s=Object(l.a)(n,2),c=s[0],i=s[1],o=fe(t),u=Object(l.a)(o,2),d=u[0],j=u[1];return Object(a.jsxs)("div",{className:"".concat(He.a.container," ").concat(He.a["team-media"]),children:[Object(a.jsx)("div",{className:He.a.title,children:"Team:"}),Object(a.jsxs)("div",{className:He.a["dropdown-container"],children:[Object(a.jsx)(Je,{className:He.a.button,onClick:function(){return j(!d)},title:e.selectedTeam}),d&&Object(a.jsxs)("div",{className:He.a.dropdown,ref:t,children:[Object(a.jsx)("div",{className:He.a["options-container"],children:e.teams.map((function(t){return Object(a.jsx)(ze,{href:"/team/".concat(t._id),title:t.name,onClick:function(){var n,a;n=t._id,a=t.name,e.getCurrentProjects(n),e.setSelectedTeam(a),j(!1)},className:He.a.options},t._id)}))}),Object(a.jsx)(T,{onClick:function(){return i(!0)},title:"Create Team",className:"".concat(He.a.options," ").concat(He.a["last-option"])})]})]}),c&&Object(a.jsx)(be,{hideForm:function(){return i(!1)},children:Object(a.jsx)(G,{hideForm:function(){i(!1)}})})]})}var Ye=n(36),Ve=n.n(Ye);function Ke(e){var t=e.hideForm,n=Object(r.useState)(""),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(""),u=Object(l.a)(o,2),d=u[0],m=u[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),f=O[0],_=O[1],N=Object(r.useState)([]),k=Object(l.a)(N,2),C=k[0],w=k[1],y=Object(r.useState)(!1),S=Object(l.a)(y,2),P=S[0],D=S[1],I=Object(r.useState)([]),E=Object(l.a)(I,2),A=E[0],L=E[1],M=Object(r.useContext)(p),H=Object(j.g)(),W=Object(j.h)(),B=F(),U=function(){var e=Object(g.a)(v.a.mark((function e(n){var a,r,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==c){e.next=3;break}return e.abrupt("return");case 3:return a=W.teamid,r=b("x-auth-token"),e.next=7,fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:c,description:d,teamId:a,members:C})});case 7:if((s=e.sent).ok){e.next=13;break}return H.push("/error"),e.abrupt("return");case 13:return e.next=15,s.json();case 15:i=e.sent,t&&t(),B.emit("team-update",a),H.push("/project-board/".concat(a,"/").concat(i._id));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),t=W.teamid,0!==A.length){e.next=12;break}return n=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(a=e.sent).ok||H.push("/error"),e.next=10,a.json();case 10:r=e.sent,L(r.members);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:Ve.a.container,children:[Object(a.jsx)("div",{className:Ve.a.title,children:"Create New Project"}),Object(a.jsxs)("div",{className:Ve.a["input-container"],children:[Object(a.jsx)("span",{children:" Name"}),Object(a.jsx)("input",{className:Ve.a["input-name"],value:c,onChange:function(e){return i(e.target.value)},label:"Name",id:"name",placeholder:"Project Name",autoComplete:"off"})]}),Object(a.jsxs)("div",{className:Ve.a["input-container-descr"],children:[Object(a.jsx)("span",{children:" Description"}),Object(a.jsx)("textarea",{className:Ve.a["text-area-descr"],value:d,onChange:function(e){return m(e.target.value)},label:"Description",id:"description",placeholder:"Project Description",spellCheck:"false"})]}),Object(a.jsxs)("div",{className:Ve.a["input-container"],children:[Object(a.jsx)("span",{className:Ve.a["text-invite"],children:"Add Members"}),Object(a.jsxs)("div",{className:Ve.a["invite-input"],children:[Object(a.jsx)("input",{className:Ve.a["members-input"],autoComplete:"off",value:f,onFocus:R,onBlur:function(){setTimeout((function(){return D(!1)}),120)},onChange:function(e){return _(e.target.value)},label:"Invite members",id:"members",placeholder:"Teammate Username"}),Object(a.jsx)("div",{className:Ve.a["select-for-invite"],children:P&&Object(a.jsx)("div",{className:Ve.a.members,children:A.filter((function(e){return e.username.toLowerCase().includes(f.toLowerCase())&&!e.username.includes(M.user.username)})).filter((function(e){return!C.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(a.jsx)(T,{className:Ve.a.user,onClick:function(){return function(e){var t=Object(x.a)(C);t.push(e),w(t),D(!1),_("")}(e)},title:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.username}),Object(a.jsx)("div",{className:Ve.a.email,children:e.email})]})},e._id)}))})})]})]}),Object(a.jsx)("div",{className:Ve.a["members-avatars"],children:C.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(z,{user:e,onClick:function(){return function(e){var t=C.filter((function(t){return t._id!==e._id}));w(t)}(e)},size:40})},t)}))}),Object(a.jsx)("div",{className:Ve.a["button-div"],children:Object(a.jsx)(J,{onClick:function(e){return U(e)},title:"Create",className:Ve.a["create-button"]})})]})}function qe(){var e=Object(r.useContext)(C),t=Object(r.useContext)(re),n=Object(j.h)(),s=Object(r.useRef)(null),c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)(!1),b=Object(l.a)(d,2),m=b[0],p=b[1],h=fe(s),O=Object(l.a)(h,2),f=O[0],x=O[1];return Object(r.useEffect)((function(){!0===t.project.isFinished?p(!0):p(!1)}),[t.project.isFinished]),Object(a.jsxs)("div",{className:"".concat(He.a.container," ").concat(He.a["project-media"]),children:[Object(a.jsx)("div",{className:He.a.title,children:"Project:"}),Object(a.jsxs)("div",{className:He.a["dropdown-container"],children:[Object(a.jsx)(Je,{className:He.a.button,onClick:function(){return x(!f)},title:t.project.name}),f&&Object(a.jsxs)("div",{ref:s,className:He.a.dropdown,children:[Object(a.jsx)("div",{className:He.a["options-container"],children:e.currentProjects.filter(m?function(e){return!0===e.isFinished}:function(e){return!1===e.isFinished||void 0===e.isFinished}).reverse().map((function(e){return Object(a.jsx)(ze,{href:"/project-board/".concat(n.teamid,"/").concat(e._id),title:e.name,onClick:function(){x(!1)},className:He.a.options},e._id)}))}),Object(a.jsx)(T,{onClick:function(){return u(!0)},title:"Create Project",className:"".concat(He.a.options," ").concat(He.a["last-option"])})]})]}),o&&Object(a.jsx)(be,{hideForm:function(){return u(!1)},children:Object(a.jsx)(Ke,{hideForm:function(){return u(!1)}})})]})}function Xe(){var e=Object(j.g)(),t=Object(j.h)(),n=Object(r.useContext)(re),s=Object(r.useRef)(null),c=fe(s),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)(null),b=Object(l.a)(d,2),m=b[0],p=b[1];return Object(r.useEffect)((function(){window.location.href.includes("board")&&p("Board"),window.location.href.includes("list")&&p("List")}),[]),Object(a.jsxs)("div",{className:He.a.container,children:[Object(a.jsx)("div",{className:He.a.title,children:"View:"}),Object(a.jsxs)("div",{className:He.a["dropdown-container"],children:[Object(a.jsx)(T,{className:He.a.button,onClick:function(){return u(!o)},title:m}),o&&Object(a.jsxs)("div",{ref:s,className:He.a.dropdown,children:[Object(a.jsx)(T,{title:"Board",className:He.a.options,onClick:function(){e.push("/project-board/".concat(t.teamid,"/").concat(n.project._id)),u(!1)}}),Object(a.jsx)(T,{title:"List",className:"".concat(He.a.options," ").concat(He.a["last-option"]),onClick:function(){e.push("/project-list/".concat(t.teamid,"/").concat(n.project._id)),u(!1)}})]})]})]})}function Qe(){var e=Object(r.useRef)(null),t=Object(j.g)(),n=Object(r.useContext)(p),s=fe(e),c=Object(l.a)(s,2),i=c[0],o=c[1];return Object(a.jsxs)("div",{className:He.a["dropdown-container"],children:[Object(a.jsx)(T,{className:He.a.avatar,onClick:function(){return o(!i)},title:Object(a.jsx)(z,{user:n.user,size:40})}),i&&Object(a.jsxs)("div",{ref:e,className:"".concat(He.a.dropdown," ").concat(He.a.profile),children:[Object(a.jsx)(T,{title:"Profile",className:"".concat(He.a.options," ").concat(He.a.profile),onClick:function(){return t.push("/profile/".concat(n.user&&n.user.id))}}),Object(a.jsx)(T,{onClick:n.logOut,title:"Log Out",className:"".concat(He.a.options," ").concat(He.a["last-option"]," ").concat(He.a.profile)})]})]})}var Ze=function(e){var t=e.asideOn,n=Object(r.useState)(!1),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(r.useContext)(re),h=Object(r.useContext)(C),O=Object(j.h)(),f=Object(j.g)(),x=F(),_=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var t,n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.projectid,n=b("x-auth-token"),e.next=4,fetch("/api/projects/info/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 4:if((a=e.sent).ok){e.next=9;break}f.push("/error"),e.next=13;break;case 9:return e.next=11,a.json();case 11:r=e.sent,p.setProject(r);case 13:case"end":return e.stop()}}),e)}))),[f,O,p]),N=Object(r.useCallback)((function(e){e===O.teamid&&f.push("/")}),[f,O.teamid]),k=Object(r.useCallback)((function(e){e===O.projectid&&f.push("/team/".concat(O.teamid))}),[f,O.projectid,O.teamid]);return Object(r.useEffect)((function(){if(window.location.href.includes("team")||window.location.href.includes("project")){if("Select"===h.selectedTeam){var e=O.teamid;h.updateSelectedTeam(e)}window.location.href.includes("project")&&(m(!0),i(!0),h.getCurrentProjects(O.teamid),null!==p.project&&p.project._id===O.projectid||_())}else h.setSelectedTeam("Select")}),[_,O,O.teamid,p.project,h]),Object(r.useEffect)((function(){if((window.location.href.includes("team")||window.location.href.includes("project"))&&null!=x)return x.on("team-deleted",N),function(){return x.off("team-deleted")}}),[N,x]),Object(r.useEffect)((function(){if(window.location.href.includes("project")&&null!=x)return x.on("project-deleted",k),function(){return x.off("project-deleted")}}),[k,x]),window.location.href.includes("project")&&!p.project?null:Object(a.jsx)("header",{className:"".concat(Se.a.navigation," ").concat(t?Se.a.small:""),children:Object(a.jsxs)("div",{className:Se.a.container,children:[Object(a.jsxs)("div",{className:Se.a.links,children:[Object(a.jsx)(Ge,{}),c&&Object(a.jsx)(qe,{}),d&&Object(a.jsx)(Xe,{})]}),Object(a.jsxs)("div",{className:"".concat(Se.a.links," ").concat(Se.a.font),children:[Object(a.jsx)(Le,{asideOn:t}),Object(a.jsx)(Qe,{})]})]})})},$e=n(185),et=n.n($e),tt=function(e){var t=e.children,n=e.contentClassName,s=Object(r.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1];return Object(a.jsxs)("div",{className:et.a.app,children:[Object(a.jsx)(ye,{asideOn:i,setAsideOn:o}),Object(a.jsx)(Ze,{asideOn:i}),Object(a.jsx)("div",{className:n||"".concat(et.a.content," ").concat(i?et.a.small:""),children:t})]})},nt=n(362),at=n.n(nt),rt=function(e){var t=e.title;return Object(a.jsx)("div",{className:at.a.title,children:t})},st=n(45),ct=n.n(st),it=n.p+"static/media/home-page-pic.97aa1e71.svg",ot=n(363),lt=n.n(ot),ut=function(e){var t=e.title,n=e.onClick,r=e.className;return Object(a.jsx)("button",{onClick:n,className:"".concat(lt.a.button," ").concat(r),title:t,children:t})},dt=function(){var e=Object(r.useRef)(null),t=Object(r.useContext)(p),n=Object(j.g)(),s=Object(r.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1],u=fe(e),d=Object(l.a)(u,2),b=d[0],m=d[1],h=t.user.username,O=t.user.teams,f=t.user._id,x=t.user.recentProjects;return Object(a.jsxs)(tt,{children:[Object(a.jsx)("div",{children:i?Object(a.jsx)(be,{hideForm:function(){return o(!1)},children:Object(a.jsx)(G,{hideForm:function(){o(!1)}})}):null}),Object(a.jsx)(rt,{title:"Home"}),Object(a.jsxs)("div",{className:ct.a.container,children:[Object(a.jsxs)("span",{className:ct.a["left-buttons"],children:[Object(a.jsx)("div",{children:Object(a.jsx)(ut,{className:ct.a["navigate-buttons"],title:"My Tasks",onClick:function(){return n.push("/my-tasks/".concat(f))}})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(ut,{className:ct.a["navigate-buttons"],title:"My Teams",onClick:function(){return m(!b)}}),Object(a.jsx)("span",{children:Object(a.jsx)("div",{className:ct.a["select-team-container"],children:b?Object(a.jsx)("div",{className:ct.a["teams-home"],ref:e,children:O.length>0?O.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)("div",{className:ct.a["navigate-buttons-teams"],onClick:function(){return t=e._id,void n.push("/team/".concat(t));var t},title:e.name,children:e.name})},t)})):"You have not joined any teams yet"}):null})})]}),Object(a.jsx)("div",{children:Object(a.jsx)(ut,{className:ct.a["navigate-buttons"],title:"Create New Team",onClick:function(){return o(!0)}})})]}),Object(a.jsxs)("div",{className:ct.a["pic-container"],children:[Object(a.jsx)("img",{className:ct.a.pic1,src:it,alt:""}),Object(a.jsx)("div",{className:ct.a["welcome-user"],children:"Welcome ".concat(h,"!")}),Object(a.jsx)(ut,{className:ct.a["navigate-buttons"],title:"Get Started",onClick:function(){return n.push("/get-started/")}})]}),Object(a.jsx)("span",{className:ct.a["right-buttons"],children:x?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:"Recent projects:"}),x.slice(0).reverse().map((function(e,t){return Object(a.jsx)("div",{children:Object(a.jsx)(ut,{className:ct.a["navigate-buttons"],title:e.name,onClick:function(){return t=e._id,void O.map((function(e){return e.projects.forEach((function(a){a._id===t&&n.push("/project-board/".concat(e._id,"/").concat(t))}))}));var t}})},e._id)}))]}):null})]})]})},jt=n(12),bt=n.n(jt),mt=n.p+"static/media/welcome-page-1.6bf905f1.svg",pt=n.p+"static/media/welcome-page-2.5280cdb7.svg",ht=n.p+"static/media/welcome-page-3.012ae353.svg",Ot=n.p+"static/media/welcome-page-4.8390671d.svg",ft=n.p+"static/media/welcome-page-5.1c8ad840.svg",xt=n.p+"static/media/welcome-page-6.55796ee0.svg",_t=n.p+"static/media/instagram-icon.8c3f39e6.svg",vt=n.p+"static/media/twitter-icon.738a4da0.svg",gt=n.p+"static/media/facebook-icon.0b7bb0f2.svg",Nt=n(107),kt=n.n(Nt),Ct=n(35),wt=n.n(Ct),yt=function(){var e=Object(g.a)(v.a.mark((function e(t,n,a,r,s){var c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:n,body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 3:return c=e.sent,i=c.headers.get("Authorization"),e.next=7,c.json();case 7:if(!(o=e.sent).needPassword){e.next=11;break}return s(o),e.abrupt("return");case 11:if(!o.wrongPassword){e.next=14;break}return s(o),e.abrupt("return");case 14:if(!o.wrongUser){e.next=17;break}return s(o),e.abrupt("return");case 17:if(!o.exist){e.next=20;break}return s(o),e.abrupt("return");case 20:document.cookie="x-auth-token=".concat(i,";path=/"),o.user.username&&i?r(m(o)):s(o),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),s(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(g.a)(v.a.mark((function e(t,n,a){var r,s,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.tokenId,e.next=4,fetch("/api/user/google-login",{method:"POST",body:JSON.stringify({tokenId:r}),headers:{"Content-Type":"application/json"}});case 4:return s=e.sent,c=s.headers.get("Authorization"),document.cookie="x-auth-token=".concat(c,";path=/"),e.next=9,s.json();case 9:(i=e.sent).user.username&&c?n(m(i)):a(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a){return e.apply(this,arguments)}}(),St=n(41),Pt=n.n(St),Dt=n(364),Ft=n.n(Dt);function It(e){return Object(a.jsx)("div",{children:e.alert?Object(a.jsx)("div",{className:Ft.a.alert,children:e.message}):null})}var Et=function(){var e=Object(g.a)(v.a.mark((function e(t,n,a,r,s){var c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=b("x-auth-token"),e.next=4,fetch(t,{method:n,body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:c}});case 4:return i=e.sent,e.next=7,i.json();case 7:(o=e.sent).user.username?r(m(o)):s(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}();function At(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(!1),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(!1),x=Object(l.a)(f,2),_=x[0],N=x[1],k=Object(r.useContext)(p),C=Object(j.g)(),w=e.userId,y=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),O(!1),N(!1),s&&u){e.next=6;break}return N(!0),e.abrupt("return");case 6:if(s===u){e.next=9;break}return O(!0),e.abrupt("return");case 9:return e.next=11,Et("/api/user/addNewPassword/".concat(w),"PUT",{password:s},(function(e){k.logIn(e.user),console.log(k.user),C.push("/")}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C,k,s,u,w]);return Object(a.jsx)("form",{className:Pt.a.container,children:Object(a.jsxs)("div",{className:Pt.a["inner-container"],children:[Object(a.jsx)("div",{className:Pt.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"110",height:"100"})}),Object(a.jsxs)("div",{className:Pt.a["right-side"],children:[Object(a.jsxs)("div",{className:Pt.a.alerts,children:[Object(a.jsx)(It,{alert:h,message:"Passwords do not match"}),Object(a.jsx)(It,{alert:_,message:"Please fill all fileds"})]}),Object(a.jsx)("div",{className:Pt.a.title,children:"Add password to user"}),Object(a.jsxs)("div",{className:Pt.a["input-container"],children:[Object(a.jsx)("div",{children:" Password:"}),Object(a.jsx)("input",{placeholder:"********",className:Pt.a["pass-input"],type:"password",value:s,onChange:function(e){return c(e.target.value)},label:"New Password",id:"password"}),Object(a.jsxs)("div",{className:Pt.a["pass-instructions"],children:[Object(a.jsx)("p",{children:"Use 8 or more characters with a mix "}),Object(a.jsx)("p",{children:"of letters, numbers & symbols. "})]})]}),Object(a.jsxs)("div",{className:Pt.a["input-container"],children:[Object(a.jsx)("div",{children:" Confirm Password:"}),Object(a.jsx)("input",{placeholder:"********",className:Pt.a["pass-input"],type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"Confirm Password",id:"rePassword"})]}),Object(a.jsx)("div",{className:Pt.a["new-pass-alert"],children:"Important!!! You have to activate your new password by following the link sent to your email. You have to do this in the next hour in order for your new password to be activated"}),Object(a.jsx)("div",{className:Pt.a["button-div-login"],children:Object(a.jsx)("button",{type:"submit",className:Pt.a["login-button"],onClick:y,children:"Submit"})}),Object(a.jsx)("div",{className:Pt.a["text-login"],children:"User was registered with Google. Please add password for this Website"})]})]})})}var Lt=n.p+"static/media/google.e72ffc18.svg",Mt=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(!1),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),_=x[0],N=x[1],k=Object(r.useContext)(p),C=Object(j.g)(),w=Object(r.useState)(!1),y=Object(l.a)(w,2),T=y[0],S=y[1],P=Object(r.useState)(!1),D=Object(l.a)(P,2),F=D[0],I=D[1],E=Object(r.useState)(!1),A=Object(l.a)(E,2),L=A[0],M=A[1],H=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),S(!1),I(!1),M(!1),s&&u){e.next=7;break}return S(!0),e.abrupt("return");case 7:return e.next=9,yt("/api/user/login","POST",{email:u,password:s},(function(e){k.logIn(e),C.push("/")}),(function(e){e.needPassword&&(N(e.userId),O(!0)),e.wrongPassword&&I(!0),e.wrongUser&&M(!0),console.log("Error",e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){O(!1)};return Object(a.jsxs)("div",{children:[h?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:W,children:Object(a.jsx)(At,{hideForm:W,userId:_,email:u})})}):null,Object(a.jsx)("form",{className:wt.a.container,onSubmit:H,children:Object(a.jsxs)("div",{className:wt.a["inner-container"],children:[Object(a.jsx)("div",{className:wt.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"110",height:"100"})}),Object(a.jsxs)("div",{className:wt.a["right-side"],children:[Object(a.jsxs)("div",{className:wt.a.alerts,children:[Object(a.jsx)(It,{alert:T,message:"Please fill all fileds"}),Object(a.jsx)(It,{alert:F,message:"Wrong Password"}),Object(a.jsx)(It,{alert:L,message:"Please fill valid email address"})]}),Object(a.jsx)("div",{className:wt.a.title,children:"Log In with E-mail"}),Object(a.jsxs)("div",{className:wt.a["input-container"],children:[Object(a.jsx)("div",{children:" Email:"}),Object(a.jsx)("input",{className:wt.a["email-input"],placeholder:"John@example.com",value:u,onChange:function(e){return d(e.target.value)},label:"Email",id:"email"})]}),Object(a.jsxs)("div",{className:wt.a["input-container"],children:[Object(a.jsx)("div",{children:" Password:"}),Object(a.jsx)("input",{className:wt.a["pass-input"],placeholder:"********",type:"password",value:s,onChange:function(e){return c(e.target.value)},label:"Password",id:"password"})]}),Object(a.jsx)("div",{className:wt.a["button-div-login"],children:Object(a.jsx)("button",{type:"submit",className:wt.a["login-button"],children:"Log In"})}),Object(a.jsxs)("div",{className:wt.a["text-div"],children:[Object(a.jsx)("p",{className:wt.a["forgot-pass"],onClick:function(){e.goToForgotPassword(),e.hideForm()},children:"Forgot Password?"}),Object(a.jsxs)("p",{className:wt.a["new-to-sm"],children:["New to Smart Manager?",Object(a.jsx)("button",{className:wt.a["sign-up-btn"],onClick:function(){e.goToSignUp(),e.hideForm()},children:"Sign Up"})]}),Object(a.jsx)("h3",{children:"or"})]}),Object(a.jsx)("div",{className:wt.a["button-div-google-login"],children:Object(a.jsx)(kt.a,{render:function(e){return Object(a.jsxs)("button",{onClick:e.onClick,className:wt.a["google-login-btn"],children:[Object(a.jsx)("img",{src:Lt,alt:"logo",width:"25",height:"25"}),"Log In with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){Tt(e,(function(e){k.logIn(e),C.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})})]})]})})]})},Ht=n(24),Wt=n.n(Ht),Bt=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(""),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),_=x[0],N=x[1],k=Object(r.useState)(!1),C=Object(l.a)(k,2),w=C[0],y=C[1],T=Object(r.useState)(!1),S=Object(l.a)(T,2),P=S[0],D=S[1],F=Object(r.useState)(!1),I=Object(l.a)(F,2),E=I[0],A=I[1],L=Object(r.useState)(!1),M=Object(l.a)(L,2),H=M[0],W=M[1],B=Object(r.useContext)(p),z=Object(j.g)();function U(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}var R=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),W(!1),y(!1),D(!1),A(!1),U(h)){e.next=9;break}return W(!0),e.abrupt("return");case 9:if(u===_){e.next=12;break}return y(!0),e.abrupt("return");case 12:if(s&&u&&_&&h){e.next=15;break}return D(!0),e.abrupt("return");case 15:return e.next=17,yt("/api/user/register","POST",{email:h,username:s,password:u},(function(e){B.logIn(e),z.push("/")}),(function(e){e.exist&&A(!0)}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("form",{className:Wt.a.container,onSubmit:R,children:Object(a.jsxs)("div",{className:Wt.a["inner-container"],children:[Object(a.jsx)("div",{className:Wt.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"110",height:"100"})}),Object(a.jsxs)("div",{className:Wt.a["right-side"],children:[Object(a.jsxs)("div",{className:Wt.a.alerts,children:[Object(a.jsx)(It,{alert:w,message:"Passwords do not match"}),Object(a.jsx)(It,{alert:E,message:"User with this email already exists"}),Object(a.jsx)(It,{alert:P,message:"Please fill all fileds"}),Object(a.jsx)(It,{alert:H,message:"Please enter valid email address"})]}),Object(a.jsx)("div",{className:Wt.a.title,children:"Sign Up with E-mail"}),Object(a.jsxs)("div",{className:Wt.a["input-container"],children:[Object(a.jsx)("div",{children:" Username:"}),Object(a.jsx)("input",{placeholder:"John Smith",className:Wt.a["sign-up-input"],value:s,onChange:function(e){return c(e.target.value)},label:"Username",id:"username"})]}),Object(a.jsxs)("div",{className:Wt.a["input-container"],children:[Object(a.jsx)("div",{children:" Email:"}),Object(a.jsx)("input",{placeholder:"John@example.com",className:Wt.a["sign-up-input"],value:h,onChange:function(e){return O(e.target.value)},label:"Email",id:"email"})]}),Object(a.jsxs)("div",{className:Wt.a["input-container"],children:[Object(a.jsx)("div",{children:" Password:"}),Object(a.jsx)("input",{placeholder:"********",className:Wt.a["sign-up-input"],type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"Password",id:"password"}),Object(a.jsxs)("div",{className:Wt.a["pass-instructions"],children:[Object(a.jsx)("p",{children:"Use 8 or more characters with a"}),Object(a.jsx)("p",{children:"mix of letters, numbers & symbols. "})]})]}),Object(a.jsxs)("div",{className:Wt.a["input-container"],children:[Object(a.jsx)("div",{children:" Re-type Password:"}),Object(a.jsx)("input",{placeholder:"********",className:Wt.a["sign-up-input"],type:"password",value:_,onChange:function(e){return N(e.target.value)},label:"Re-Password",id:"re-password"})]}),Object(a.jsx)("div",{className:Wt.a["button-div-login"],children:Object(a.jsx)("button",{type:"submit",className:Wt.a["sign-up-button"],children:"Get Started"})}),Object(a.jsx)("div",{className:Wt.a["text-div"],children:Object(a.jsx)("h3",{children:"or"})}),Object(a.jsx)("div",{className:Wt.a["button-div-google-login"],children:Object(a.jsx)(kt.a,{render:function(e){return Object(a.jsxs)("button",{onClick:e.onClick,className:Wt.a["google-login-btn"],children:[Object(a.jsx)("img",{src:Lt,alt:"logo",width:"25",height:"25"}),"Sign Up with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Sign up with Google",onSuccess:function(e){Tt(e,(function(e){B.logIn(e),z.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})}),Object(a.jsx)("div",{className:Wt.a["text-div"],children:Object(a.jsxs)("p",{className:Wt.a["already-sign-up"],children:["Already Sign Up?",Object(a.jsx)("button",{className:Wt.a["sign-up-btn"],onClick:function(){e.goToLogin(),e.hideForm()},children:"Log In"})]})})]})]})})},zt=n(33),Ut=n.n(zt),Rt=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(""),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useContext)(p),x=Object(j.g)(),_=Object(r.useState)(!1),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(r.useState)(!1),y=Object(l.a)(w,2),T=y[0],S=y[1],P=Object(r.useState)(!1),D=Object(l.a)(P,2),F=D[0],I=D[1],E=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C(!1),S(!1),I(!1),s&&u){e.next=7;break}return C(!0),e.abrupt("return");case 7:if(s===h){e.next=10;break}return S(!0),e.abrupt("return");case 10:return e.next=12,fetch("/api/user/login",{method:"POST",body:JSON.stringify({email:u,password:s}),headers:{"Content-Type":"application/json"}});case 12:return n=e.sent,e.next=15,n.json();case 15:if(!(a=e.sent).wrongUser){e.next=19;break}return I(!0),e.abrupt("return");case 19:console.log("Error",a),a.user?r=a.user._id:a.userId&&(r=a.userId),Et("/api/user/addNewPassword/".concat(r),"PUT",{password:s},(function(e){f.logIn(e.user),x.push("/")}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{className:Ut.a.container,onSubmit:E,children:[Object(a.jsxs)("div",{className:Ut.a.alerts,children:[Object(a.jsx)(It,{alert:k,message:"Please fill all fileds"}),Object(a.jsx)(It,{alert:T,message:"Passwords do not match"}),Object(a.jsx)(It,{alert:F,message:"Please fill valid email address"})]}),Object(a.jsxs)("div",{className:Ut.a["inner-container"],children:[Object(a.jsx)("div",{className:Ut.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"110",height:"100"})}),Object(a.jsxs)("div",{className:Ut.a["right-side"],children:[Object(a.jsx)("div",{className:Ut.a.title,children:"Forgot Password Form"}),Object(a.jsxs)("div",{className:Ut.a["input-container"],children:[Object(a.jsx)("div",{children:" Email:"}),Object(a.jsx)("input",{className:Ut.a.emailInput,placeholder:"John@example.com",value:u,onChange:function(e){return d(e.target.value)},label:"Email",id:"email"})]}),Object(a.jsxs)("div",{className:Ut.a["input-container"],children:[Object(a.jsx)("div",{children:"New Password:"}),Object(a.jsx)("input",{className:Ut.a.passInput,placeholder:"********",type:"password",value:s,onChange:function(e){return c(e.target.value)},label:"Password",id:"password"})]}),Object(a.jsxs)("div",{className:Ut.a["input-container"],children:[Object(a.jsx)("div",{children:"Re-type New Password:"}),Object(a.jsx)("input",{className:Ut.a.passInput,placeholder:"********",type:"password",value:h,onChange:function(e){return O(e.target.value)},label:"Confirm Password",id:"rePassword"})]}),Object(a.jsx)("div",{className:Ut.a.buttonDivLogin,children:Object(a.jsx)("button",{type:"submit",className:Ut.a.loginButton,children:"Submit"})}),Object(a.jsxs)("div",{className:Ut.a.textDiv,children:[Object(a.jsxs)("p",{className:Ut.a.newToSmM,children:["New to Smart Manager?",Object(a.jsx)("button",{className:Ut.a.signUpBtn,onClick:function(){e.goToSignUp(),e.hideForm()},children:"Sign Up"})]}),Object(a.jsx)("h3",{children:"or"})]}),Object(a.jsx)("div",{className:Ut.a.buttonDivGoogleLogin,children:Object(a.jsx)(kt.a,{render:function(e){return Object(a.jsxs)("button",{onClick:e.onClick,className:Ut.a.googleLoginBtn,children:[Object(a.jsx)("img",{src:Lt,alt:"logo",width:"25",height:"25"}),"Log In with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){Tt(e,(function(e){f.logIn(e),x.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})})]})]})]})})},Jt=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)(!1),j=Object(l.a)(d,2),b=j[0],m=j[1];return Object(a.jsxs)("div",{className:bt.a.container,children:[n?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return s(!n)},children:Object(a.jsx)(Mt,{hideForm:function(){return s(!n)},goToSignUp:function(){return u(!o)},goToForgotPassword:function(){return m(!b)}})})}):null,o?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return u(!o)},children:Object(a.jsx)(Bt,{hideForm:function(){return u(!o)},goToLogin:function(){return s(!n)}})})}):null,b?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return m(!b)},children:Object(a.jsx)(Rt,{hideForm:function(){return m(!b)},goToSignUp:function(){return u(!o)}})})}):null,Object(a.jsxs)("div",{className:bt.a["content-wrap"],children:[Object(a.jsxs)("div",{className:bt.a["top-container"],children:[Object(a.jsxs)("div",{className:bt.a["top-div-container"],children:[Object(a.jsxs)("div",{className:bt.a["header-nav"],children:[Object(a.jsx)("span",{className:bt.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"100%",height:"100%"})}),Object(a.jsxs)("span",{className:bt.a["first-buttons"],children:[Object(a.jsx)("button",{className:bt.a["login-button"],onClick:function(){return s(!n)},children:"Log In"}),Object(a.jsx)("button",{className:bt.a["sign-up-button"],onClick:function(){return u(!o)},children:"Sign Up"})]})]}),Object(a.jsx)("div",{className:bt.a.pic1,children:Object(a.jsx)("img",{src:mt,alt:"",width:"100%"})}),Object(a.jsx)("div",{className:bt.a.pic2,children:Object(a.jsx)("img",{src:pt,alt:"",width:"100%"})})]}),Object(a.jsx)("div",{className:bt.a["lower-div-container"],children:Object(a.jsxs)("div",{className:bt.a["first-text"],children:[Object(a.jsxs)("p",{className:bt.a.headers,children:["Manage your work in a ",Object(a.jsx)("span",{className:bt.a.lucida,children:"Smart"})," way! "]}),Object(a.jsxs)("div",{className:bt.a.paragraph,children:[Object(a.jsx)("p",{children:"The ideas get more clear, organized and focused on."}),Object(a.jsx)("p",{children:"Flexible and time saving for the whole team. "}),Object(a.jsx)("button",{className:bt.a["second-sign-up-button"],onClick:function(){return u(!o)},children:"Free Sign Up"})]})]})})]}),Object(a.jsxs)("div",{className:bt.a["second-container"],children:[Object(a.jsxs)("div",{className:bt.a["first-row"],children:[Object(a.jsxs)("div",{className:bt.a["second-text"],children:[Object(a.jsx)("p",{className:bt.a.headers,children:"Work and participate in different teams "}),Object(a.jsxs)("div",{className:bt.a.paragraph,children:[Object(a.jsx)("p",{children:"Follow who and when is doing tasks. Be always"}),Object(a.jsx)("p",{children:"informed with the accomplishment of the projects. "}),Object(a.jsx)("button",{className:bt.a["third-sign-up-button"],onClick:function(){return u(!o)},children:"Try It Now"})]})]}),Object(a.jsx)("div",{className:bt.a["pic3-container"],children:Object(a.jsx)("img",{className:bt.a.picture,src:ht,alt:""})})]}),Object(a.jsxs)("div",{className:bt.a["second-row"],children:[Object(a.jsx)("div",{className:bt.a["pic4-container"],children:Object(a.jsx)("img",{className:bt.a.picture,src:Ot,alt:""})}),Object(a.jsxs)("div",{className:bt.a["second-row-colum"],children:[Object(a.jsxs)("div",{className:bt.a["second-text"],children:[Object(a.jsx)("p",{className:bt.a.headers,children:"\u0415\u0430sy to manage all the information"}),Object(a.jsxs)("div",{className:bt.a.paragraph,children:[Object(a.jsx)("p",{children:"Add stickers, notes, comments, attachments in your"}),Object(a.jsx)("p",{children:"  Smart Manager."}),Object(a.jsx)("p",{children:"Collaborate with others in your Team."})]})]}),Object(a.jsx)("div",{className:bt.a["second-row-pic"],children:Object(a.jsx)("img",{className:bt.a.picture,src:ft,alt:""})})]})]}),Object(a.jsxs)("div",{className:bt.a["third-row"],children:[Object(a.jsxs)("div",{className:bt.a["second-text"],children:[Object(a.jsxs)("p",{className:bt.a.headers,children:["Start your ",Object(a.jsx)("span",{className:bt.a.lucida,children:"Smart Manager"})," Now "]}),Object(a.jsxs)("div",{className:bt.a.paragraph,children:[Object(a.jsxs)("p",{children:["Connect with other teams from ",Object(a.jsx)("span",{className:bt.a.lucida,children:"The Smart Family"}),","]}),Object(a.jsx)("p",{children:" save time with more work done."}),Object(a.jsx)("button",{className:bt.a["second-sign-up-button"],onClick:function(){return u(!o)},children:"Get Started"})]})]}),Object(a.jsx)("div",{className:bt.a["pic6-container"],children:Object(a.jsx)("img",{className:bt.a.picture,src:xt,alt:""})})]})]})]}),Object(a.jsxs)("footer",{className:bt.a.footer,children:[Object(a.jsxs)("div",{className:bt.a["footer-column"],children:[Object(a.jsx)("div",{className:bt.a["footer-headers"],children:Object(a.jsx)("p",{children:"Contact Us"})}),Object(a.jsxs)("div",{className:bt.a["footer-info"],children:[Object(a.jsx)("p",{children:"+359 52 317 395"}),Object(a.jsx)("p",{children:"smartmanager@gmail.com"})]})]}),Object(a.jsxs)("div",{className:bt.a["footer-column"],children:[Object(a.jsx)("div",{className:bt.a["footer-headers"],children:Object(a.jsx)("p",{children:"SERVICES"})}),Object(a.jsxs)("div",{className:bt.a["footer-info"],children:[Object(a.jsx)("p",{children:"Contact Us"}),Object(a.jsx)("p",{children:"Ordering & Payment FAQ"})]})]}),Object(a.jsxs)("div",{className:bt.a["footer-column"],children:[Object(a.jsx)("div",{className:bt.a["footer-headers"],children:Object(a.jsx)("p",{children:"INFORMATION"})}),Object(a.jsxs)("div",{className:bt.a["footer-info"],children:[Object(a.jsx)("p",{children:"About SMART MANAGER"}),Object(a.jsx)("p",{children:"Work With US"}),Object(a.jsx)("p",{children:"Privacy Policy"}),Object(a.jsx)("p",{children:"Terms & Conditions"})]})]}),Object(a.jsxs)("div",{className:bt.a["last-column"],children:[Object(a.jsxs)("div",{className:bt.a["social-media-container"],children:[Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:bt.a["social-media"],src:_t,alt:""})}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:bt.a["social-media"],src:vt,alt:""})}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:bt.a["social-media"],src:gt,alt:""})})]}),Object(a.jsx)("div",{className:bt.a.sd2006,children:"SD2006"})]})]})]})},Gt=n(16),Yt=n.n(Gt),Vt=n.p+"static/media/profile-page-pic.258ed489.svg",Kt=n.p+"static/media/pen.2057bbca.svg",qt=n(134),Xt=function(){var e=Object(r.useRef)(null),t=Object(r.useContext)(p),n=Object(r.useState)(null),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),b=u[0],m=u[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(r.useState)(t.user.username),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(r.useState)(null),y=Object(l.a)(w,2),T=y[0],S=y[1],P=Object(r.useState)(null),D=Object(l.a)(P,2),F=D[0],I=D[1],E=Object(r.useState)(!1),A=Object(l.a)(E,2),L=A[0],M=A[1],H=fe(e),W=Object(l.a)(H,2),B=W[0],z=W[1],U=fe(e),R=Object(l.a)(U,2),G=R[0],Y=R[1],V=Object(r.useState)(!1),K=Object(l.a)(V,2),q=K[0],X=K[1],Q=Object(j.h)(),Z=Object(j.g)(),$=t.user.username,ee=t.user.teams,te=Q.userid,ne=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(te));case 2:if((t=e.sent).ok){e.next=7;break}Z.push("/error"),e.next=11;break;case 7:return e.next=9,t.json();case 9:n=e.sent,i(n.email);case 11:case"end":return e.stop()}}),e)}))),[Z,te]),ae=function(){var e=Object(g.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),M(!1),m(!1),x(!1),k||T){e.next=6;break}return e.abrupt("return");case 6:if(T===F){e.next=9;break}return M(!0),e.abrupt("return");case 9:return e.next=11,Et("/api/user/".concat(te),"PUT",{username:k,password:T},(function(e){t.logIn(e)}),(function(e){console.log("Error",e)}));case 11:ne();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){ne()}),[ne]),!$)return Object(a.jsx)(tt,{children:Object(a.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})});function re(){window.cloudinary.createUploadWidget({cloudName:"do7mce7ni",uploadPreset:"uo9ubii7"},(function(e,n){if("success"===n.event){var a={path:n.info.path,publicId:n.info.public_id};Et("/api/user/image/".concat(te),"PUT",{newImage:a,oldImage:t.user.image},(function(e){t.logIn(e)}),(function(e){console.log("Error",e)})),ne()}})).open()}var se=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et("/api/user/image/".concat(te),"PUT",{oldImage:t.user.image},(function(e){t.logIn(e)}),(function(e){console.log("Error",e)}));case 2:ne();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(tt,{children:[q&&Object(a.jsx)(ge,{title:"delete this picture",hideConfirm:function(){return X(!1)},onConfirm:function(){return se()}}),Object(a.jsx)(rt,{title:"Profile"}),Object(a.jsxs)("div",{className:Yt.a.container,children:[Object(a.jsxs)("div",{className:Yt.a["left-container"],children:[Object(a.jsxs)("div",{className:Yt.a["button-input-div"],children:[Object(a.jsx)(J,{title:"Username:",className:Yt.a["navigate-buttons"],onClick:function(){x(!f)}}),Object(a.jsx)("input",{ref:function(e){null!==e&&e.focus()},value:k,onChange:function(e){return C(e.target.value)},className:Yt.a["input-fields-profile"],placeholder:$,disabled:!f})]}),Object(a.jsxs)("div",{className:Yt.a["button-input-div"],children:[Object(a.jsx)(J,{title:"Change Password",className:Yt.a["navigate-buttons"],onClick:function(){m(!b)}}),Object(a.jsx)("input",{onChange:function(e){return S(e.target.value)},className:Yt.a["input-fields-profile"],placeholder:"********",disabled:!b,type:"password"})]}),Object(a.jsx)("div",{className:Yt.a.alerts,children:Object(a.jsx)(It,{alert:L,message:"Passwords do not match"})}),b?Object(a.jsx)("div",{className:Yt.a["new-pass-alert"],children:"Important!!! You have to activate your new password by following the link sent to your email. You have to do this in the next hour in order for your new password to be activated"}):null,Object(a.jsxs)("div",{className:Yt.a["button-input-div"],children:[Object(a.jsx)(J,{title:"Confirm Password",className:Yt.a["navigate-buttons"],onClick:function(){m(!b)}}),Object(a.jsx)("input",{onChange:function(e){return I(e.target.value)},className:Yt.a["input-fields-profile"],placeholder:"********",disabled:!b,type:"password"})]}),Object(a.jsxs)("div",{className:Yt.a["button-input-div"],children:[Object(a.jsx)(J,{title:"Email:",className:Yt.a["navigate-buttons"]}),Object(a.jsx)("input",{className:Yt.a["input-fields-profile"],value:c,disabled:!0})]}),Object(a.jsxs)("div",{className:Yt.a["button-input-div-tasks"],children:[Object(a.jsx)(J,{title:"My Tasks",className:Yt.a["navigate-buttons"],onClick:function(){return Z.push("/my-tasks/".concat(te))}}),Object(a.jsx)("input",{className:Yt.a["input-fields-tasks"],value:"",disabled:!0})]}),Object(a.jsxs)("div",{className:Yt.a["button-input-div"],children:[Object(a.jsxs)("div",{className:Yt.a.myTeamsContainer,children:[Object(a.jsx)(J,{title:"My Teams",className:Yt.a["navigate-buttons"],onClick:function(){return z(!B)}}),Object(a.jsx)("div",{className:Yt.a["select-team-container"],children:B?Object(a.jsx)("div",{className:Yt.a["teams-home"],ref:e,children:ee.length>0?ee.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)("div",{className:Yt.a["navigate-buttons-teams"],onClick:function(){return t=e._id,void Z.push("/team/".concat(t));var t},title:e.name,children:e.name})},t)})):"You have not joined any teams yet"}):null})]}),Object(a.jsx)("div",{className:Yt.a["button-div-save"],children:Object(a.jsx)(J,{title:"SAVE",className:Yt.a["save-button"],onClick:function(e){return ae(e)}})})]})]}),Object(a.jsxs)("div",{className:Yt.a["pic-container"],children:[Object(a.jsxs)("div",{className:Yt.a["profile-pic-container"],children:[Object(a.jsx)("div",{className:Yt.a["profile-pic"],onClick:function(){t.user.image?Y(!G):re()},children:t.user.image?Object(a.jsxs)("div",{className:Yt.a["profile-picture"],children:[Object(a.jsx)(qt.Image,{publicId:t.user.image.publicId,className:Yt.a["profile-picture-pic"],children:Object(a.jsx)(qt.Transformation,{width:"200",height:"200",gravity:"faces",crop:"fill"})}),Object(a.jsx)("div",{className:Yt.a.relative,children:G&&Object(a.jsxs)("div",{ref:e,className:"".concat(Yt.a.menu),children:[Object(a.jsx)(J,{onClick:re,title:"Edit",className:Yt.a.edit}),Object(a.jsx)(J,{onClick:function(){X(!0)},title:"Delete",className:Yt.a.delete})]})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:Yt.a["load-pic-text"],children:"Load a profile picture"}),Object(a.jsx)("img",{className:Yt.a.pen,src:Kt,alt:""})]})}),Object(a.jsx)("p",{children:$})]}),Object(a.jsx)("img",{className:Yt.a.pic1,src:Vt,alt:""})]})]})]})},Qt=n(22),Zt=n.n(Qt),$t=n(253),en=n.n($t);function tn(e){var t=e.members,n=e.invited;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:en.a["members-avatars"],children:[Object(a.jsx)("div",{children:"Team Members:"}),t.map((function(e,t){return Object(a.jsx)(T,{title:Object(a.jsx)(z,{user:e,size:40})},t)}))]}),0!==n.length&&Object(a.jsxs)("div",{className:en.a["members-avatars"],children:[Object(a.jsx)("div",{children:"Invited Members:"}),n.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(z,{user:e,size:40})},t)}))]})]})}function nn(e){var t=Object(r.useState)(e.currTeam),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(s.name),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(s.description),h=Object(l.a)(m,2),O=h[0],f=h[1],_=Object(r.useState)(""),N=Object(l.a)(_,2),k=N[0],w=N[1],y=Object(r.useState)(s.members),S=Object(l.a)(y,2),P=S[0],D=S[1],I=Object(r.useState)(s.requests),E=Object(l.a)(I,2),A=E[0],L=E[1],M=Object(r.useState)([]),H=Object(l.a)(M,2),W=H[0],B=H[1],U=Object(r.useState)(!1),R=Object(l.a)(U,2),G=R[0],Y=R[1],V=Object(r.useState)([]),K=Object(l.a)(V,2),q=K[0],X=K[1],Q=Object(r.useState)(!1),Z=Object(l.a)(Q,2),$=Z[0],ee=Z[1],te=Object(r.useState)(!1),ne=Object(l.a)(te,2),ae=ne[0],re=ne[1],se=Object(r.useState)(""),ce=Object(l.a)(se,2),ie=ce[0],oe=ce[1],le=Object(r.useState)(""),ue=Object(l.a)(le,2),de=ue[0],je=ue[1],be=Object(j.g)(),me=Object(r.useContext)(C),pe=Object(r.useContext)(p),he=F(),Oe=Object(j.h)().teamid,fe=Object(r.useCallback)((function(){pe.user.teams.forEach((function(e){e._id===Oe&&c(e)}));var e=s.author;D(s.members),L(s.requests),f(s.description),d(s.name),pe.user.id===e&&ee(!0)}),[pe.user.id,s.author,s.description,s.members,s.name,s.requests,pe.user.teams,Oe]);Object(r.useEffect)((function(){fe()}),[fe]);var xe=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(t.target.value),Y(!1),0!==q.length){e.next=12;break}return n=b("x-auth-token"),e.next=6,fetch("/api/user/get-all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(a=e.sent).ok||be.push("/error"),e.next=10,a.json();case 10:r=e.sent,X(r);case 12:k.length>=2&&Y(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.filter((function(e){return e._id!==t._id})).filter((function(e){return e._id!==t.id}));case 2:return n=e.sent,a=b("x-auth-token"),e.next=6,fetch("/api/teams/".concat(Oe),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({name:u,description:O,members:n})});case 6:if(e.sent.ok){e.next=12;break}return be.push("/error"),e.abrupt("return");case 12:he.emit("team-update",Oe),t.id===pe.user.id&&be.push("/");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b("x-auth-token"),e.next=3,fetch("/api/teams/".concat(Oe),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({removeInvitation:t})});case 3:if(e.sent.ok){e.next=9;break}return be.push("/error"),e.abrupt("return");case 9:fe(),he.emit("team-update",Oe),he.emit("message-sent",t._id);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var t=Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b("x-auth-token"),t.next=3,fetch("/api/teams/".concat(Oe),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:u,description:O,members:P,requests:W})});case 3:if(t.sent.ok){t.next=9;break}return be.push("/error"),t.abrupt("return");case 9:me.setSelectedTeam(u),fe(),he.emit("team-update",Oe),he.emit("multiple-messages-sent",W),e.hideForm();case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function ke(){return(ke=Object(g.a)(v.a.mark((function t(){var n,a,r,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("You will lost all team information - projects, lists and tasks")){t.next=2;break}return t.abrupt("return");case 2:return n=b("x-auth-token"),t.next=5,fetch("/api/teams/".concat(Oe),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 5:if((a=t.sent).ok){t.next=10;break}be.push("/error"),t.next=17;break;case 10:return t.next=12,a.json();case 12:r=t.sent,s=[].concat(Object(x.a)(r.members),Object(x.a)(r.requests)),he.emit("team-deleted",{id:Oe,recievers:s}),be.push("/"),e.hideForm();case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ce={"remove this member":function(e){var t=W.filter((function(t){return t._id!==e._id}));B(t)},"leave this team":_e,"delete this member from team":_e,"delete this member from invited":ve,"delete this team":function(){return ke.apply(this,arguments)}};return Object(a.jsxs)("div",{children:[ae&&Object(a.jsx)(ge,{title:ie,hideConfirm:function(){return re(!1)},onConfirm:function(){return Ce[ie](de)}}),Object(a.jsx)("div",{className:Zt.a.form,children:Object(a.jsxs)("div",{className:Zt.a.container,children:[Object(a.jsx)("div",{className:Zt.a.title,children:"Team"}),Object(a.jsxs)("div",{className:Zt.a["input-container"],children:[Object(a.jsx)("span",{children:" Name"}),Object(a.jsx)("input",{className:Zt.a["input-name"],value:u,onChange:function(e){return d(e.target.value)},label:"Name",id:"name"})]}),Object(a.jsxs)("div",{className:Zt.a["input-container-descr"],children:[Object(a.jsx)("span",{children:" Description"}),Object(a.jsx)("textarea",{className:Zt.a["text-area-descr"],value:O,onChange:function(e){return f(e.target.value)},label:"Description",id:"description",spellCheck:"false"})]}),$?Object(a.jsxs)("div",{className:Zt.a["input-container-invite"],children:[Object(a.jsx)("span",{className:Zt.a["text-invite"],children:" Invite Members"}),Object(a.jsxs)("div",{className:Zt.a["invite-input"],children:[Object(a.jsx)("input",{className:Zt.a["input-invite"],autoComplete:"off",value:k,onChange:xe,label:"Invite members",id:"members",placeholder:"username",onBlur:function(){setTimeout((function(){return Y(!1)}),120)}}),Object(a.jsx)("div",{className:Zt.a["select-for-invite"],children:G?Object(a.jsx)("div",{className:Zt.a.members,children:q.filter((function(e){return e.username.toLowerCase().includes(k.toLowerCase())&&!e.username.includes(pe.user.username)})).filter((function(e){return!P.find((function(t){return t.username===e.username}))})).filter((function(e){return!A.find((function(t){return t.username===e.username}))})).filter((function(e){return!W.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e,t){return Object(a.jsx)(T,{className:Zt.a.user,onClick:function(){return function(e){var t=Object(x.a)(W);t.push(e),B(t),Y(!1),w("")}(e)},title:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.username}),Object(a.jsx)("div",{className:Zt.a.email,children:e.email})]})},t)}))}):null})]})]}):null,$?Object(a.jsxs)("div",{className:Zt.a["members-div"],children:[Object(a.jsx)("div",{className:Zt.a["members-avatars"],children:Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:"Send Invitation:"}),W.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(z,{user:e,size:40,onClick:function(){re(!0),oe("remove this member"),je(e)}})},t)}))]})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:Zt.a.membersAvatars,children:[Object(a.jsx)("div",{children:"Team Members:"}),P.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(z,{user:e,size:40,onClick:function(){re(!0),oe("delete this member from team"),je(e)}})},t)}))]}),0!==A.length?Object(a.jsxs)("div",{className:Zt.a.membersAvatars,children:[Object(a.jsx)("div",{children:"Invited Members:"}),A.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(z,{user:e,size:40,onClick:function(){re(!0),oe("delete this member from invited"),je(e)}})},t)}))]}):null]}),Object(a.jsxs)("div",{className:Zt.a["button-div"],children:[Object(a.jsx)(J,{className:Zt.a["create-button"],onClick:function(){return Ne()},title:"Submit Changes"}),Object(a.jsx)(J,{className:Zt.a["create-button"],title:"Delete Team",onClick:function(){re(!0),oe("delete this team"),je("")}})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(tn,{members:P,invited:A}),!e.isMessage&&Object(a.jsx)("div",{className:Zt.a["leave-team-btn-div"],children:Object(a.jsx)(J,{title:"Leave Team",className:Zt.a["leave-team-btn"],onClick:function(){re(!0),oe("leave this team"),je(pe.user)}})})]})]})})]})}var an=n(8),rn=n.n(an);function sn(){var e=Object(j.g)(),t=F(),n=b("x-auth-token"),a=Object(j.h)().userid,s=Object(r.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1];return{moveToHistory:function(){var r=Object(g.a)(v.a.mark((function r(s){return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i){r.next=2;break}return r.abrupt("return");case 2:return o(!0),r.next=5,fetch("/api/user/inbox",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({message:s})});case 5:if(r.sent.ok){r.next=9;break}return e.push("/error"),r.abrupt("return");case 9:t.emit("message-sent",a);case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),deleteMessage:function(){var t=Object(g.a)(v.a.mark((function t(a,r){var s,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/user/message/".concat(a._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 2:if((s=t.sent).ok){t.next=6;break}return e.push("/error"),t.abrupt("return");case 6:return t.next=8,s.json();case 8:c=t.sent,r(c.inboxHistory);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),viewTeam:function(){var t=Object(g.a)(v.a.mark((function t(a,r,s){var c,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/teams/".concat(a.team.id),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 2:if((c=t.sent).ok){t.next=6;break}return e.push("/error"),t.abrupt("return");case 6:return t.next=8,c.json();case 8:i=t.sent,r(i),s(!0);case 11:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}}function cn(e){var t=e.message,n=e.setInbox,s=e.setInboxHistory,c=e.options,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)({}),p=Object(l.a)(m,2),h=p[0],O=p[1],f=Object(j.g)(),x=b("x-auth-token"),_=F(),N=Object(j.h)().userid,k=sn();function C(e,t){return w.apply(this,arguments)}function w(){return(w=Object(g.a)(v.a.mark((function e(t,a){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/teams/invitations/".concat(t.team.id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:x},body:JSON.stringify({message:t,accepted:a})});case 2:if((r=e.sent).ok){e.next=8;break}return f.push("/error"),e.abrupt("return");case 8:return e.next=10,r.json();case 10:c=e.sent,_.emit("team-update",t.team.id),n(c.inbox),s(c.inboxHistory),_.emit("message-sent",N),_.emit("message-sent",t.sendFrom._id);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:rn.a.message,children:[Object(a.jsxs)("div",{className:rn.a.container,children:[Object(a.jsx)("div",{className:rn.a.bold,children:t.subject}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",c)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Team name:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.team.name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Invited by:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.sendFrom.username})]}),t.team.isDeleted?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:rn.a.bold,children:"Team deleted"}),Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return k.moveToHistory(t)},title:"Move to History"})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return C(t,!0)},title:"Accept"}),Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return C(t,!1)},title:"Decline"}),Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return k.viewTeam(t,O,d)},title:"View Team"})]}),u&&Object(a.jsx)(be,{hideForm:function(){return d(!1)},children:Object(a.jsx)(nn,{currTeam:h,isMessage:!0,hideForm:function(){d(!1)}})})]})}function on(e){var t=e.message,n=e.options,s=e.setInboxHistory,c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)({}),j=Object(l.a)(d,2),b=j[0],m=j[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),O=h[0],f=h[1],x=sn();return Object(a.jsxs)(a.Fragment,{children:[O&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return f(!1)},onConfirm:function(){return x.deleteMessage(t,s)}}),Object(a.jsxs)("div",{className:rn.a.message,children:[Object(a.jsxs)("div",{className:rn.a.container,children:[void 0===t.accepted?Object(a.jsx)("div",{className:rn.a.container,children:Object(a.jsx)("div",{className:rn.a.bold,children:t.subject})}):Object(a.jsxs)("div",{className:rn.a.container,children:[Object(a.jsxs)("div",{className:rn.a.bold,children:[t.subject,":"]}),t.accepted?Object(a.jsx)("div",{children:"Accepted"}):Object(a.jsx)("div",{children:"Declined"})]}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",n)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Team name:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.team.name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Invited by:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.sendFrom.username})]}),t.team.isDeleted&&Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Team deleted"}),Object(a.jsxs)("div",{children:[!t.team.isDeleted&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return x.viewTeam(t,m,u)},title:"View Team"}),Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return f(!0)},title:"Delete Message"}),o&&Object(a.jsx)(be,{hideForm:function(){return u(!1)},children:Object(a.jsx)(nn,{currTeam:b,isMessage:!0,hideForm:function(){u(!1)}})})]})]})]})}function ln(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=sn();return Object(a.jsxs)(a.Fragment,{children:[u&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return d(!1)},onConfirm:function(){return j.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:rn.a.message,children:[Object(a.jsxs)("div",{className:rn.a.container,children:[Object(a.jsxs)("div",{className:rn.a.container,children:[Object(a.jsxs)("div",{className:rn.a.bold,children:[t.subject,":"]}),Object(a.jsxs)("span",{children:[t.sendFrom.username,t.accepted?Object(a.jsx)("span",{children:" accepted"}):Object(a.jsx)("span",{children:" declined"})]})]}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Team name:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.team.name})]}),Object(a.jsxs)("div",{children:[c&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return j.moveToHistory(t)},title:"Move to History"}),!c&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return d(!0)},title:"Delete Message"})]})]})]})}function un(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(j.g)(),o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],m=sn();return Object(a.jsxs)(a.Fragment,{children:[d&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return b(!1)},onConfirm:function(){return m.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:rn.a.message,children:[Object(a.jsxs)("div",{className:rn.a.container,children:[Object(a.jsx)("div",{className:rn.a.bold,children:t.subject}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"".concat(rn.a.inline," ").concat(rn.a.margin),children:[Object(a.jsx)("span",{className:rn.a.bold,children:"Project:"}),t.project.name]}),Object(a.jsxs)("div",{className:"".concat(rn.a.inline," ").concat(rn.a.margin),children:[Object(a.jsx)("span",{className:rn.a.bold,children:"List:"}),t.list.name]}),Object(a.jsxs)("div",{className:"".concat(rn.a.inline," ").concat(rn.a.margin),children:[Object(a.jsx)("span",{className:rn.a.bold,children:"Task:"}),t.card.name]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Assigned by:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.sendFrom.username})]}),(t.team.isDeleted||t.project.isDeleted)&&Object(a.jsx)("div",{className:rn.a.bold,children:"Project deleted"}),Object(a.jsxs)("div",{children:[!t.team.isDeleted&&!t.project.isDeleted&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return i.push("/project-board/".concat(t.team.id,"/").concat(t.project.id))},title:"Go to Project"}),c?Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return m.moveToHistory(t)},title:"Move to History"}):Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return b(!0)},title:"Delete Message"})]})]})]})}var dn=n(365),jn=n.n(dn);function bn(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=sn();return Object(a.jsxs)(a.Fragment,{children:[u&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return d(!1)},onConfirm:function(){return j.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:rn.a.message,children:[Object(a.jsxs)("div",{className:rn.a.container,children:[Object(a.jsx)("div",{className:rn.a.container,children:Object(a.jsxs)("div",{className:rn.a.bold,children:["Team ",t.team.name," deleted"]})}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Deleted by:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.sendFrom.username})]}),Object(a.jsxs)("div",{children:[c&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return j.moveToHistory(t)},title:"Move to History"}),!c&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return d(!0)},title:"Delete Message"})]})]})]})}function mn(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=sn();return Object(a.jsxs)(a.Fragment,{children:[u&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return d(!1)},onConfirm:function(){return j.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:rn.a.message,children:[Object(a.jsxs)("div",{className:rn.a.container,children:[Object(a.jsx)("div",{className:rn.a.container,children:Object(a.jsxs)("div",{className:rn.a.bold,children:["Project ",t.project.name," deleted"]})}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Deleted by:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.sendFrom.username})]}),Object(a.jsxs)("div",{children:[c&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return j.moveToHistory(t)},title:"Move to History"}),!c&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return d(!0)},title:"Delete Message"})]})]})]})}function pn(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=Object(r.useState)({}),b=Object(l.a)(j,2),m=b[0],p=b[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),f=O[0],x=O[1],_=sn();return Object(a.jsxs)(a.Fragment,{children:[f&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return x(!1)},onConfirm:function(){return _.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:rn.a.message,children:[Object(a.jsxs)("div",{className:rn.a.container,children:[Object(a.jsx)("div",{className:rn.a.bold,children:t.subject}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Team name:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.team.name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(rn.a.bold," ").concat(rn.a.inline),children:"Invited by:"}),Object(a.jsx)("div",{className:rn.a.inline,children:t.sendFrom.username})]}),t.team.isDeleted&&Object(a.jsx)("div",{className:rn.a.bold,children:"Team deleted"}),!t.team.isDeleted&&Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return _.viewTeam(t,p,d)},title:"View Team"}),c?Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return _.moveToHistory(t)},title:"Move to History"}):Object(a.jsx)(J,{className:rn.a.button,onClick:function(){return x(!0)},title:"Delete Message"}),u&&Object(a.jsx)(be,{hideForm:function(){return d(!1)},children:Object(a.jsx)(nn,{currTeam:m,isMessage:!0,hideForm:function(){d(!1)}})})]})]})}var hn=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)([]),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(j.g)(),m=F(),p=b("x-auth-token"),h={weekday:"short",year:"numeric",month:"short",day:"numeric"},O=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/inbox",{method:"GET",headers:{"Content-Type":"application/json",Authorization:p}});case 2:if((t=e.sent).ok){e.next=8;break}return d.push("/error"),e.abrupt("return");case 8:return e.next=10,t.json();case 10:n=e.sent,s(n.inbox),u(n.inboxHistory);case 13:case"end":return e.stop()}}),e)}))),[d,p]);Object(r.useEffect)((function(){O()}),[O]);var f=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.inboxUser.inbox),u(t.inboxUser.inboxHistory);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.useEffect)((function(){if(m)return m.on("message-sent",f),function(){return m.off("message-sent")}}),[m,f]),Object(a.jsxs)(tt,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(rt,{title:"Inbox"}),0===n.length&&Object(a.jsx)("div",{className:jn.a.title,children:"Inbox is empty"}),Object(x.a)(n).reverse().map((function(e){switch(e.subject){case"Team invitation":return Object(a.jsx)(cn,{message:e,setInbox:s,setInboxHistory:u,options:h},e._id);case"Team invitation response":return Object(a.jsx)(ln,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id);case"Team invitation canceled":return Object(a.jsx)(pn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id);case"Task assignment":return Object(a.jsx)(un,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id);case"Team deleted":return Object(a.jsx)(bn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id);case"Project deleted":return Object(a.jsx)(mn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id)}return""}))]}),0!==o.length&&Object(a.jsxs)("div",{children:[Object(a.jsx)(rt,{title:"History"}),Object(x.a)(o).reverse().map((function(e){switch(e.subject){case"Team invitation":return Object(a.jsx)(on,{message:e,setInbox:s,setInboxHistory:u,options:h},e._id);case"Team invitation response":return Object(a.jsx)(ln,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id);case"Team invitation canceled":return Object(a.jsx)(pn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id);case"Task assignment":return Object(a.jsx)(un,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id);case"Team deleted":return Object(a.jsx)(bn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id);case"Project deleted":return Object(a.jsx)(mn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id)}return""}))]})]})},On=n(20),fn=n.n(On),xn=n.p+"static/media/my-tasks.46584e94.svg",_n=n(56),vn=n.n(_n),gn=n(39),Nn=n.n(gn),kn=n.p+"static/media/pic1.ca559522.svg",Cn=n.p+"static/media/pic12.fb545938.svg",wn=n(21),yn=n.n(wn),Tn=n.p+"static/media/pic10.ec534a02.svg",Sn=n(89),Pn=n.n(Sn);function Dn(e){var t=e.members,n=e.deleteMemberOption,s=e.deleteMemberObj,c=b("x-auth-token"),i=Object(j.g)(),o=F(),u=Object(r.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),f=O[0],_=O[1];var N=function(){var e=s.project,t=s.teamId;o.emit("project-update",e),o.emit("task-team-update",t)},k=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r,o,l,u,d,j;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.cardMembers,a=s.setCardMembers,r=s.cardId,o=s.listId,l=n.indexOf(t),u=Object(x.a)(n),-1!==l&&u.splice(l,1),e.next=9,fetch("/api/projects/lists/cards/".concat(o,"/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({members:u})});case 9:if((d=e.sent).ok){e.next=14;break}i.push("/error"),e.next=20;break;case 14:return e.next=16,d.json();case 16:j=e.sent,s.setCurrCard(j),N(),a(u);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[m&&Object(a.jsx)(ge,{title:"delete this member",hideConfirm:function(){return p(!1)},onConfirm:function(){return k(f)}}),Object(a.jsx)("div",{className:Pn.a["all-card-members"],children:t.map((function(e,t){return Object(a.jsxs)("div",{className:Pn.a["each-member"],onClick:function(){return function(e){n&&(p(!0),_(e))}(e)},children:[Object(a.jsxs)("div",{className:Pn.a.name,children:[Object(a.jsx)("span",{className:Pn.a.avatar,children:Object(a.jsx)(z,{user:e,size:30,className:Pn.a.avatar})},e._id),Object(a.jsx)("span",{className:Pn.a.username,children:e.username})]}),n?Object(a.jsx)("span",{className:Pn.a["delete-icon"],children:"x"}):null]},t)}))})]})}var Fn=n(98),In=n.n(Fn),En=function(e){var t=e.members,n=e.maxLength,s=e.deleteMemberOption,c=e.deleteMemberObj,i=Object(r.useRef)(null),o=fe(i),u=Object(l.a)(o,2),d=u[0],j=u[1];return n=Math.min(n,t.length),Object(a.jsxs)("div",{className:In.a.members,onClick:function(){return j(!0)},ref:i,children:[d&&Object(a.jsx)(Dn,{members:t,deleteMemberOption:s,deleteMemberObj:c,setCurrCard:!0}),t.length>n?Object(a.jsxs)(a.Fragment,{children:[t.slice(0,n-1).map((function(e){return Object(a.jsx)("span",{className:In.a.avatar,children:Object(a.jsx)(z,{user:e,size:30,className:In.a.avatar})},e._id)})),Object(a.jsx)("span",{className:In.a.avatar,children:Object(a.jsx)(B.a,{color:"grey",name:["+"].concat(Object(x.a)("".concat(t.length-n+1).split(""))).join(" "),size:30,round:!0,maxInitials:3,className:In.a.avatar})})]}):Object(a.jsx)(a.Fragment,{children:t.map((function(e){return Object(a.jsx)("span",{className:In.a.avatar,children:Object(a.jsx)(z,{user:e,size:30})},e._id)}))})]})};function An(e){var t=e.card,n=e.listId,s=e.project,c=e.teamId,i=e.setCurrCard,o=Object(r.useRef)(null),u=Object(r.useState)(null),d=Object(l.a)(u,2),m=d[0],p=d[1],h=fe(o),O=Object(l.a)(h,2),f=O[0],_=O[1],N=Object(r.useState)([]),k=Object(l.a)(N,2),C=k[0],w=k[1],y=Object(j.g)(),T=F(),S=b("x-auth-token");Object(r.useEffect)((function(){p(t.members)}),[t.members]);var P=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/teams/get-users/".concat(c),{method:"GET",headers:{"Content-Type":"application/json",Authorization:S}});case 2:return(t=e.sent).ok||y.push("/error"),e.next=6,t.json();case 6:for(s in n=e.sent,a=n.members,r=function(e){a=a.filter((function(t){return t._id!==m[e]._id}))},m)r(s);w(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(v.a.mark((function e(a){var r,o,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("select"!==a){e.next=2;break}return e.abrupt("return");case 2:if(r=C.filter((function(e){return e._id===a}))[0],s.membersRoles.filter((function(e){return e.memberId._id===r._id}))[0]){e.next=11;break}if(window.confirm("Do you want to add ".concat(r.username," to project?"))){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,fetch("/api/projects/".concat(s._id,"/user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:S},body:JSON.stringify({member:r,admin:!1})});case 9:e.sent.ok||y.push("/error");case 11:return(o=Object(x.a)(m)).push(r),e.next=15,fetch("/api/projects/lists/cards/".concat(n,"/").concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:S},body:JSON.stringify({members:o,newMember:r,teamId:c,projectId:s._id,cardId:t._id,listId:n})});case 15:if((l=e.sent).ok){e.next=20;break}y.push("/error"),e.next=29;break;case 20:return e.next=22,l.json();case 22:u=e.sent,i&&i(u),_(!f),p(o),T.emit("project-update",s),T.emit("task-team-update",c),T.emit("message-sent",r._id);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:yn.a["small-buttons"],onClick:function(){P(),_(!f)},children:[Object(a.jsx)("img",{className:yn.a.pics,src:Tn,alt:"pic10"}),"Add Teammate"]}),f&&Object(a.jsx)("form",{ref:o,children:Object(a.jsxs)("select",{className:yn.a.select,onChange:function(e){D(e.target.value)},children:[Object(a.jsx)("option",{value:"select",children:"Select"}),C.map((function(e){return Object(a.jsx)("option",{value:e._id,children:e.username},e._id)}))]})}),!f&&t.members.length>0&&Object(a.jsx)("div",{className:yn.a.members,children:Object(a.jsx)(En,{members:t.members,maxLength:4,deleteMemberOption:!0,deleteMemberObj:{cardMembers:m,setCardMembers:p,cardId:t._id,listId:n,project:s,teamId:c,setCurrCard:i}})})]})}var Ln=n(88),Mn=n.n(Ln),Hn=/%[aAbBdmwyY]/g,Wn=["January","February","March","April","May","June","July","August","September","October","November","December"],Bn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],zn=864e5,Un={y:function(e){return e.getUTCFullYear().toString().slice(-2)},Y:function(e){return e.getUTCFullYear()},m:function(e){return"0".concat(e.getMonth()+1).slice(-2)},b:function(e){return Wn[e.getMonth()].slice(0,3)},B:function(e){return Wn[e.getMonth()]},d:function(e){return"0".concat(e.getDate()).slice(-2)},a:function(e){return Bn[e.getDay()].slice(0,3)},A:function(e){return Bn[e.getDay()]},w:function(e){return Gn(e)}},Rn=function(e,t){return new Date(e.getTime()+t*zn)},Jn=function(e){var t=(e=e||new Date).getDay()||7,n=new Date(e);return n.setDate(e.getDate()-(t-1)),n},Gn=function(e){var t=Rn(Jn(e),3),n=new Date(e.getFullYear(),0,4),a=Rn(Jn(n),3);return 1+Math.round((t.getTime()-a.getTime())/6048e5)},Yn=function(e,t){return t.replace(Hn,(function(t){var n=t[1];return Un[n](e)}))},Vn=function(e,t){return e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},Kn=function(e,t){var n=e.getYear(),a=t.getYear();if(n!==a)return 1-2*(a>n);var r=e.getMonth(),s=t.getMonth();if(r!==s)return 1-2*(s>r);var c=e.getDate(),i=t.getDate();return c!==i?1-2*(i>c):0},qn=n.p+"static/media/pic5.13437b35.svg";function Xn(e){var t=e.dueDate,n=e.card,s=e.listId,c=e.project,i=e.teamId,o=e.setCurrCard,u=Object(r.useState)(null),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(r.useState)(null),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(r.useState)(0),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(j.g)(),y=F(),T=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());Object(r.useEffect)((function(){return S(),window.addEventListener("resize",S),function(){return window.removeEventListener("resize",S)}}),[]);var S=function(){var e=window.innerWidth;C(e)};Object(r.useEffect)((function(){if(p(t),m){var e=m.getTime()?Yn(m,"%d-%m-%Y"):"";x(e)}}),[t,m]);var P,D=Object(r.useCallback)((function(){y.emit("project-update",c),y.emit("task-team-update",i)}),[y,c,i]),I=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==m||""!==t){e.next=3;break}return console.log("return"),e.abrupt("return");case 3:return a=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/cards/".concat(s,"/").concat(n._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({dueDate:t,teamId:i})});case 6:if((r=e.sent).ok){e.next=12;break}return w.push("/error"),e.abrupt("return");case 12:return e.next=14,r.json();case 14:c=e.sent,o&&o(c),D();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(Mn.a,{customInput:Object(a.jsxs)("div",{className:yn.a["small-buttons"],children:[Object(a.jsx)("img",{className:yn.a.pics,src:qn,alt:"pic5"}),"Due Date"]}),selected:f?m:T,onChange:function(e){p(e),I(e)},label:"Go to date",popperPlacement:(P=k,P>750?"bottom-end":"bottom-start")}),f&&Object(a.jsx)("div",{className:yn.a.date,children:f})]})}function Qn(e){var t=e.taskHistory,n=[];if(t)for(var r=0;r<t.length;r++){var s=t[r];if(r===t.length-1){n.push(s);break}s.event.slice(0,8)===t[r+1].event.slice(0,8)&&s.date===t[r+1].date||n.push(s)}function c(e){var t=new Date(e);return("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear()}return Object(a.jsx)("div",{className:yn.a.history,children:t?n.reverse().map((function(e,t){return Object(a.jsx)("div",{children:"".concat(c(e.date)," - ").concat(e.event)},t)})):null})}var Zn=n.p+"static/media/pic2.da3fabc3.svg",$n=n(256),ea=n.n($n);function ta(e){var t,n=e.progress;return Object(a.jsx)("div",{className:ea.a.bar,children:Object(a.jsx)("div",{style:{width:"".concat(n,"%"),backgroundColor:(t=n,Number(t)<=20?"red":Number(t)<=40?"orange":Number(t)<=80?"blue":Number(t)>80?"green":void 0)},className:ea.a.progress})})}function na(e){var t=e.card,n=e.listId,s=e.project,c=e.teamId,i=e.taskHistory,o=e.setTaskHistory,u=e.setCurrCard,d=b("x-auth-token"),m=Object(j.g)(),p=F(),h=Object(r.useRef)(null),O=Object(r.useState)(null),f=Object(l.a)(O,2),_=f[0],N=f[1],k=Object(r.useState)(null),C=Object(l.a)(k,2),w=C[0],y=C[1],T=Object(r.useState)(!0),S=Object(l.a)(T,2),P=S[0],D=S[1],I=fe(h),E=Object(l.a)(I,2),A=E[0],L=E[1],M=Object(r.useState)(!1),H=Object(l.a)(M,2),W=H[0],B=H[1],z=Object(r.useMemo)((function(){return new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())}),[]);Object(r.useEffect)((function(){B(null!==t.progress),N(t.progress)}),[t.progress]);var U=function(){var e=Object(g.a)(v.a.mark((function e(){var a,r,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==_){e.next=4;break}return B(!1),L(!1),e.abrupt("return");case 4:if(w!==_&&P){e.next=8;break}return N(w),D(!0),e.abrupt("return");case 8:return(a=Object(x.a)(i)).push({event:"Progress ".concat(_,"%"),date:z}),o(a),e.next=13,fetch("/api/projects/lists/cards/".concat(n,"/").concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:d},body:JSON.stringify({progress:_,history:a})});case 13:if((r=e.sent).ok){e.next=18;break}m.push("/error"),e.next=24;break;case 18:return e.next=20,r.json();case 20:l=e.sent,u&&u(l),p.emit("project-update",s),p.emit("task-team-update",c);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function R(){B(!0),L(!0),y(_)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:yn.a["small-buttons"],onClick:R,children:[Object(a.jsx)("img",{className:yn.a.pics,src:Zn,alt:""}),"Progress"]}),null!==t.progress&&Object(a.jsx)("div",{className:yn.a["progress-bar"],children:Object(a.jsx)(ta,{progress:t.progress})}),W&&Object(a.jsx)("div",{className:yn.a["progress-input-container"],children:A?Object(a.jsxs)("span",{ref:h,children:[Object(a.jsx)("input",{ref:function(e){null!=e&&e.focus()},id:"progress",type:"number",min:"0",max:"100",className:"".concat(yn.a["progress-input"]," ").concat(!P&&yn.a["bad-input"]),value:_,onKeyDown:function(e){27===e.keyCode&&(N(w),L(!1),D(!0),null===_&&B(!1))},onKeyUp:function(){!_||Number(_)<0||Number(_)>100?D(!1):D(!0)},onChange:function(e){return N(e.target.value)},onBlur:U}),Object(a.jsx)("span",{children:"%"})]}):Object(a.jsxs)("div",{className:yn.a.progress,onClick:R,children:[_,"%"]})})]})}var aa=n.p+"static/media/pic6.c59aaea5.svg",ra=n(186),sa=n.n(ra),ca=n(99),ia=n.n(ca),oa=n.p+"static/media/download.14191704.svg",la=n.p+"static/media/remove.ce4f1a54.svg";function ua(e){var t=e.attachments,n=e.listRef,s=e.card,c=e.project,i=e.teamId,o=e.setCurrCard,u=F(),d=Object(j.g)(),m=b("x-auth-token"),p=Object(r.useState)([]),h=Object(l.a)(p,2),O=h[0],f=h[1],x=Object(r.useState)(!1),_=Object(l.a)(x,2),N=_[0],k=_[1],C=Object(r.useState)(""),w=Object(l.a)(C,2),y=w[0],S=w[1];Object(r.useEffect)((function(){f(t)}),[t]);function P(){return(P=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/projects/lists/cards/attachments/".concat(s._id,"/").concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:m}});case 2:if((n=e.sent).ok){e.next=8;break}return d.push("/error"),e.abrupt("return");case 8:return e.next=10,n.json();case 10:a=e.sent,o&&o(a),f(a.attachments),u.emit("project-update",c),u.emit("task-team-update",i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(a.Fragment,{children:[N&&Object(a.jsx)(ge,{title:"remove this attachment",hideConfirm:function(){return k(!1)},onConfirm:function(){return function(e){return P.apply(this,arguments)}(y)}}),Object(a.jsxs)("div",{ref:n,className:ia.a.container,children:[Object(a.jsx)("div",{className:ia.a.title,children:"Task Attachments"}),O.map((function(e,t){return Object(a.jsxs)("div",{className:ia.a.attachment,children:[Object(a.jsxs)("div",{className:ia.a.name,children:[e.name,".",e.format]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(T,{title:Object(a.jsx)("img",{className:ia.a.button,src:oa,alt:"Download"}),onClick:function(){return window.open(function(e){return"https://res.cloudinary.com/".concat("do7mce7ni","/raw/upload/fl_attachment/").concat(e.path)}(e),"_blank")}}),Object(a.jsx)(T,{title:Object(a.jsx)("img",{className:ia.a.button,src:la,alt:"Remove"}),onClick:function(){k(!0),S(e)}})]})]},t)}))]})]})}function da(e){var t=e.att,n=e.attachments,s=e.card,c=e.project,i=e.teamId,o=e.setCurrCard,u=Object(r.useRef)(null),d=fe(u),j=Object(l.a)(d,2),b=j[0],m=j[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:sa.a.attachment,onClick:function(){return m(!0)},title:t.name,children:[Object(a.jsx)("img",{src:kn,alt:"",className:sa.a["att-picture"]}),Object(a.jsx)("div",{className:sa.a.format,children:t.format})]}),b&&Object(a.jsx)(be,{hideForm:function(){return m(!1)},children:Object(a.jsx)(ua,{listRef:u,attachments:n,card:s,project:c,teamId:i,setCurrCard:o})})]})}function ja(e){var t=e.card,n=e.project,s=e.teamId,c=e.setCurrCard,i=b("x-auth-token"),o=Object(j.g)(),u=F(),d=Object(r.useState)(null),m=Object(l.a)(d,2),p=m[0],h=m[1];return Object(r.useEffect)((function(){h(t.attachments)}),[t.attachments]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:yn.a["small-buttons"],onClick:function(){window.cloudinary.createUploadWidget({cloudName:"do7mce7ni",uploadPreset:"uo9ubii7",resourceType:"raw"},function(){var e=Object(g.a)(v.a.mark((function e(a,r){var c,l,d,j,b,m,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==r.event){e.next=20;break}return c=r.info.path,l=r.info.original_filename,(d=r.info.format)||(d=c.split(".")[1]),j=r.info.public_id,b={path:c,name:l,format:d,publicId:j},e.next=9,fetch("/api/projects/lists/cards/attachments/".concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({attachment:b})});case 9:if((m=e.sent).ok){e.next=14;break}o.push("/error"),e.next=20;break;case 14:return e.next=16,m.json();case 16:p=e.sent,h(p.attachments),u.emit("project-update",n),u.emit("task-team-update",s);case 20:if(!a){e.next=22;break}return e.abrupt("return");case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).open()},children:[Object(a.jsx)("img",{className:yn.a.pics,src:aa,alt:"pic6"}),"Attach File"]}),p&&Object(a.jsx)("div",{className:yn.a["att-container"],children:p.length<=4?p.map((function(e){return Object(a.jsx)(da,{att:e,attachments:p,card:t,project:n,teamId:s,setCurrCard:c},e._id)})):Object(a.jsxs)(a.Fragment,{children:[p.slice(0,3).map((function(e){return Object(a.jsx)(da,{att:e,attachments:p,card:t,project:n,teamId:s,setCurrCard:c},e._id)})),Object(a.jsxs)("div",{className:"".concat(yn.a.remaining," ").concat(yn.a.attachment),children:["+",p.length-3]})]})})]})}function ba(e){var t=e.listId,n=e.initialCard,s=e.project,c=e.teamId,i=e.hideForm,o=e.setCurrCard,u=Object(r.useRef)(null),d=Object(r.useRef)(null),m=Object(r.useState)(null),p=Object(l.a)(m,2),h=p[0],O=p[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),_=x[0],N=x[1],k=Object(r.useState)(""),C=Object(l.a)(k,2),w=C[0],y=C[1],T=Object(r.useState)(null),S=Object(l.a)(T,2),P=S[0],D=S[1],I=Object(j.g)(),E=F(),A=Object(r.useState)(null),L=Object(l.a)(A,2),M=L[0],H=L[1],W=Object(r.useState)(null),B=Object(l.a)(W,2),z=B[0],U=B[1],R=Object(r.useMemo)((function(){return new Date(n.dueDate)}),[n.dueDate]),J=b("x-auth-token"),G=Object(r.useState)(!1),Y=Object(l.a)(G,2),V=Y[0],K=Y[1];Object(r.useEffect)((function(){O(n),N(n.name),y(n.description),D(n.history)}),[n]);var q=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/projects/lists/cards/".concat(t,"/").concat(h._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:J}});case 2:e.sent.ok?(E.emit("project-update",s),E.emit("task-team-update",c),i()):I.push("/error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/projects/lists/cards/".concat(t,"/").concat(h._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:J},body:JSON.stringify({name:_,description:w})});case 2:e.sent.ok?(E.emit("project-update",s),E.emit("task-team-update",c)):I.push("/error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Q(e,t,n){27===e.keyCode&&(t(z),setTimeout((function(){n.current.blur()}),1))}return Object(r.useEffect)((function(){setTimeout((function(){H(u.current.scrollHeight+2)}),1)}),[]),Object(a.jsxs)("div",{className:Nn.a.menu,children:[V&&Object(a.jsx)(ge,{title:"delete this task",hideConfirm:function(){return K(!1)},onConfirm:function(){return q()}}),Object(a.jsxs)("div",{className:Nn.a.container,children:[Object(a.jsxs)("div",{className:Nn.a["task-name"],children:[Object(a.jsx)("span",{children:Object(a.jsx)("img",{src:kn,alt:"pic1"})}),Object(a.jsx)("textarea",{ref:u,className:"".concat(Nn.a["name-input"]," ").concat(Nn.a.text),style:{height:M},value:_,onFocus:function(){return U(_)},onKeyDown:function(e){return Q(e,N,u)},onChange:function(e){N(e.target.value),H(u.current.scrollHeight+2)},onBlur:function(){z!==_&&X()}})]}),Object(a.jsxs)("div",{className:Nn.a["task-body"],children:[Object(a.jsxs)("div",{className:Nn.a["left-side"],children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Nn.a.text,children:"Description"}),Object(a.jsx)("textarea",{className:Nn.a["description-input"],ref:d,value:w,onFocus:function(){return U(w)},onKeyDown:function(e){return Q(e,y,d)},onChange:function(e){return y(e.target.value)},onBlur:function(){z!==w&&X()}})]}),Object(a.jsxs)("div",{className:Nn.a["task-component"],children:[Object(a.jsx)("div",{className:Nn.a.text,children:"History"}),Object(a.jsx)(Qn,{taskHistory:P})]})]}),Object(a.jsx)("div",{className:Nn.a["right-side"],children:Object(a.jsxs)("div",{className:Nn.a["task-component"],children:[Object(a.jsx)("div",{className:Nn.a.text,children:"Manage"}),Object(a.jsx)(Xn,{dueDate:R,card:n,listId:t,project:s,teamId:c,setCurrCard:o}),Object(a.jsx)(An,{card:n,listId:t,project:s,teamId:c,setCurrCard:o}),Object(a.jsx)(na,{card:n,listId:t,project:s,teamId:c,taskHistory:P,setTaskHistory:D,setCurrCard:o}),Object(a.jsx)(ja,{card:n,project:s,teamId:c,setCurrCard:o}),Object(a.jsxs)("button",{className:Nn.a["small-buttons"],onClick:function(){K(!0)},title:"Delete Task",children:[Object(a.jsx)("img",{className:Nn.a.pics,src:Cn,alt:"pic12"}),"Delete Task"]})]})})]})]})]})}var ma=n(257),pa=n.n(ma),ha=function(e){var t=e.card,n=e.project,s=e.teamId,c=Object(r.useRef)(null),i=fe(c),o=Object(l.a)(i,2),u=o[0],d=o[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(T,{className:"".concat(pa.a.attachments," ").concat(pa.a.button),onClick:function(){return d(!0)},title:Object(a.jsx)("img",{src:aa,alt:"",width:"14px"})}),u&&Object(a.jsx)(be,{hideForm:function(){return d(!1)},children:Object(a.jsx)(ua,{listRef:c,attachments:t.attachments,card:t,project:n,teamId:s})})]})};function Oa(e){var t=e.teamId,n=e.project,s=e.list,c=e.card,i=Object(r.useRef)(null),o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),O=h[0],f=h[1],_=Object(r.useState)(""),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(r.useState)(!0),y=Object(l.a)(w,2),S=y[0],P=y[1],D=Object(j.g)(),I=F(),E=Math.ceil((Date.parse(c.dueDate)-Date.now())/1e3/3600/24);function A(){return(A=Object(g.a)(v.a.mark((function e(){var a,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!1),S&&Number(k)!==c.progress){e.next=5;break}return C(c.progress+"%"),P(!0),e.abrupt("return");case 5:if(""!==k){e.next=10;break}if(null!==c.progress){e.next=9;break}return C("Add"),e.abrupt("return");case 9:C(c.progress+"%");case 10:return a=new Date(Date.now()),(r=Object(x.a)(c.history)).push({event:"Progress ".concat(k,"%"),date:a}),i=b("x-auth-token"),e.next=16,fetch("/api/projects/lists/cards/".concat(s._id,"/").concat(c._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({progress:k,history:r})});case 16:if(e.sent.ok){e.next=22;break}return D.push("/error"),e.abrupt("return");case 22:I.emit("project-update",n),I.emit("task-team-update",t);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){null!==c.progress?C(c.progress+"%"):C("Add")}),[C,c.progress]),Object(a.jsxs)("div",{className:vn.a.card,children:[Object(a.jsx)("div",{className:vn.a.task,children:c.name}),Object(a.jsx)("div",{className:vn.a.progress,children:Object(a.jsx)("input",{ref:i,type:"text",className:"".concat(vn.a.input," ").concat(!S&&vn.a["bad-input"]," ").concat(!d&&vn.a["no-border"]),autoComplete:"off",value:k,onFocus:function(){m(!0),C("Add"!==k?Number(k.slice(0,-1)):"")},onBlur:function(){return A.apply(this,arguments)},onKeyUp:function(){Number.isNaN(Number(k))||Number(k)<0||Number(k)>100?P(!1):P(!0)},onChange:function(e){return C(e.target.value)}})}),Object(a.jsx)("div",{className:vn.a.days,children:100===c.progress?Object(a.jsx)("div",{children:"Done"}):0===Date.parse(c.dueDate)||null===c.dueDate?Object(a.jsx)("div",{children:"No Deadline"}):E<0?Object(a.jsx)("div",{className:vn.a.deadline,children:"Deadline Passed"}):Object(a.jsx)("div",{children:E})}),Object(a.jsxs)("div",{className:vn.a["buttons-container"],children:[c.attachments.length>0&&Object(a.jsx)(ha,{card:c,project:n,teamId:t}),Object(a.jsx)(T,{className:vn.a.button,onClick:function(){return f(!0)},title:Object(a.jsx)("img",{src:Kt,alt:"",width:"14"})})]}),O&&Object(a.jsx)("div",{className:vn.a.edit,children:Object(a.jsx)(be,{hideForm:function(){return f(!O)},children:Object(a.jsx)(ba,{hideForm:function(){return f(!O)},initialCard:c,listId:s._id,project:n,teamId:t})})})]},c._id)}var fa=function(){var e=Object(r.useContext)(p),t=Object(r.useState)([]),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(!1),u=Object(l.a)(i,2),d=u[0],m=u[1],h=Object(j.g)(),O=F(),x=Object(r.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(n){var a,r,s,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b("x-auth-token"),t.next=3,fetch("/api/user/tasks/".concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 3:if((r=t.sent).ok){t.next=8;break}h.push("/error"),t.next=15;break;case 8:return t.next=10,r.json();case 10:if("Team not found"!==(s=t.sent)){t.next=13;break}return t.abrupt("return");case 13:c(s),n!==e.user.lastTeamSelected&&((i=Object(o.a)({},e.user)).lastTeamSelected=n,e.setUser(Object(o.a)(Object(o.a)({},i),{},{loggedIn:!0})));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[h,e]);function _(e){c(e)}return Object(r.useEffect)((function(){if(e.user.lastTeamSelected&&null!=O){var t=e.user.lastTeamSelected;return O.on("task-team-updated",_),O.on("task-update-team",(function(e){e===t&&x(e)})),O.emit("task-team-join",t),function(){O.off("task-team-updated"),O.off("task-update-team")}}}),[O,x,e.user.lastTeamSelected]),Object(r.useEffect)((function(){e.user.lastTeamSelected&&x(e.user.lastTeamSelected)}),[x,e.user.lastTeamSelected]),Object(a.jsxs)(tt,{children:[Object(a.jsx)(rt,{title:"My Tasks"}),Object(a.jsxs)("div",{className:fn.a["button-container"],children:[Object(a.jsxs)("div",{className:fn.a["team-buttons"],children:[Object(a.jsx)("span",{className:fn.a.title,children:"Teams:"}),e.user.teams.map((function(t){return Object(a.jsx)(Je,{title:t.name,onClick:function(){return x(t._id)},className:"".concat(fn.a.teams," ").concat(e.user.lastTeamSelected===t._id&&fn.a.selected)},t._id)}))]}),Object(a.jsx)(T,{className:"".concat(fn.a.teams," ").concat(fn.a["projects-button"]),title:d?"Current Projects":"Old Projects",onClick:function(){return m(!d)}})]}),e.user.lastTeamSelected?Object(a.jsx)("div",{className:fn.a.box,children:0===s.length?Object(a.jsx)("div",{className:fn.a.title,children:"There is no current tasks"}):s.filter(d?function(e){return!0===e.isFinished}:function(e){return!1===e.isFinished||void 0===e.isFinished}).reverse().map((function(t){return Object(a.jsxs)("div",{className:fn.a.project,children:[Object(a.jsx)("div",{className:fn.a["project-name"],children:Object(a.jsxs)(f.b,{to:"/project-board/".concat(e.user.lastTeamSelected,"/").concat(t._id),className:fn.a.link,children:[Object(a.jsx)("span",{className:fn.a.bold,children:"Project:"})," ",t.name]})}),Object(a.jsxs)("div",{className:"".concat(fn.a.header," ").concat(fn.a.raw),children:[Object(a.jsx)("div",{className:fn.a.list,children:"List:"}),Object(a.jsxs)("div",{className:fn.a.container,children:[Object(a.jsx)("div",{className:fn.a.task,children:"Task:"}),Object(a.jsx)("div",{className:fn.a.progress,children:"Progress (%):"}),Object(a.jsx)("div",{className:fn.a.days,children:"Days Till End:"})]})]}),t.lists.map((function(n){return Object(a.jsxs)("div",{className:fn.a.raw,children:[Object(a.jsx)("div",{className:fn.a.list,children:n.name}),Object(a.jsx)("div",{className:fn.a["task-container"],children:n.cards.map((function(r){return Object(a.jsx)(Oa,{teamId:e.user.lastTeamSelected,project:t,list:n,card:r},r._id)}))})]},n._id)}))]},t._id)}))}):Object(a.jsx)("div",{className:fn.a.title,children:"Select a team"}),(!e.user.lastTeamSelected||0===s.length)&&Object(a.jsx)("div",{className:fn.a.pic,children:Object(a.jsx)("img",{src:xn,alt:""})})]})},xa=n(187),_a=n.n(xa),va=n.p+"static/media/error-page.65d8c265.svg";function ga(){return Object(a.jsxs)(tt,{children:[Object(a.jsx)("div",{className:_a.a.title,children:"Error Page"}),Object(a.jsx)("img",{className:_a.a.pic1,src:va,alt:""}),Object(a.jsx)("div",{className:_a.a.text,children:"Something went wrong."})]})}var Na=n(29),ka=n.n(Na),Ca=n.p+"static/media/pic1.58db5727.svg",wa=n.p+"static/media/pic2.28616bd4.svg",ya=n.p+"static/media/pic3.939d1110.svg",Ta=n.p+"static/media/pic4.78124d5d.svg";function Sa(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(a.jsxs)(tt,{children:[Object(a.jsx)("div",{children:n&&Object(a.jsx)(be,{hideForm:function(){return s(!1)},children:Object(a.jsx)(G,{hideForm:function(){s(!1)}})})}),Object(a.jsxs)("div",{className:ka.a.container,children:[Object(a.jsx)("div",{className:ka.a["logo-div"],children:Object(a.jsx)("img",{className:ka.a.logo,src:Q,alt:""})}),Object(a.jsx)("div",{className:ka.a.title,children:"Welcome to Smart Manager"}),Object(a.jsx)("div",{className:ka.a.title,children:"Get to know how to use Smart Manager in few quick steps:"}),Object(a.jsxs)("div",{className:ka.a.paragraph,children:["1. - In order to start using Smart Manager you have to be part of a team - you can create your own and work by yourself,  invite your colleagues and friends or can be invited in others by other smart manager users. You can create and join as many teams you want.",Object(a.jsx)("div",{className:ka.a["pic-div"],children:Object(a.jsx)("img",{className:ka.a.pic,src:Ca,alt:""})})]}),Object(a.jsxs)("div",{className:ka.a.paragraph,children:["2. - When you are already part of a team you can create and join different projects - again as many as you need. In your projects you can add your teammates and work together or you can organize your tasks by yourself.",Object(a.jsx)("div",{className:ka.a["pic-div"],children:Object(a.jsx)("img",{className:ka.a.pic,src:wa,alt:""})})]}),Object(a.jsxs)("div",{className:ka.a.paragraph,children:["3. - In each project you can organize your tasks by separating them into different lists - for example - To Do, Doing and Done or any other way. You can create as many lists you need. The tasks can be moved from one list to another or within the lists.",Object(a.jsx)("div",{className:ka.a["pic-div"],children:Object(a.jsx)("img",{className:ka.a.pic3,src:ya,alt:""})})]}),Object(a.jsxs)("div",{className:ka.a.paragraph,children:["4. - You can create as many tasks you need which gives you endless opportunities to keep track of the work you are doing. You can assign people for each task, select a due date and fill the progress as you work. You can attach files for each task and also keep track of the progress with task history.",Object(a.jsx)("div",{className:ka.a["pic-div"],children:Object(a.jsx)("img",{className:ka.a.pic,src:Ta,alt:""})})]}),Object(a.jsxs)("div",{className:ka.a.paragraph,children:["5. - Great! You are all set. Start your Smart experience and continue exploring countless opportunities by creating your first team.",Object(a.jsx)("div",{children:Object(a.jsx)(ut,{className:ka.a["navigate-buttons"],title:"Create New Team",onClick:function(){return s(!0)}})})]}),Object(a.jsxs)("div",{className:ka.a.greeting,children:["Enjoy!",Object(a.jsx)("div",{children:"Smart Manager Team"})]})]})]})}var Pa=n(178),Da=n(100),Fa=n.n(Da);function Ia(e){var t=e.card,n=e.project,s=e.showCurrentCard,c=e.setCurrCard,i=Object(r.useRef)(null),o=fe(i),u=Object(l.a)(o,2),d=u[0],b=u[1],m=Object(j.h)().teamid;return Object(a.jsxs)("div",{className:Fa.a.card,children:[Object(a.jsxs)("div",{children:[t.progress&&0!==t.progress||t.members.length>0||t.attachments.length>0?Object(a.jsxs)("div",{className:Fa.a.container,children:[t.progress?Object(a.jsx)("div",{className:Fa.a.progress,children:Object(a.jsx)(ta,{progress:t.progress})}):Object(a.jsx)("div",{}),Object(a.jsxs)("div",{className:Fa.a.container,children:[t.attachments.length>0&&Object(a.jsx)(ha,{card:t,project:n,teamId:m}),Object(a.jsx)(En,{members:t.members,maxLength:2})]})]}):null,Object(a.jsx)("div",{className:Fa.a["card-name"],children:t.name})]}),Object(a.jsx)(T,{className:Fa.a.button,onClick:function(){s(),c(t)},title:Object(a.jsx)("img",{src:Kt,alt:"",width:"11.5",height:"11.5"})}),d&&Object(a.jsx)(be,{hideForm:function(){return b(!1)},children:Object(a.jsx)(ua,{listRef:i,attachments:t.attachments,card:t,project:n,teamId:m})})]})}var Ea=n(42),Aa=n.n(Ea),La=n.p+"static/media/dots.d8dec8c6.svg";function Ma(e){var t=e.isAdmin,n=e.project,s=e.list,c=e.showEditList,i=e.showCurrentCard,u=e.setCurrCard,d=Object(r.useRef)(null),m=Object(r.useRef)(null),p=fe(m),h=Object(l.a)(p,2),O=h[0],f=h[1],x=fe(d),_=Object(l.a)(x,2),N=_[0],k=_[1],C=Object(r.useState)(""),w=Object(l.a)(C,2),y=w[0],S=w[1],P=Object(r.useState)(!1),D=Object(l.a)(P,2),I=D[0],E=D[1],A=Object(j.g)(),L=F(),M=Object(j.h)().teamid,H=Object(r.useCallback)((function(){L.emit("project-update",n)}),[L,n]);function W(){return(W=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b("x-auth-token"),e.next=3,fetch("/api/projects/lists/".concat(n._id,"/").concat(s._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:t}});case 3:e.sent.ok?(H(),L.emit("task-team-update",M)):A.push("/error");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==y){e.next=3;break}return e.abrupt("return");case 3:return n=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/cards/".concat(s._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:y,description:"",dueDate:"",progress:"",members:[]})});case 6:if(e.sent.ok){e.next=12;break}return A.push("/error"),e.abrupt("return");case 12:f(!O),S(""),H();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A,y,s._id,H,O,f]);return Object(a.jsxs)("div",{className:Aa.a.list,children:[I&&Object(a.jsx)(ge,{title:"you wish to delete this list",hideConfirm:function(){return E(!1)},onConfirm:function(){return function(){return W.apply(this,arguments)}()}}),Object(a.jsxs)("div",{className:Aa.a.row,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Aa.a.name,title:s.name,children:s.name}),Object(a.jsx)(ie,{color:s.color||"#A6A48E",type:"list"})]}),t&&Object(a.jsx)(T,{className:Aa.a.button,onClick:function(){return k(!N)},title:Object(a.jsx)("img",{className:Aa.a.dots,src:La,alt:"...",width:"20",height:"6"})})]}),Object(a.jsx)("div",{className:Aa.a.relative,children:N&&Object(a.jsxs)("div",{ref:d,className:"".concat(Aa.a.menu),children:[Object(a.jsx)(J,{onClick:function(){c(),k(!N)},title:"Edit",className:Aa.a.edit}),Object(a.jsx)(J,{onClick:function(){return E(!0)},title:"Delete",className:Aa.a.delete})]})}),Object(a.jsx)(xe.c,{droppableId:s._id,type:"droppableSubItem",children:function(e){return Object(a.jsxs)("div",{className:Aa.a.droppable,ref:e.innerRef,children:[s.cards.map((function(e,t){return Object(a.jsx)(xe.b,{draggableId:e._id,index:t,children:function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:Object(a.jsx)(Ia,{card:e,project:n,showCurrentCard:i,setCurrCard:u})})),t.placeholder]})}},e._id)})),e.placeholder]})}}),Object(a.jsx)("div",{className:Aa.a.flexend,children:O?Object(a.jsxs)("form",{ref:m,className:Aa.a.container,children:[Object(a.jsx)("input",{autoFocus:!0,className:Aa.a["task-input"],type:"text",value:y,onChange:function(e){return S(e.target.value)}}),Object(a.jsx)(T,{type:"submit",className:Aa.a["add-task"],onClick:B,title:"+ Add Task",project:n})]}):Object(a.jsx)(T,{className:Aa.a["add-task"],onClick:function(){return f(!O)},title:"+ Add Task"})})]})}var Ha=n(81),Wa=n.n(Ha),Ba=n.p+"static/media/pic.e34d3801.svg",za=n(60),Ua=n.n(za),Ra=n(373);function Ja(e){var t=Object(r.useRef)(null),n=Object(r.useState)(null),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(null),u=Object(l.a)(o,2),d=u[0],m=u[1],h=Object(r.useState)(e.list.name),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(j.g)(),N=F(),k=Object(r.useRef)(null),C=fe(k),w=Object(l.a)(C,2),y=w[0],S=w[1],P=Object(r.useState)(e.list.color||"#A6A48E"),D=Object(l.a)(P,2),I=D[0],E=D[1],A=Object(r.useState)(!1),L=Object(l.a)(A,2),M=L[0],H=L[1],W=e.project.membersRoles,B=Object(r.useContext)(p),z=e.project._id,U=e.list._id,R=Object(j.h)().teamid;function G(){return(G=Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b("x-auth-token"),t.next=3,fetch("/api/projects/lists/".concat(z,"/").concat(U),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:f,color:I})});case 3:t.sent.ok?(N.emit("project-update",e.project),N.emit("task-team-update",R),e.hideForm()):_.push("/error");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){H(Ce(B.user.id,W))}),[W,B.user.id]);return Object(r.useEffect)((function(){setTimeout((function(){i(t.current.scrollHeight+2)}),1)}),[]),Object(a.jsxs)("div",{className:Ua.a.container,children:[Object(a.jsx)(rt,{title:"Edit List"}),Object(a.jsxs)("div",{className:Ua.a["input-container"],children:[Object(a.jsx)("span",{className:Ua.a.name,children:" Name"}),Object(a.jsx)("textarea",{ref:t,className:"".concat(Ua.a["name-input"]," ").concat(Ua.a.text),style:{height:c},value:f,onFocus:function(){return m(f)},onKeyDown:function(e){return n=x,a=t,void(27===e.keyCode&&(n(d),setTimeout((function(){a.current.blur()}),1)));var n,a},onChange:function(e){x(e.target.value),i(t.current.scrollHeight+2)}})]}),Object(a.jsxs)("div",{className:Ua.a["change-color"],children:[Object(a.jsx)("span",{className:Ua.a["color-title"],children:"Color"}),Object(a.jsx)(T,{className:Ua.a["color-button"],style:{background:"".concat(I)},onClick:function(){return S(!y)}})]}),y&&Object(a.jsx)("div",{ref:k,children:Object(a.jsx)(Ra.a,{className:Ua.a["color-pick"],color:I,onChangeComplete:function(e){E(e.hex)}})}),Object(a.jsx)("div",{className:Ua.a["edit-list-button"],children:M&&Object(a.jsx)(J,{onClick:function(){return G.apply(this,arguments)},title:"Edit List"})})]})}function Ga(){return(Ga=Object(g.a)(v.a.mark((function e(t){var n,a,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b("x-auth-token"),a=Object(j.g)(),s=Object(r.useContext)(p),t!==s.user.lastTeamSelected){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("/api/user/".concat(s.user.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({lastTeamSelected:t})});case 7:e.sent.ok||a.push("/error"),(c=Object(o.a)({},s.user)).lastTeamSelected=t,s.setUser(Object(o.a)({},c));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ya=function(e){return Ga.apply(this,arguments)};function Va(){var e=Object(j.h)(),t=Object(j.g)(),n=Object(r.useState)(!1),s=Object(l.a)(n,2),c=s[0],i=s[1],u=Object(r.useState)(""),h=Object(l.a)(u,2),O=h[0],f=h[1],_=Object(r.useRef)(null),N=fe(_),k=Object(l.a)(N,2),C=k[0],w=k[1],y=F(),S=Object(r.useContext)(re),P=Object(r.useState)(!1),D=Object(l.a)(P,2),I=D[0],E=D[1],A=Object(r.useState)(""),L=Object(l.a)(A,2),M=L[0],H=L[1],W=Object(r.useState)(""),B=Object(l.a)(W,2),z=B[0],U=B[1],R=Object(r.useState)(!1),J=Object(l.a)(R,2),G=J[0],Y=J[1],V=Object(r.useState)(!1),K=Object(l.a)(V,2),q=K[0],X=K[1],Q=Object(r.useContext)(p),Z=e.teamid,$=b("x-auth-token");Ya(e.teamid);var ee=Object(r.useCallback)((function(e){S.setProject(e),S.setLists(e.lists)}),[S]);Object(r.useEffect)((function(){var t=e.projectid;if(null!=y)return y.on("project-updated",ee),y.emit("project-join",t),function(){return y.off("project-updated")}}),[y,ee,e.projectid]),Object(r.useEffect)((function(){if(S.project&&S.project._id===e.projectid&&!q){var t=[];S.project.membersRoles.map((function(e){return t.push({admin:e.admin,username:e.memberId.username,id:e.memberId._id})})),S.setLists(S.project.lists);var n=t.find((function(e){return e.id===Q.user.id}));n&&Y(n.admin)}}),[S.project,e.projectid,S,Q.user.id,q]);var te=Object(r.useCallback)(Object(g.a)(v.a.mark((function n(){var a,r,s,c,i,l,u;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Q.user.id,r=Object(o.a)({},Q.user),!((s=Object(x.a)(r.recentProjects)).length>2&&s[2]._id===e.projectid)){n.next=5;break}return n.abrupt("return");case 5:return(c=s.filter((function(t){return t._id!==e.projectid}))).push({_id:e.projectid,name:S.project.name}),c.length>3&&c.shift(),n.next=10,fetch("/api/user/recentProjects/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:$},body:JSON.stringify({recentProjects:c})});case 10:if((i=n.sent).ok){n.next=15;break}t.push("/error"),n.next=20;break;case 15:return n.next=17,i.json();case 17:l=n.sent,u=m(l),Q.logIn(u);case 20:case"end":return n.stop()}}),n)}))),[Q,t,e.projectid,S.project,$]);if(Object(r.useEffect)((function(){S.project&&S.project._id===e.projectid&&te()}),[e.projectid,S.project,te]),!S.project||S.project._id!==e.projectid)return Object(a.jsx)(tt,{children:Object(a.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})});function ne(){return(ne=Object(g.a)(v.a.mark((function e(n){var a,r,s,c,i,o,u,d,j,b,m,p,h,O,f,_,g,N,k,C,w,T;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.destination){e.next=2;break}return e.abrupt("return");case 2:if(X(!0),"droppableItem"!==n.type){e.next=23;break}return a=n.destination.index,r=S.lists.filter((function(e){return!S.hiddenLists.includes(e._id)})),s=r[a-1],a=S.lists.indexOf(s)+1,c=Object(x.a)(S.lists),i=c.splice(n.source.index,1),o=Object(l.a)(i,1),u=o[0],c.splice(n.destination.index,0,u),S.setLists(c),e.next=14,fetch("/api/projects/lists/".concat(S.project._id,"/").concat(n.draggableId,"/dnd-update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:$},body:JSON.stringify({position:a,element:"list"})});case 14:if((d=e.sent).ok){e.next=19;break}t.push("/error"),e.next=23;break;case 19:return e.next=21,d.json();case 21:j=e.sent,S.setProject(j);case 23:if("droppableSubItem"!==n.type){e.next=40;break}b=n.destination.index,m=n.source.index,p=n.source.droppableId,h=n.destination.droppableId,O=Object(x.a)(S.lists),f="",_="",g=Object(Pa.a)(O);try{for(g.s();!(N=g.n()).done;)(k=N.value)._id===p&&(f=O.indexOf(k)),k._id===h&&(_=O.indexOf(k))}catch(v){g.e(v)}finally{g.f()}return C=O[f].cards.splice(m,1),w=Object(l.a)(C,1),T=w[0],O[_].cards.splice(b,0,T),S.setLists(O),e.next=38,fetch("/api/projects/lists/".concat(S.project._id,"/").concat(n.draggableId,"/dnd-update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:$},body:JSON.stringify({position:b,element:"card",source:p,destination:h})});case 38:e.sent.ok||t.push("/error");case 40:y.emit("project-update",S.project),y.emit("task-team-update",Z),X(!1);case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(){var e=Object(g.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==O){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("/api/projects/lists/".concat(S.project._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:$},body:JSON.stringify({name:O})});case 5:if(e.sent.ok){e.next=11;break}return t.push("/error"),e.abrupt("return");case 11:w(!C),f(""),y.emit("project-update",S.project);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(tt,{children:Object(a.jsxs)("div",{style:{position:"absolute"},children:[I&&Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return E(!I)},children:Object(a.jsx)(ba,{hideForm:function(){return E(!I)},initialCard:M,listId:z,project:S.project,teamId:Z,setCurrCard:H})})}),c&&Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return i(!c)},children:Object(a.jsx)(Ja,{hideForm:function(){return i(!c)},list:z,project:S.project})})}),Object(a.jsx)(xe.a,{onDragEnd:function(e){return ne.apply(this,arguments)},children:Object(a.jsx)(xe.c,{droppableId:"droppable",direction:"horizontal",type:"droppableItem",children:function(e){return Object(a.jsxs)("div",{className:Wa.a["container-droppable"],ref:e.innerRef,children:[S.lists.filter((function(e){return!S.hiddenLists.includes(e._id)})).map((function(e,t){return Object(a.jsx)(xe.b,{draggableId:e._id,index:t,children:function(t){return Object(a.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:Wa.a.droppable},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:Object(a.jsx)(Ma,{list:e,project:S.project,isAdmin:G,showEditList:function(){U(e),i(!c)},showCurrentCard:function(){U(e._id),E(!I)},setCurrCard:H})}))}},e._id)})),e.placeholder,G&&Object(a.jsx)("div",{className:Wa.a.list,children:C?Object(a.jsxs)("form",{ref:_,className:Wa.a.container,children:[Object(a.jsx)("input",{autoFocus:!0,className:Wa.a.input,type:"text",value:O,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)(T,{type:"submit",className:Wa.a.addlist,onClick:ae,title:"+ Add List"})]}):Object(a.jsx)(T,{className:Wa.a.addlist,onClick:function(){return w(!C)},title:"+ Add List"})})]})}})}),Object(a.jsx)("img",{className:Wa.a.pic,src:Ba,alt:"",width:"340"})]})})}var Ka=n(188),qa=n.n(Ka),Xa=n(73),Qa=n.n(Xa),Za=n(374),$a=(n(661),n(19)),er=n.n($a),tr=function(e){var t=e.value,n=e.setValue,s=e.onBlur,c=e.onKeyDown,i=e.onSubmit,o=e.className,u=e.toggleActive,d=Object(r.useRef)(null),j=Object(r.useState)(null),b=Object(l.a)(j,2),m=b[0],p=b[1],h=Object(r.useState)(null),O=Object(l.a)(h,2),f=O[0],x=O[1];Object(r.useEffect)((function(){d.current&&p(d.current.scrollHeight+2),d&&d.current.focus()}),[]);return Object(a.jsx)("textarea",{ref:d,className:o,style:{height:m},value:t,onKeyDown:function(e){return c?c(e):27===e.keyCode&&u?(n(f),u()):void(13===e.keyCode&&i(e))},onChange:function(e){p(d.current.scrollHeight+2),n(e.target.value)},onBlur:function(e){if(s)return s(e);t!==f&&i(e)},onFocus:function(){return x(t)}})};function nr(e){var t=e.card,n=e.listId,s=e.project,c=Object(r.useRef)(null),i=fe(c),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(t.name),p=Object(l.a)(m,2),h=p[0],O=p[1],f=Object(j.g)(),x=F(),_=Object(j.h)().teamid,N=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._id,""!==h){e.next=3;break}return e.abrupt("return");case 3:return r=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/cards/".concat(n,"/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:h})});case 6:if(e.sent.ok){e.next=12;break}return f.push("/error"),e.abrupt("return");case 12:d(!u),x.emit("project-update",s),x.emit("task-team-update",_);case 15:case"end":return e.stop()}}),e)}))),[f,h,u,d,t._id,n,s,x,_]);return Object(a.jsx)("div",{children:u?Object(a.jsx)("div",{ref:c,className:er.a.nameContainer,children:Object(a.jsx)(tr,{value:h,setValue:O,className:er.a.inputElementName,onSubmit:N,toggleActive:function(){return d(!u)}})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:er.a["attachments-container"],children:t.attachments&&t.attachments.length>0&&!u&&Object(a.jsx)(ha,{card:t,project:s,teamId:_})}),Object(a.jsx)("div",{className:er.a.tableText,onClick:function(){return d(!u)},children:h})]})})}function ar(e){var t=Object(r.useMemo)((function(){return new Date(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()))}),[]),n=e.card,s=Object(r.useState)(n.history),c=Object(l.a)(s,2),i=c[0],o=c[1],u="",d=e.value.split("/");d.length>1&&(u=d[0]);var m=Object(r.useRef)(null),p=fe(m),h=Object(l.a)(p,2),O=h[0],f=h[1],_=Object(r.useState)(u),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(j.g)(),y=F(),T=Object(j.h)().teamid,S=Object(r.useCallback)(function(){var a=Object(g.a)(v.a.mark((function a(r){var s,c,l,u,d,j;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),s=n._id,c=e.listId,!(!k||k>100||k<0)){a.next=5;break}return a.abrupt("return");case 5:if(l=Number(k),u=Math.max(Math.min(l,100),0),!isNaN(l)&&u!==Number(n.progress)){a.next=9;break}return a.abrupt("return");case 9:return C(u),d=[].concat(Object(x.a)(i),[{event:"Progress ".concat(k,"%"),date:t}]),o(d),j=b("x-auth-token"),a.next=15,fetch("/api/projects/lists/cards/".concat(c,"/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:j},body:JSON.stringify({progress:k,history:d})});case 15:if(a.sent.ok){a.next=19;break}return w.push("/error"),a.abrupt("return");case 19:f(!O),y.emit("project-update",e.project),y.emit("task-team-update",T);case 22:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[w,k,O,f,i,t,n._id,e.listId,e.project,y,T,n.progress]);function P(e){var t="";switch(!0){case 100===e||"100"===e:t="#0E8D27";break;case e<20:t="#EF2D2D";break;case e<100:t="#5E9DDC"}return t}return Object(a.jsx)(a.Fragment,{children:O?Object(a.jsx)("div",{ref:m,className:er.a.taskProgress,onBlur:S,children:Object(a.jsx)("input",{className:er.a.taskProgressButtonInput,style:{backgroundColor:P(k)},type:"number",value:k,onChange:function(e){return C(e.target.value)},min:"0",max:"100",autoFocus:!0})}):Object(a.jsx)("div",{className:er.a.taskProgress,onClick:function(){return f(!O)},children:function(e){return e&&"null"!==e?Object(a.jsxs)("div",{style:{backgroundColor:P(e),padding:"5px",border:"solid black 1px",borderRadius:"5px",minHeight:"2rem",width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:[" ",e," %"]}):Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:"+ Add"})}(u)})})}function rr(e){var t=Object(r.useRef)(null),n=fe(t),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(e.cardDueDate),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),O=h[0],f=h[1],x=Object(j.g)(),_=F(),N=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),k=Object(j.h)().teamid,C=Object(r.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(n){var a,r,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.cardId,r=e.listId,""!==d||""!==n){t.next=5;break}return console.log("return"),t.abrupt("return");case 5:return s=b("x-auth-token"),t.next=8,fetch("/api/projects/lists/cards/".concat(r,"/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({dueDate:n})});case 8:if(t.sent.ok){t.next=14;break}return x.push("/error"),t.abrupt("return");case 14:i(!c),_.emit("project-update",e.project),_.emit("task-team-update",e.teamId);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[x,d,i,c,e.cardId,e.listId,e.project,_,e.teamId]),w=e.value;return Object(a.jsxs)("span",{className:er.a.dueDateField,children:[Object(a.jsx)(Mn.a,{selected:w?d:N,customInput:w?Object(a.jsx)("div",{className:er.a.dueDateFieldInput,children:Object(a.jsx)("span",{children:w})}):Object(a.jsx)("span",{children:"Select date"}),onChange:function(e){m(e),C(e)},label:"Go to date",onBlur:w?function(){return i(!c)}:null,popperPlacement:"bottom-end",closeOnScroll:function(e){return e.target===document.getElementsByClassName("rt-tbody")[0]}}),O?Object(a.jsx)("span",{children:Object(a.jsx)(be,{hideForm:function(){return f(!O)},children:Object(a.jsx)(ba,{hideForm:function(){return f(!O)},initialCard:e.card,listId:e.listId,project:e.project,teamId:k})})}):Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:er.a.pen,src:Kt,alt:"...",width:"13",height:"13",onClick:function(){return f(!0)}})})]})}var sr=function(e){var t=e.handleSubmit,n=e.handleInputRemove,s=e.elementName,c=e.setElementName,i=e.placeholder,o=Object(r.useRef)(null),u=Object(r.useState)(null),d=Object(l.a)(u,2),j=d[0],b=d[1];return Object(a.jsx)("textarea",{value:s,ref:o,placeholder:i,className:er.a.inputElementName,style:{height:j,width:"100%"},onKeyDown:function(e){return 27===e.keyCode?n():13===e.keyCode?t():void 0},onChange:function(e){13!==e.keyCode&&(c(e.target.value),b(o.current.scrollHeight+2))},onBlur:t,autoFocus:!0})};function cr(e){var t=e.listId,n=e.project,s=e.handleInputRemove,c=Object(r.useState)(""),i=Object(l.a)(c,2),o=i[0],u=i[1],d=F(),m=Object(j.g)(),p=function(){var e=Object(g.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",s());case 2:return a=b("x-auth-token"),e.next=5,fetch("/api/projects/lists/cards/".concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({name:o,progress:""})});case 5:if(e.sent.ok){e.next=9;break}return m.push("/error"),e.abrupt("return");case 9:d.emit("project-update",n),s();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(sr,{elementName:o,setElementName:u,handleSubmit:p,handleInputRemove:s,placeholder:"Enter new task name:"})}function ir(e){var t=e.project,n=e.handleInputRemove,s=Object(r.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=F(),d=Object(j.g)(),m=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._id,i){e.next=3;break}return e.abrupt("return",n());case 3:return r=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/".concat(a),{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:i})});case 6:if(e.sent.ok){e.next=10;break}return d.push("/error"),e.abrupt("return");case 10:u.emit("project-update",t),n();case 12:case"end":return e.stop()}}),e)}))),[d,i,t,n,u]);return Object(a.jsx)(sr,{elementName:i,setElementName:o,handleSubmit:m,handleInputRemove:n,placeholder:"Enter new list name:"})}var or="#0E8D27",lr="#EF2D2D",ur="#EF2D2D",dr="#0E8D27",jr="#5E9DDC",br="#A2A7B0",mr=function(e){var t=new Date,n=null,r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",r={background:t,color:n,width:"100%",padding:"5px",border:"1px solid #363338",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center"};return Object(a.jsx)("div",{className:er.a.daylyProgress,children:Object(a.jsx)("div",{style:r,children:e})})},s=function(a,s){if(!a)return"";0===s&&(n=JSON.parse(a));var c=n,i=c.date,o=c.history,u=c.progress,d=Rn(e,s),j=o.startDate&&new Date(o.startDate);if(!j||Kn(d,j)<0)return"";var b=o&&o.events[Yn(d,"%d/%m/%y")],m=i?new Date(i):null,p=m&&Kn(d,m)>0,h=Kn(d,t)<0;if(b){var O=b.event.split(" "),f=Object(l.a)(O,2),x=f[0],_=f[1];if("Created"===x)return r(x,or);if("Progress"===x&&_&&"100%"===_){var v="Finished",g=dr,N=new Date(o.lastEventDate);return Kn(N,d)>0&&(v="Progress 100%",g=h?br:jr),r(v,g)}if(h)return r(b.event,br);var k=p?ur:jr;return r(b.event,k)}var C=0===s,w=o&&o.hasEventsInWeek[Yn(d,"%w/%y")];if(C&&u&&100===u&&!w)return r("Finished",dr);if(m){if(Vn(d,m))return Kn(t,m)>0?r("Delayed",ur):r("Due Date",lr);if(Kn(d,m)>0)return C&&Kn(t,m)>0?r("Delayed",ur):"";var y=o.finishedDate;return(y=y&&new Date(y))&&Kn(d,y)>0?"":r(C?"In Progress":"",h?br:jr)}return""},c=function(n){var r=Rn(e,n),s=Vn(t,r)?"#CFE2EC":"",c=Yn(r,"%d.%m"),i=Yn(r,"%A");return Object(a.jsxs)("div",{style:{backgroundColor:s,color:"black"},children:[Object(a.jsx)("div",{style:{fontWeight:"600"},children:i}),Object(a.jsx)("div",{style:{fontSize:"80%"},children:c})]})},i=function(e){return Object(a.jsx)("div",{style:{whiteSpace:"normal",overflowWrap:"anywhere",textAlign:"left",height:"100%"},children:e})};return[{Header:function(){return Object(a.jsx)("div",{className:er.a.header,children:"Task"})},accessor:"task",minWidth:350,Cell:function(e){var t=e.value;return i(t)},sortable:!0,resizable:!1},{Header:function(){return Object(a.jsx)("div",{className:er.a.header,children:"Progress"})},accessor:"progress",minWidth:65,maxWidth:75,Cell:function(e){var t=e.value;return i(t)},sortable:!0,resizable:!1,sortMethod:function(){}},{Header:function(){return Object(a.jsx)("div",{className:er.a.header,children:"Team"})},accessor:"assigned",minWidth:75,maxWidth:80,Cell:function(e){var t=e.value;return i(t)},getProps:function(e,t,n){return{style:{overflow:"visible"}}},sortable:!1,resizable:!1},{Header:c(0),accessor:"monday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,0)},sortable:!1,resizable:!1},{Header:c(1),accessor:"tuesday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,1)},sortable:!1,resizable:!1},{Header:c(2),accessor:"wednesday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,2)},sortable:!1,resizable:!1},{Header:c(3),accessor:"thursday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,3)},sortable:!1,resizable:!1},{Header:c(4),accessor:"friday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,4)},sortable:!1,resizable:!1},{Header:c(5),accessor:"saturday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,5)},sortable:!1,resizable:!1},{Header:c(6),accessor:"sunday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,6)},sortable:!1,resizable:!1},{Header:function(){return Object(a.jsx)("div",{className:er.a.header,children:"Due Date"})},accessor:"dueDate",minWidth:100,maxWidth:130,sortable:!0,resizable:!1,sortMethod:function(){}}]},pr=n(173),hr=n(189),Or=n.n(hr),fr=function(e){var t=e.children,n=e.isVisible,r=e.legendContent;return Object(a.jsxs)("fieldset",{className:Or.a.container,children:[Object(a.jsx)("legend",{className:Or.a["legend-wrapper"],children:n&&Object(a.jsx)("blockquote",{className:Or.a.legend,children:r})}),t]})},xr=n(82),_r=n.n(xr),vr=function(e){var t=e.membersFilter,n=e.setMembersFilter,s=e.handleFilterClear,c=e.buttonStyle,i=Object(r.useRef)(null),o=fe(i),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(r.useContext)(re).project,m=Object(r.useMemo)((function(){return b.membersRoles.map((function(e){return{value:e.memberId._id,displayValue:e.memberId.username}}))}),[b.membersRoles]);return Object(a.jsx)(fr,{legendContent:"Tasks assigned to:",isVisible:!!t,children:Object(a.jsxs)("div",{className:_r.a.container,children:[Object(a.jsxs)("div",{className:_r.a["btn-container"],children:[Object(a.jsx)(T,{className:d?"".concat(c," ").concat(t&&_r.a["btn-partial"]," ").concat(_r.a["btn-clicked"]):"".concat(c," ").concat(t&&_r.a["btn-partial"]),onClick:function(){return j(!d)},title:t&&t.name||"Tasks Assigned To:"}),t&&Object(a.jsx)(T,{className:"".concat(c," ").concat(_r.a["btn-clear"]),title:"X",onClick:function(){s(),j(!1)}})]}),d&&Object(a.jsx)("div",{className:_r.a.options,ref:i,children:m.map((function(e){return Object(a.jsx)("div",{className:_r.a.option,onClick:function(){return t=e.value,a=e.displayValue,n(t,a),void j(!1);var t,a},children:e.displayValue},e.value)}))})]})})},gr=n(190),Nr=n.n(gr),kr=function(e){var t=e.dueBefore,n=e.buttonStyle,r=e.onChange,s=e.handleFilterClear;return Object(a.jsxs)(fr,{legendContent:"Tasks due before:",isVisible:!!t,children:[Object(a.jsx)(Mn.a,{selected:t,customInput:Object(a.jsx)("button",{className:t?"".concat(n," ").concat(Nr.a["filter-used"]):"".concat(n," ").concat(Nr.a["filter-blank"]),children:t?Yn(t,"%d-%m-%Y"):"Due Before:"}),showWeekNumbers:!0,onChange:r}),t&&Object(a.jsx)("button",{className:"".concat(n," ").concat(Nr.a["filter-clear"]),onClick:s,children:"X"})]})},Cr=n(136),wr=n.n(Cr),yr=function(e){var t=e.isActive,n=e.toggleStatus,r=e.label,s=e.containerStyle;return Object(a.jsxs)("div",{className:"".concat(wr.a.container," ").concat(s),children:[Object(a.jsx)("label",{children:r}),Object(a.jsx)("span",{className:"".concat(wr.a["switch-container"]," ").concat(t&&wr.a["container-active"]),onClick:n,children:Object(a.jsx)("span",{className:wr.a["state-circle"]})})]})},Tr=n(83),Sr=n.n(Tr),Pr=function(e){var t=e.buttonStyle,n=e.filters,s=e.toggleFilter,c=Object(r.useRef)(null),i=fe(c),o=Object(l.a)(i,2),u=o[0],d=o[1];return Object(a.jsxs)("div",{className:Sr.a.container,children:[Object(a.jsx)(T,{title:"Filter By Progress:",className:"".concat(t," ").concat(Sr.a["btn-progress"]),onClick:function(){return d(!u)}}),u&&Object(a.jsxs)("div",{className:Sr.a.dropdown,ref:c,children:[Object(a.jsx)(yr,{isActive:n.notStarted,label:"Not Started",toggleStatus:function(){return s("notStarted")},containerStyle:"".concat(Sr.a["progress-switch"]," ").concat(Sr.a["progress-switch-top"])}),Object(a.jsx)(yr,{isActive:n.inProgress,label:"In Progress",toggleStatus:function(){return s("inProgress")},containerStyle:Sr.a["progress-switch"]}),Object(a.jsx)(yr,{isActive:n.done,label:"Done",toggleStatus:function(){return s("done")},containerStyle:"".concat(Sr.a["progress-switch"]," ").concat(Sr.a["progress-switch-bottom"])})]})]})},Dr=function(e){var t=e.filter,n=e.setFilter;return Object(a.jsxs)("div",{className:er.a["filters-container"],children:[Object(a.jsx)(Pr,{buttonStyle:er.a.filter,filters:t.progress,toggleFilter:function(e){var a=t.progress[[e]];n(Object(o.a)(Object(o.a)({},t),{},{progress:Object(o.a)(Object(o.a)({},t.progress),{},Object(pr.a)({},e,!a))}))}}),Object(a.jsx)(vr,{membersFilter:t.member,setMembersFilter:function(e,a){return n(Object(o.a)(Object(o.a)({},t),{},{member:{id:e,name:a}}))},handleFilterClear:function(){return n(Object(o.a)(Object(o.a)({},t),{},{member:null}))},buttonStyle:er.a.filter}),Object(a.jsx)(kr,{dueBefore:t.dueBefore,buttonStyle:er.a.filter,onChange:function(e){return n(Object(o.a)(Object(o.a)({},t),{},{dueBefore:e}))},handleFilterClear:function(){return n(Object(o.a)(Object(o.a)({},t),{},{dueBefore:null}))}})]})},Fr=n(61),Ir=n.n(Fr),Er=n.p+"static/media/previous-day.b509304f.svg",Ar=n.p+"static/media/next-day.11199c8f.svg",Lr=function(e){var t=e.startDate,n=e.changeStartDate,r=e.setStartDate;return Object(a.jsxs)("div",{className:Ir.a.container,children:[Object(a.jsx)(Mn.a,{selected:t,customInput:Object(a.jsx)("button",{className:Ir.a.navigateButtons,children:"Choose Week"}),showWeekNumbers:!0,onChange:function(e){return r(Jn(e))}}),Object(a.jsx)("button",{className:Ir.a.navigateButtons,onClick:function(){return n(-7)},children:"Previous week"}),Object(a.jsxs)("div",{className:Ir.a.picContainer,onClick:function(){return n(-1)},children:[Object(a.jsx)("img",{className:Ir.a.buttonPreviousDay,src:Er,alt:"..."}),Object(a.jsx)("div",{className:Ir.a.centeredText,children:"Previous day"})]}),Object(a.jsxs)("div",{className:Ir.a.picContainer,onClick:function(){return n(1)},children:[Object(a.jsx)("img",{className:Ir.a.buttonPreviousDay,src:Ar,alt:"..."}),Object(a.jsx)("div",{className:Ir.a.centeredText,children:"Next day"})]}),Object(a.jsx)("button",{className:Ir.a.navigateButtons,onClick:function(){return n(7)},children:"Next week"})]})},Mr=function(e,t){return e.name.localeCompare(t.name)},Hr=function(e,t){var n=e.progress||0,a=t.progress||0;return n>a?1:n<a?-1:0},Wr=function(e,t){var n=e.dueDate?new Date(e.dueDate):new Date("1970-01-01"),a=t.dueDate?new Date(t.dueDate):new Date("1970-01-01");return Kn(n,a)},Br=function(e){return{task:e.task||"",progress:e.progress||"",assigned:e.assigned||"",monday:e.monday||"",tuesday:e.tuesday||"",wednesday:e.wednesday||"",thursday:e.thursday||"",friday:e.friday||"",saturday:e.saturday||"",sunday:e.sunday||"",dueDate:e.dueDate||""}},zr=function(e){var t=e.project,n=Object(r.useContext)(re),s=Object(r.useContext)(p),c=Object(j.h)(),i=Object(r.useState)(Jn()),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)([]),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),_=x[0],v=x[1],g=Object(r.useState)(null),N=Object(l.a)(g,2),k=N[0],C=N[1],w=Object(r.useState)({columnName:null,isDescending:!1}),y=Object(l.a)(w,2),S=y[0],P=y[1],D=Object(r.useState)({progress:{notStarted:!0,inProgress:!0,done:!0},member:null,dueBefore:null,isUsed:!1}),F=Object(l.a)(D,2),I=F[0],E=F[1],A=Object(r.useCallback)((function(e){var t=n.project.membersRoles.find((function(e){return e.memberId._id===s.user.id}));t&&t.admin&&v(e),n.setLists(n.project.lists)}),[n,s.user.id]),L=Object(r.useCallback)((function(){var e=[],r=t.lists;n.setLists(r);var s=function(e,t){var n=null;switch(e){case"task":n=Mr;break;case"progress":n=Hr;break;case"dueDate":n=Wr;break;default:return null}return function(e,a){var r=n(e,a);return t?-r:r}}(S.columnName,S.isDescending);r.forEach((function(r,i){if(!n.hiddenLists.includes(r._id)){e.push(Br({task:Object(a.jsx)("div",{className:Qa.a.listNameContainer,style:{background:r.color||"#A6A48E"},onClick:function(){return A(r)},children:Object(a.jsx)("span",{className:Qa.a.listNameText,children:r.name})},i),dueDate:Object(a.jsx)("div",{onClick:function(){return C({newTask:r._id})},className:Qa.a.addTask,children:"+ Add Task"})}));var o=r.cards.filter((function(e){return function(e,t){var n=!1;!t.progress.notStarted||0!==e.progress&&e.progress||(n=!0),t.progress.inProgress&&e.progress>0&&e.progress<100&&(n=!0),t.progress.done&&100===e.progress&&(n=!0);var a=!t.member||e.members.some((function(e){return e._id===t.member.id})),r=!t.dueBefore||e.dueDate&&Kn(new Date(e.dueDate),t.dueBefore)<=0;return n&&a&&r}(e,I)}));S.columnName&&(o=o.sort(s)),o.forEach((function(n){var s=n.dueDate?new Date(n.dueDate):"",i={date:s,history:function(e){if(!e)return null;var t,n={events:{},hasEventsInWeek:{}},a=Object(Pa.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,s=new Date(r.date);n.events[Yn(s,"%d/%m/%y")]=r,n.hasEventsInWeek[Yn(s,"%w/%y")]=!0}}catch(i){a.e(i)}finally{a.f()}n.startDate=e[0]&&e[0].date;var c=e[e.length-1];return n.lastEventDate=c&&c.date,c&&"Progress 100%"===c.event&&(n.finishedDate=c.date),n}(n.history),progress:n.progress},o=JSON.stringify(i);e.push(Br({task:Object(a.jsx)(nr,{card:n,listId:r._id,project:t}),progress:Object(a.jsx)(ar,{value:n.progress+"/"+n._id+"/"+r._id,listId:r._id,project:t,card:n}),assigned:Object(a.jsx)(En,{members:n.members,maxLength:2}),monday:o,tuesday:o,wednesday:o,thursday:o,friday:o,saturday:o,sunday:o,dueDate:Object(a.jsx)(rr,{value:s?Yn(s,"%d-%m-%Y"):"",cardDueDate:s,cardId:n._id,listId:r._id,project:t,card:n,teamId:c.teamid})}))})),k&&k.newTask&&k.newTask===r._id&&e.push(Br({task:Object(a.jsx)(cr,{listId:r._id,project:t,handleInputRemove:function(){return C(null)}})}))}})),k&&k.newList&&e.push(Br({task:Object(a.jsx)(ir,{project:t,handleInputRemove:function(){return C(null)}})})),O(S.isDescending?e.reverse():e)}),[I,A,c.teamid,n,t,k,S.columnName,S.isDescending]);Object(r.useEffect)((function(){L()}),[I,t,n.hiddenLists,S,L]);return Object(a.jsxs)("div",{className:Qa.a.pageContainer,children:[_&&Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return v("")},children:Object(a.jsx)(Ja,{hideForm:function(){return v("")},list:_,project:t})})}),Object(a.jsxs)("div",{className:Qa.a.buttoDiv,children:[Object(a.jsx)(Dr,{filter:I,setFilter:E}),Object(a.jsx)(Lr,{startDate:u,setStartDate:d,changeStartDate:function(e){var t=Rn(u,e);d(t)}}),Object(a.jsx)(T,{className:Qa.a.addListButton,onClick:function(){return C({newList:!0})},title:"+ Add List"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(Za.a,{data:h,columns:mr(u),defaultPageSize:10,pageSize:h.length,showPagination:!1,background:"white",className:"".concat(Qa.a.reactTable," -highlight"),getTbodyProps:function(){return{className:Qa.a.reactTableBody}},getTrGroupProps:function(){return{className:Qa.a.reactTableTrGroup}},onSortedChange:function(e){var t=e[0],n=t.id,a=t.desc;P({columnName:n,isDescending:a})}})})]})};function Ur(){var e=Object(j.h)(),t=F(),n=Object(r.useContext)(re),s=Object(r.useCallback)((function(e){n.setProject(e)}),[n]);return Object(r.useEffect)((function(){var n=e.projectid;if(null!=t)return t.on("project-updated",s),t.emit("project-join",n),function(){return t.off("project-updated")}}),[t,s,e.projectid]),n.project&&n.project._id===e.projectid?Object(a.jsx)(tt,{contentClassName:qa.a["layout-container"],children:Object(a.jsx)("div",{className:qa.a.calendarPageContainer,children:Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:qa.a["calendar-container"],children:Object(a.jsx)(zr,{project:n.project})})})})}):Object(a.jsx)(tt,{children:Object(a.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})})}var Rr=function(e){var t=e.children,n=Object(r.useState)([]),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(r.useState)(null),m=Object(l.a)(b,2),p=m[0],h=m[1],O=Object(r.useState)("Select"),f=Object(l.a)(O,2),x=f[0],_=f[1];return Object(a.jsx)(re.Provider,{value:{lists:c,setLists:i,hiddenLists:d,setHiddenLists:j,project:p,setProject:h,projectName:x,setProjectName:_},children:t})};var Jr=function(e){var t=e.children,n=Object(r.useState)([]),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)("Select"),u=Object(l.a)(o,2),d=u[0],j=u[1],h=Object(r.useState)([]),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(r.useContext)(p),N=F();Object(r.useEffect)((function(){i(_.user.teams)}),[_.user.teams]);var k=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var t,n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b("x-auth-token"),e.next=3,fetch("/api/teams",{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,i(a.teams),r=m(a),_.logIn(r);case 10:case"end":return e.stop()}}),e)}))),[_]);return Object(r.useEffect)((function(){if(null!=N)return N.on("team-updated",k),function(){return N.off("team-updated")}}),[N,k]),Object(a.jsx)(C.Provider,{value:{teams:c,setTeams:i,selectedTeam:d,setSelectedTeam:j,currentProjects:f,setCurrentProjects:x,getCurrentProjects:function(e){var t=c.find((function(t){return t._id===e}));t&&x(t.projects)},updateSelectedTeam:function(e){var t=c.find((function(t){return t._id===e}));t&&j(t.name)}},children:t})},Gr=n(53),Yr=n.n(Gr),Vr=n(74),Kr=n.n(Vr);function qr(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(j.h)();return Object(a.jsxs)("div",{children:[s?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return c(!s)},children:Object(a.jsx)(we,{hideForm:function(){return c(!s)},project:e.project})})}):null,Object(a.jsxs)("div",{className:Kr.a.container,children:[Object(a.jsx)("div",{className:Kr.a["top-side"],children:Object(a.jsxs)(f.b,{to:"/project-board/".concat(i.teamid,"/").concat(e.project._id),className:Kr.a.key,children:["Name: ",Object(a.jsx)("span",{className:Kr.a.value,children:e.project.name})]})}),Object(a.jsxs)("div",{className:Kr.a["lower-side"],children:[Object(a.jsxs)("div",{className:Kr.a["key-lower"],children:["Creator: ",Object(a.jsx)("span",{className:Kr.a.value,children:e.project.author.username})]}),Object(a.jsx)("div",{className:Kr.a.info,children:Object(a.jsx)(J,{className:Kr.a["info-btn"],title:"Info",onClick:function(){return c(!s)}})})]})]})]})}var Xr=n.p+"static/media/pic1.9d44d970.svg",Qr=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)(!1),b=Object(l.a)(d,2),m=b[0],h=b[1],O=Object(r.useState)({}),f=Object(l.a)(O,2),x=f[0],_=f[1],v=Object(r.useState)([]),g=Object(l.a)(v,2),N=g[0],k=g[1],C=Object(r.useState)([]),w=Object(l.a)(C,2),y=w[0],T=w[1],S=Object(r.useState)([]),P=Object(l.a)(S,2),D=P[0],F=P[1],I=Object(j.h)(),E=Object(r.useContext)(p);return Object(r.useEffect)((function(){E.user.teams.forEach((function(e){e._id===I.teamid&&(_(e),k(e.projects),T(e.members),F(e.requests))}))}),[E,I]),Ya(I.teamid),Object(a.jsx)(tt,{children:Object(a.jsxs)("div",{className:Yr.a.container,children:[n&&Object(a.jsx)(be,{hideForm:function(){return s(!1)},children:Object(a.jsx)(Ke,{})}),o&&Object(a.jsx)(be,{hideForm:function(){return u(!1)},children:Object(a.jsx)(nn,{currTeam:x,hideForm:function(){u(!1)}})}),Object(a.jsx)("div",{className:Yr.a.pic1,children:Object(a.jsx)("img",{className:Yr.a.picture,src:Xr,alt:""})}),Object(a.jsx)("div",{className:Yr.a["left-side"],children:m?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Yr.a.title,children:"Old Projects:"}),N.filter((function(e){return!0===e.isFinished})).reverse().map((function(e,t){return Object(a.jsx)(qr,{index:t,project:e},e._id)}))]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Yr.a.title,children:"Current Projects:"}),N.filter((function(e){return!1===e.isFinished||void 0===e.isFinished})).reverse().map((function(e,t){return Object(a.jsx)(qr,{index:t,project:e},e._id)}))]})}),Object(a.jsx)("div",{className:Yr.a["right-side"],children:Object(a.jsxs)("div",{className:Yr.a["right-side-team"],children:[Object(a.jsx)(tn,{members:y,invited:D}),Object(a.jsxs)("div",{className:Yr.a["button-div"],children:[Object(a.jsx)(J,{className:Yr.a["new-project-button"],title:"View Team",onClick:function(){return u(!0)}}),Object(a.jsx)(J,{className:Yr.a["new-project-button"],title:"New Project",onClick:function(){return s(!0)}}),Object(a.jsx)(J,{className:Yr.a["new-project-button"],title:m?"Current Projects":"Old Projects",onClick:function(){return h(!m)}})]})]})})]})})},Zr=n(37),$r=n.n(Zr),es=n(372),ts=n.n(es),ns=function(e){var t=e.title,n=e.onClick,r=e.className;return Object(a.jsx)("button",{onClick:n,className:"".concat(ts.a.button," ").concat(r),children:t})},as=function(){var e=Object(j.h)(),t=Object(j.g)(),n=Object(r.useState)(!0),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],m=Object(r.useContext)(p),h=m.user.newPasswordConfirmed,O=Object(r.useCallback)(Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.token,"not-confirmed"!==e.token){t.next=3;break}return t.abrupt("return");case 3:if(!m.user.confirmed||!m.user.newPasswordConfirmed){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,yt("/api/user/confirmation","POST",{token:n},(function(e){m.logIn(e),i(!1),b(!0)}),(function(e){console.log("Error",e)}));case 7:case"end":return t.stop()}}),t)}))),[e.token,m]);return Object(r.useEffect)((function(){O()}),[O]),"not-confirmed"===e.token?Object(a.jsx)("div",{children:h?Object(a.jsxs)("div",{className:$r.a.container,children:[Object(a.jsx)("div",{className:$r.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"194",height:"142"})}),Object(a.jsx)("div",{className:$r.a.title,children:"Confirm your email address"}),Object(a.jsx)("div",{className:$r.a.text,children:"Please check your email to confirm your account"}),Object(a.jsx)("div",{className:$r.a.text,children:"Once confirmed, this email address will be uniquely associated with your Smart Manager  account."})]}):Object(a.jsxs)("div",{className:$r.a.container,children:[Object(a.jsx)("div",{className:$r.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"194",height:"142"})}),Object(a.jsx)("div",{className:$r.a.title,children:"Confirm your new password"}),Object(a.jsx)("div",{className:$r.a.text,children:"Please check your email to confirm your new password"}),Object(a.jsx)("div",{className:$r.a.text,children:"Once confirmed, your new password will be active for your Smart Manager  account."})]})}):Object(a.jsxs)("div",{children:[c&&Object(a.jsx)("div",{children:"Validating your email."}),!c&&d&&Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:$r.a.container,children:[Object(a.jsx)("div",{className:$r.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"194",height:"142"})}),Object(a.jsx)("div",{className:$r.a.title,children:"Thank you"}),Object(a.jsx)("div",{className:$r.a.text,children:"You can continue to Smart Manager now"}),Object(a.jsx)(ns,{title:"Proceed",className:$r.a["proceed-button"],onClick:function(){return t.push("/")}}),Object(a.jsx)("div",{className:$r.a.cheers,children:"Cheers,"}),Object(a.jsx)("div",{className:$r.a.team,children:"The Smart Manager Team"})]})})]})},rs=function(){var e=Object(r.useContext)(p),t=e.user.loggedIn;return Object(a.jsx)(f.a,{children:Object(a.jsx)(I,{user:e.user,children:Object(a.jsx)(Rr,{children:Object(a.jsx)(Jr,{children:Object(a.jsx)(qt.CloudinaryContext,{cloudName:"do7mce7ni",children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/confirmation/:token",children:Object(a.jsx)(as,{})}),(t&&!e.user.confirmed||t&&!e.user.newPasswordConfirmed)&&Object(a.jsx)(j.a,{to:"/confirmation/not-confirmed"}),Object(a.jsx)(j.b,{exact:!0,path:"/",children:t?Object(a.jsx)(dt,{}):Object(a.jsx)(Jt,{})}),Object(a.jsx)(j.b,{path:"/get-started/",children:t?Object(a.jsx)(Sa,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/profile/:userid",children:t?Object(a.jsx)(Xt,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/inbox/:userid",children:t?Object(a.jsx)(hn,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/my-tasks/:userid",children:t?Object(a.jsx)(fa,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/project-board/:teamid/:projectid",children:t?Object(a.jsx)(Va,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/project-list/:teamid/:projectid",children:t?Object(a.jsx)(Ur,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/team/:teamid",children:t?Object(a.jsx)(Qr,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{component:ga})]})})})})})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(O,{children:Object(a.jsx)(rs,{})})}),document.getElementById("root"))},72:function(e,t,n){e.exports={input:"SearchField_input__1Wkh2","search-fields":"SearchField_search-fields__3Cyjd","search-button":"SearchField_search-button__fdpXW","search-icon":"SearchField_search-icon__1sope","new-line":"SearchField_new-line__2gYIx",small:"SearchField_small__3XVqa"}},73:function(e,t,n){e.exports={pageContainer:"CalendarTable_pageContainer__3QuCo",columns:"CalendarTable_columns__1cxgK",task:"CalendarTable_task__24A2x",buttoDiv:"CalendarTable_buttoDiv__1AJXs",addTaskField:"CalendarTable_addTaskField__1WpB9",input:"CalendarTable_input__1wPub",addlist:"CalendarTable_addlist__18qyY",addTask:"CalendarTable_addTask__3PQgT",daylyProgress:"CalendarTable_daylyProgress__7QZxb",header:"CalendarTable_header__19V3L",listNameContainer:"CalendarTable_listNameContainer__1baLK",listNameColor:"CalendarTable_listNameColor__3tlc2",listNameText:"CalendarTable_listNameText__1bR5n",reactTable:"CalendarTable_reactTable__TeLYe",reactTableBody:"CalendarTable_reactTableBody__1w7DS",reactTableTrGroup:"CalendarTable_reactTableTrGroup__1_86B",addListButton:"CalendarTable_addListButton__peo9U"}},74:function(e,t,n){e.exports={container:"Project_container__3b6H2","top-side":"Project_top-side__X336F",key:"Project_key__3WELP","key-lower":"Project_key-lower__3PFoo",value:"Project_value__3hJST",info:"Project_info__2N3kr","info-btn":"Project_info-btn__1UGh1","lower-side":"Project_lower-side__3Nohu"}},8:function(e,t,n){e.exports={message:"Inbox_message__8eDky",bold:"Inbox_bold__3qAva",container:"Inbox_container__2-WWh",button:"Inbox_button__jP9ub",inline:"Inbox_inline__W3jgq",margin:"Inbox_margin__27P_U"}},80:function(e,t,n){e.exports={"transparent-confirm":"ConfirmationDialog_transparent-confirm__2fAy0",container:"ConfirmationDialog_container__3b6l0",content:"ConfirmationDialog_content__1AYeA",logo:"ConfirmationDialog_logo__jbg1u",title:"ConfirmationDialog_title__1DS7_",buttons:"ConfirmationDialog_buttons__BTev_",button:"ConfirmationDialog_button__2WKkD"}},81:function(e,t,n){e.exports={pic:"ProjectBoard_pic__1BIrK","container-droppable":"ProjectBoard_container-droppable__3rdHA",droppable:"ProjectBoard_droppable__3UsCE",list:"ProjectBoard_list__5PzSU",addlist:"ProjectBoard_addlist__1Rt4q",input:"ProjectBoard_input__3qO01",container:"ProjectBoard_container__QRlM3",navigateButtons:"ProjectBoard_navigateButtons__2TFnM",button:"ProjectBoard_button__3VE3a"}},82:function(e,t,n){e.exports={container:"FilterMembers_container__ATZX5",filter:"FilterMembers_filter__3DGf_",options:"FilterMembers_options__10Tm5",option:"FilterMembers_option__1Og-u","option-blank":"FilterMembers_option-blank__1Ab4R","btn-clicked":"FilterMembers_btn-clicked__3osI6","btn-partial":"FilterMembers_btn-partial__3Lr7u","btn-clear":"FilterMembers_btn-clear__2Q8Ie","btn-container":"FilterMembers_btn-container__3ML7J"}},83:function(e,t,n){e.exports={container:"FilterProgress_container__3lKtU",dropdown:"FilterProgress_dropdown__gjvvt","progress-switch":"FilterProgress_progress-switch__1k2Ua","progress-switch-top":"FilterProgress_progress-switch-top__3YR5O","progress-switch-bottom":"FilterProgress_progress-switch-bottom__2bk56","btn-progress":"FilterProgress_btn-progress__2s6tl"}},89:function(e,t,n){e.exports={"all-card-members":"ShowAllTaskMembers_all-card-members__1d2Ib","each-member":"ShowAllTaskMembers_each-member__3I63a",name:"ShowAllTaskMembers_name__2nHLd",username:"ShowAllTaskMembers_username__1_yDw","delete-icon":"ShowAllTaskMembers_delete-icon__2Q6rv",avatar:"ShowAllTaskMembers_avatar__1UK0c"}},97:function(e,t,n){e.exports={navigation:"Header_navigation__3jzmG",small:"Header_small__8uGux",container:"Header_container__3f9rB",links:"Header_links__2BYSL",font:"Header_font__A3LaB"}},98:function(e,t,n){e.exports={members:"MembersList_members__1wnnB",avatar:"MembersList_avatar__3m5RY"}},99:function(e,t,n){e.exports={container:"AttachmentList_container__3CKYA",attachment:"AttachmentList_attachment__3eJ-y",title:"AttachmentList_title__1sJjZ",name:"AttachmentList_name__1Fp27",button:"AttachmentList_button__288mX"}}},[[662,1,2]]]);
//# sourceMappingURL=main.497cb993.chunk.js.map