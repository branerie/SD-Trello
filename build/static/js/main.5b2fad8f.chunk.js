(this["webpackJsonpsmart-manager"]=this["webpackJsonpsmart-manager"]||[]).push([[0],{11:function(e,t,a){e.exports={container:"create-card_container__1KGUj",form:"create-card_form__3QC0I",clean:"create-card_clean__3QajY",editButton:"create-card_editButton__uDHqy",text:"create-card_text__2CDTA",leftSide:"create-card_leftSide__ynGPb",rightSide:"create-card_rightSide__2oHzZ",inputTitles:"create-card_inputTitles__19hEe",pic1:"create-card_pic1__3DVGL",firstRow:"create-card_firstRow__3RqYb",nameInput:"create-card_nameInput__17JOJ",progressInput:"create-card_progressInput__1xCxk",createNameInput:"create-card_createNameInput__ymyWs",nameContainer:"create-card_nameContainer__3J3dR",textName:"create-card_textName__3tjjY",secondRow:"create-card_secondRow__1wJaJ",secondRowProgress:"create-card_secondRowProgress__ThE6Q",pic2:"create-card_pic2__3Yqne",bar:"create-card_bar__2ziCh",progress:"create-card_progress__2VQqL",progressInputContainer:"create-card_progressInputContainer__2RTO6",progressDiv:"create-card_progressDiv__3Az0M",membersDiv:"create-card_membersDiv__3YIWG",members:"create-card_members__mQn69",dueDate:"create-card_dueDate__13uEx",thirdRow:"create-card_thirdRow__3egxH",descriptinTitle:"create-card_descriptinTitle__3lakd",descriptionInput:"create-card_descriptionInput__mW_VY",descriptionButtons:"create-card_descriptionButtons__X0qkI",lasRow:"create-card_lasRow__2KAbi",lasRowRight:"create-card_lasRowRight__3lmjU",smallButtons:"create-card_smallButtons__1e9D_",picsSmallButtons:"create-card_picsSmallButtons__21xQV",smallButtonsNoPic:"create-card_smallButtonsNoPic__2IuW1",smallButtonsContainer:"create-card_smallButtonsContainer__3xs4q"}},117:function(e,t,a){e.exports={dueDateField:"task-dueDate_dueDateField__17EhQ"}},12:function(e,t,a){e.exports={container:"edit-card_container__2tYtI",form:"edit-card_form__2L5z5",clean:"edit-card_clean__3F9ET",editButton:"edit-card_editButton__iPRtv",text:"edit-card_text__3mvzJ",leftSide:"edit-card_leftSide__dTZkK",rightSide:"edit-card_rightSide__2UqY_",inputTitles:"edit-card_inputTitles__5qCV4",pic1:"edit-card_pic1__3MUMa",firstRow:"edit-card_firstRow__3GNRw",nameInput:"edit-card_nameInput__oHBLw",nameContainer:"edit-card_nameContainer__1aOY5",textName:"edit-card_textName__2ll_f",secondRow:"edit-card_secondRow__1FPEo",secondRowProgress:"edit-card_secondRowProgress__37WWz",pic2:"edit-card_pic2__1auTe",bar:"edit-card_bar__237He",progress:"edit-card_progress__270Zm",progressInputContainer:"edit-card_progressInputContainer__OM3qZ",progressDiv:"edit-card_progressDiv__1-poZ",membersDiv:"edit-card_membersDiv__3UY00",members:"edit-card_members__3WgOH",dueDate:"edit-card_dueDate__10ing",thirdRow:"edit-card_thirdRow__91nzX",fourthRow:"edit-card_fourthRow__1BGmT",descriptinTitle:"edit-card_descriptinTitle__2pU3Z",descriptionInput:"edit-card_descriptionInput__2wVSN",history:"edit-card_history__2oopn",descriptionButtons:"edit-card_descriptionButtons__6ZRKS",lasRow:"edit-card_lasRow__2PCIs",lasRowRight:"edit-card_lasRowRight__247I2",smallButtons:"edit-card_smallButtons__1-S_R",picsSmallButtons:"edit-card_picsSmallButtons__1NJsu",smallButtonsNoPic:"edit-card_smallButtonsNoPic__1TU6X",smallButtonsContainer:"edit-card_smallButtonsContainer__sbYsP"}},13:function(e,t,a){e.exports={pageContainer:"welcome_pageContainer__2MsMV",topContainer:"welcome_topContainer__1sLFC",topDivtopContainer:"welcome_topDivtopContainer__1BQ8C",headerNav:"welcome_headerNav__2-v0A",logo:"welcome_logo__2Xqb5",firstButtons:"welcome_firstButtons__2GaNa",loginButton:"welcome_loginButton__1s5YU",signUpButton:"welcome_signUpButton__17HQF",topright:"welcome_topright__19thc",pic1:"welcome_pic1__qGdZx",pic2:"welcome_pic2__1c6_d",lowerDivtopContainer:"welcome_lowerDivtopContainer__vfmOx",firstText:"welcome_firstText__1cwSt",headers:"welcome_headers__3K-We",lucida:"welcome_lucida__ptbMc",paragraph:"welcome_paragraph__2tZDv",secondSignUpButton:"welcome_secondSignUpButton__3MeS7",secondContainer:"welcome_secondContainer__2-ZjX",firstRow:"welcome_firstRow__HneET",secondText:"welcome_secondText__107NK",thirdSignUpButton:"welcome_thirdSignUpButton__2Tob4",pic3Container:"welcome_pic3Container__n-vpQ",pic3:"welcome_pic3__UtHpX",secondRow:"welcome_secondRow__3Qag6",thirdText:"welcome_thirdText__3UTjU",pic4Container:"welcome_pic4Container__2LJvq",pic4:"welcome_pic4__3Me4y",pic5:"welcome_pic5__1w7Rp",thirdRow:"welcome_thirdRow__1v6hn",lastText:"welcome_lastText__3fE1B",lastHeaders:"welcome_lastHeaders__15kTV",lastParagraph:"welcome_lastParagraph__TiofZ",lastSignUpButton:"welcome_lastSignUpButton__2YDJE",pic6Container:"welcome_pic6Container__2Zxs1",pic6:"welcome_pic6__3nl5E",contentWrap:"welcome_contentWrap__1LD1T",footer:"welcome_footer__3gtAE",footerColumn:"welcome_footerColumn__3ooU8",footerHeaders:"welcome_footerHeaders__YIaMe",footerInfo:"welcome_footerInfo__1XQxM",lastColumn:"welcome_lastColumn__wS5Ha",socialMediaContainer:"welcome_socialMediaContainer__15hgL",socialMedia:"welcome_socialMedia__3XfBj",sd2006:"welcome_sd2006__1n8Ed"}},14:function(e,t,a){e.exports={navigation:"header_navigation__fJ63T",small:"header_small__1teZG",container:"header_container__3KlHF",links:"header_links__2hRFR",margin:"header_margin__1o7ce",options:"header_options__3k5mV","first-option":"header_first-option__2kqDm","last-option":"header_last-option__3QlKJ",logout:"header_logout__Sqhs8",input:"header_input__1xJ3o",avatar:"header_avatar__2BJ1H",font:"header_font__SQRRp",select:"header_select__3fnVl",view:"header_view__3reCI","logout-position":"header_logout-position__3aXq5","view-position":"header_view-position__2YHhc",teams:"header_teams__28NdG","teams-position":"header_teams-position__3RFVg","team-options":"header_team-options__3EQGp",overflow:"header_overflow__3pY44",hover:"header_hover__1X08T",flex:"header_flex__26aaz","projects-position":"header_projects-position__KW8oY"}},156:function(e,t,a){e.exports={submit:"button-hide-list_submit__3IMBu",name:"button-hide-list_name__yyff7",opacity:"button-hide-list_opacity__1yCdD"}},157:function(e,t,a){e.exports={app:"page-layout_app__v-_Gs",content:"page-layout_content__Cr_Mh",small:"page-layout_small__208gw"}},16:function(e,t,a){e.exports={message:"inbox_message__2rJZ5",bold:"inbox_bold__dWoq7",container:"inbox_container__2TzHF",button:"inbox_button__1lhQJ",inline:"inbox_inline__2bJwy"}},17:function(e,t,a){e.exports={columns:"calendar-data_columns__1QWXz",task:"calendar-data_task__ZE6uj",buttoDiv:"calendar-data_buttoDiv__2J87B",listName:"calendar-data_listName__3lv8E",container:"calendar-data_container__AkkwG",nameContainer:"calendar-data_nameContainer__rkbae",input:"calendar-data_input__1VVv0",inputList:"calendar-data_inputList__18Si4",addlist:"calendar-data_addlist__3ybnS",addListButton:"calendar-data_addListButton__1LTMv",dueDateField:"calendar-data_dueDateField__3nuYW",dueDateFieldInput:"calendar-data_dueDateFieldInput__1csSW",inputTaskName:"calendar-data_inputTaskName__T52kv",clean:"calendar-data_clean__ldBxu",taskProgress:"calendar-data_taskProgress__1KRv2",taskProgressButton:"calendar-data_taskProgressButton__3GJU6",taskProgressButtonInput:"calendar-data_taskProgressButtonInput__3n9Rl",tableText:"calendar-data_tableText__2Rt8E",select:"calendar-data_select__21nQR",pen:"calendar-data_pen__1ZWSl",membersDiv:"calendar-data_membersDiv__3h7P0",membersContainer:"calendar-data_membersContainer__3yEFo",daylyProgress:"calendar-data_daylyProgress__2hXc9",header:"calendar-data_header__3vmIu"}},216:function(e,t,a){e.exports={aside:"list-color_aside__27qHb",list:"list-color_list__3JEd4"}},217:function(e,t,a){e.exports={membersAvatars:"team-members_membersAvatars__3clh7"}},22:function(e,t,a){e.exports={container:"profile_container__1p1bn",picContainer:"profile_picContainer__1LYFN",leftButtons:"profile_leftButtons__3K_fm",middleButtons:"profile_middleButtons__3h4qa",pic1:"profile_pic1__3QhRY",topright:"profile_topright__3d_LC",teams:"profile_teams__3WNcc",teamNames:"profile_teamNames__1OW9U",navigateButtons:"profile_navigateButtons__1tDJX",inputFieldsProfile:"profile_inputFieldsProfile__ykoBe",profilePic:"profile_profilePic__1X334",loadPicText:"profile_loadPicText__l-s9a",pen:"profile_pen__BlxgA",profilePicContainer:"profile_profilePicContainer__2sWtB",saveButton:"profile_saveButton__Zv5IH",buttonDivSave:"profile_buttonDivSave__38FIj",alerts:"profile_alerts__17g07"}},24:function(e,t,a){e.exports={container:"signup-form_container__pL3cY",alerts:"signup-form_alerts__1NIfM",innerContainer:"signup-form_innerContainer__5EwRE",logo:"signup-form_logo__EYNAN",rightSide:"signup-form_rightSide__aj-hV",title:"signup-form_title__QLVot",inputContainer:"signup-form_inputContainer__1aISK",signUpInput:"signup-form_signUpInput__CZH4Z",passInstructions:"signup-form_passInstructions__2sXBP",signUpButton:"signup-form_signUpButton__3KddA",buttonDivLogin:"signup-form_buttonDivLogin__1i4o-",textDiv:"signup-form_textDiv__1S15C",forgotPass:"signup-form_forgotPass__30gKD",alreadySignUp:"signup-form_alreadySignUp__ApEU9",signUpBtn:"signup-form_signUpBtn__3sCir",buttonDivGoogleLogin:"signup-form_buttonDivGoogleLogin__yabwb",googleLoginBtn:"signup-form_googleLoginBtn__3tonf"}},30:function(e,t,a){e.exports={container:"edit-team_container__3iIvO",title:"edit-team_title__t532U",inputContainer:"edit-team_inputContainer__fS75R",inputContainerInvite:"edit-team_inputContainerInvite__KHXyQ",inputInvite:"edit-team_inputInvite__17F14",inputContainerDescr:"edit-team_inputContainerDescr__pjoTj",textarea:"edit-team_textarea__7Jv7o",buttonDiv:"edit-team_buttonDiv__1vrBc",createButton:"edit-team_createButton__26byR",membersAvatars:"edit-team_membersAvatars__30OQB",membersDiv:"edit-team_membersDiv__2lkPT",members:"edit-team_members__3Uqvp",user:"edit-team_user__3k1aK",email:"edit-team_email__1dRrH"}},303:function(e,t,a){e.exports={clean:"button-clean_clean__2SpL2"}},307:function(e,t,a){e.exports={link:"link_link__3NAE5"}},308:function(e,t,a){e.exports={transparent:"transparent_transparent__30Vus"}},309:function(e,t,a){e.exports={searchContainer:"search-results_searchContainer__1y1sQ"}},310:function(e,t,a){e.exports={title:"title_title__3Ce-3"}},311:function(e,t,a){e.exports={alert:"alert_alert__3deuX"}},312:function(e,t,a){e.exports={button:"button_button__3LYM9"}},313:function(e,t,a){e.exports={title:"inbox_title__3OZg9"}},316:function(e,t,a){e.exports={history:"task-history_history__2HOfh"}},32:function(e,t,a){e.exports={container:"login-form_container__DtpdL",alerts:"login-form_alerts__3wIFj",innerContainer:"login-form_innerContainer__3pbcW",logo:"login-form_logo__2lNG1",rightSide:"login-form_rightSide__1rx9t",title:"login-form_title__I-Bu-",inputContainer:"login-form_inputContainer__oL5TO",emailInput:"login-form_emailInput__1NziV",passInput:"login-form_passInput__3OZ4q",loginButton:"login-form_loginButton__1pGPK",buttonDivLogin:"login-form_buttonDivLogin__1abQB",textDiv:"login-form_textDiv__3c9le",buttonDivGoogleLogin:"login-form_buttonDivGoogleLogin__d35W4",forgotPass:"login-form_forgotPass__2QGNZ",newToSmM:"login-form_newToSmM__22ZMI",signUpBtn:"login-form_signUpBtn__3WDwC",googleLoginBtn:"login-form_googleLoginBtn__FCyuZ"}},33:function(e,t,a){e.exports={container:"add-project-member_container__22-qP",form:"add-project-member_form__3qaBa","current-members":"add-project-member_current-members__3RNVi",adminsContainer:"add-project-member_adminsContainer__1pj6I",admins:"add-project-member_admins__3tdXj",bigContainer:"add-project-member_bigContainer__1TE1V",membersContainer:"add-project-member_membersContainer__3_gmB",title:"add-project-member_title__3EGhe",members:"add-project-member_members__8u9vO",addButton:"add-project-member_addButton__3IjAh",draggable:"add-project-member_draggable__3PkUN",droppable:"add-project-member_droppable__XWc43",droppableMembers:"add-project-member_droppableMembers__32myT"}},34:function(e,t,a){e.exports={container:"create-team_container__2x5c_",title:"create-team_title___mRVu",inputContainer:"create-team_inputContainer__31V6c",inputContainerDescr:"create-team_inputContainerDescr__2mKsD",descriptionText:"create-team_descriptionText__6t1Ah",textarea:"create-team_textarea__1GWAG",buttonDiv:"create-team_buttonDiv__3N3fg",createButton:"create-team_createButton__3snCF",membersAvatars:"create-team_membersAvatars__3JDn6",members:"create-team_members__32-cU",user:"create-team_user__2icTP",email:"create-team_email__lytiR"}},35:function(e,t,a){e.exports={container:"create-project_container__3mplR",title:"create-project_title__2N9HY",inputContainer:"create-project_inputContainer__2IJ0I",membersInput:"create-project_membersInput__1WL0K",inputContainerDescr:"create-project_inputContainerDescr__ZOQKA",textarea:"create-project_textarea__vHUfS",buttonDiv:"create-project_buttonDiv__3nEhN",createButton:"create-project_createButton__3c1D8",membersAvatars:"create-project_membersAvatars__38Wlv",members:"create-project_members__2Uleh",user:"create-project_user__6JmZH"}},352:function(e,t,a){},36:function(e,t,a){e.exports={title:"my-tasks_title__glghp",filter:"my-tasks_filter__2R6NO",selected:"my-tasks_selected__2hBIa",pic:"my-tasks_pic__37y99",project:"my-tasks_project__1KJap","project-name":"my-tasks_project-name__2-cBX",link:"my-tasks_link__3JjLA",bold:"my-tasks_bold__3TzlB",header:"my-tasks_header__3-wOE",card:"my-tasks_card__TRZna",task:"my-tasks_task__tAkep",progress:"my-tasks_progress__1ufVZ",days:"my-tasks_days__2EVrp",list:"my-tasks_list__33WIh"}},40:function(e,t,a){e.exports={container:"home_container__fjBCo",welcomeUser:"home_welcomeUser__139N6",picContainer:"home_picContainer__2ZN01",leftButtons:"home_leftButtons__2kl5n",rightButtons:"home_rightButtons__3fy9O",myTeamsContainer:"home_myTeamsContainer__10BT1",teamsHome:"home_teamsHome__3Kf2X",selectTeamContainer:"home_selectTeamContainer__4pNEv",teamNames:"home_teamNames__3RLyj",navigateButtons:"home_navigateButtons__1azTF",navigateButtonsTeams:"home_navigateButtonsTeams__2EPNu",myTeamButton:"home_myTeamButton__usebH"}},41:function(e,t,a){e.exports={container:"form-add-password_container__2yhI6",alerts:"form-add-password_alerts__2d9EU",innerContainer:"form-add-password_innerContainer__2zNNl",logo:"form-add-password_logo__1HgWR",rightSide:"form-add-password_rightSide__1LBUg",title:"form-add-password_title__1kxgS",inputContainer:"form-add-password_inputContainer__zhZU1",passInstructions:"form-add-password_passInstructions__25RWw",passInput:"form-add-password_passInput__1gXnd",loginButton:"form-add-password_loginButton__3pupI",buttonDivLogin:"form-add-password_buttonDivLogin__3aXeP",textLogin:"form-add-password_textLogin__2noU-",textDiv:"form-add-password_textDiv__3Bs4x",forgotPass:"form-add-password_forgotPass__1Uo4N",newToSmM:"form-add-password_newToSmM__3qN7U",signUpBtn:"form-add-password_signUpBtn__2VXx2"}},42:function(e,t,a){e.exports={list:"list_list__23Rsq",row:"list_row__1A6HD",button:"list_button__2gQ2b",dots:"list_dots__wwSr4",menu:"list_menu__1hArt",active:"list_active__21mJd",relative:"list_relative__2X72U","add-task":"list_add-task__12pcF",draggable:"list_draggable__2_1rW",droppable:"list_droppable__cPWKr",flexend:"list_flexend__3_V7F",name:"list_name__33z_E",container:"list_container__HKNpO",input:"list_input__3Rjro",taskInput:"list_taskInput__2yaty"}},43:function(e,t,a){e.exports={pageContainer:"calendar-table_pageContainer__2rJk8",columns:"calendar-table_columns__2r7c1",task:"calendar-table_task__1tz91",buttoDiv:"calendar-table_buttoDiv__AB2Qr",addTaskField:"calendar-table_addTaskField__3Yb0t",input:"calendar-table_input__214q3",addlist:"calendar-table_addlist__3I9s5",daylyProgress:"calendar-table_daylyProgress__3j-CE",navigateButtons:"calendar-table_navigateButtons__3lTnJ",header:"calendar-table_header__1AROC",listNameContainer:"calendar-table_listNameContainer__1-WSQ",listNameColor:"calendar-table_listNameColor__2hEFD",listNameText:"calendar-table_listNameText__YPqg0",daysButtons:"calendar-table_daysButtons__1StSd",picContainer:"calendar-table_picContainer__Aorrw",centeredText:"calendar-table_centeredText__1hfU9"}},45:function(e,t,a){e.exports={aside:"aside_aside__3wMyb",container:"aside_container__Qu0TM",button:"aside_button__1Dg_A",logo:"aside_logo__1AAc9",topleft:"aside_topleft__1Lq3J",menu:"aside_menu__b_F-d",topright:"aside_topright__2SZev",link:"aside_link__2o8o9",bottomright:"aside_bottomright___B5p3",bell:"aside_bell__25Vva"}},50:function(e,t,a){e.exports={message:"history_message__2_rke",bold:"history_bold__2Sw1-",container:"history_container__38XTe",button:"history_button__dTfA1",inline:"history_inline__3xvvG"}},51:function(e,t,a){e.exports={card:"card_card__35DiC",bar:"card_bar__V0jN_",progress:"card_progress__S2h6J",flex:"card_flex__1dGe1",pen:"card_pen__23iOe",members:"card_members__2m-n7",avatar:"card_avatar__3ZLPw"}},54:function(e,t,a){e.exports={container:"edit-project_container__3bzmM",form:"edit-project_form__u2u3o",title:"edit-project_title__1LrjA",buttonsDiv:"edit-project_buttonsDiv__mUX10",navigateButtons:"edit-project_navigateButtons__2O6oW",inputContainer:"edit-project_inputContainer__1yIbb",inputContainerDescr:"edit-project_inputContainerDescr__3UDo7",textarea:"edit-project_textarea__2FcfJ",editMembers:"edit-project_editMembers__2h7yv"}},58:function(e,t,a){e.exports={card:"my-tasks-task_card__3BAWy",task:"my-tasks-task_task__1lp6I",progress:"my-tasks-task_progress__2gxJ6",days:"my-tasks-task_days__fOUDh",deadline:"my-tasks-task_deadline__2lfRD",list:"my-tasks-task_list__1qGpr",pen:"my-tasks-task_pen__1NBud",input:"my-tasks-task_input__2s3ei","bad-input":"my-tasks-task_bad-input__3kwUX","no-border":"my-tasks-task_no-border__1QKqD"}},581:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a.n(s),c=a(74),i=a.n(c),o=a(21),l=a(3),u=a(77),d=a.n(u),j=a(27),b=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null};var m=function(e){return{username:e.user.username,id:e.user._id,teams:e.teams,inbox:e.user.inbox,confirmed:e.user.confirmed,recentProjects:e.user.recentProjects}},p=r.a.createContext({user:null,logIn:function(){},logOut:function(){}}),h=function(e){var t=Object(s.useState)(null),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(!0),u=Object(l.a)(i,2),h=u[0],O=u[1],x=Object(j.g)(),f=function(e){c(Object(o.a)(Object(o.a)({},e),{},{loggedIn:!0}))},_=Object(s.useCallback)((function(){var e=b("x-auth-token");fetch("/api/user/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){e.ok?(document.cookie="x-auth-token= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/;",c({loggedIn:!1})):x.push("/error")}))}),[x]),v=Object(s.useCallback)((function(){var e=b("x-auth-token");if(!e)return c({loggedIn:!1}),void O(!1);fetch("/api/user/verify",{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){return e.json()})).then((function(e){e.status?f(m(e)):_(),O(!1)}))}),[_]);return Object(s.useEffect)((function(){v()}),[v]),h?Object(n.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3}):Object(n.jsx)(p.Provider,{value:{user:r,setUser:c,logIn:f,logOut:_},children:e.children})},O=function(e){return Object(n.jsx)(h,{children:e.children})},x=(a(352),a(15)),f=a(20),_=a(4),v=a.n(_),g=a(7),N=a(34),k=a.n(N),C=r.a.createContext({teams:[],setTeams:function(){},selectedTeam:"Select",setSelectedTeam:function(){},getCurrentTeam:function(){},currentTeam:"",setCurrentTeam:function(){},getTeams:function(){}}),w=a(19),y=a(303),S=a.n(y),D=function(e){var t=e.title,a=e.onClick,s=e.type,r=e.className,c=e.children,i=e.style;return Object(n.jsxs)("button",{type:s||"button",onClick:a,className:"".concat(S.a.clean," ").concat(r),style:i,children:[t,c]})},T=a(304),I=a.n(T),B=r.a.createContext();function P(){return Object(s.useContext)(B)}function A(e){var t=e.user,a=e.children,r=Object(s.useState)(),c=Object(l.a)(r,2),i=c[0],o=c[1],u=window.location.href.includes("heroku")?"/":"http://localhost:4000";return Object(s.useEffect)((function(){if(t&&t.teams){var e=t.username,a=t.id,n=Object(f.a)(t.teams).map((function(e){return e._id})),s=JSON.stringify(n),r=I()(u,{query:{teamsStr:s,username:e,userId:a},transports:["websocket"]});return o(r),function(){return r.close()}}}),[t,u]),Object(n.jsx)(B.Provider,{value:i,children:a})}function E(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(s.useState)(""),h=Object(l.a)(m,2),O=h[0],x=h[1],_=Object(s.useState)([]),N=Object(l.a)(_,2),y=N[0],S=N[1],T=Object(s.useState)(!1),I=Object(l.a)(T,2),B=I[0],A=I[1],E=Object(s.useState)([]),R=Object(l.a)(E,2),F=R[0],L=R[1],U=Object(j.g)(),z=Object(s.useContext)(C),M=Object(s.useContext)(p),H=P(),J=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(t.target.value),A(!1),0!==F.length){e.next=12;break}return a=b("x-auth-token"),e.next=6,fetch("/api/user/get-all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 6:return(n=e.sent).ok||U.push("/error"),e.next=10,n.json();case 10:s=e.sent,L(s);case 12:O.length>=2&&A(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var t=Object(g.a)(v.a.mark((function t(a){var n,s,c,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=b("x-auth-token"),t.next=4,fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:r,description:u,requests:y})});case 4:if((s=t.sent).ok){t.next=10;break}return U.push("/error"),t.abrupt("return");case 10:return t.next=12,s.json();case 12:c=t.sent,console.log(M.user.teams),(i=Object(f.a)(z.teams)).push(c),z.setTeams(i),z.setSelectedTeam(c.name),e.hideForm(),H.emit("team-update",c._id),H.emit("multiple-messages-sent",y),U.push("/team/".concat(c._id));case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:k.a.form,children:Object(n.jsxs)("form",{className:k.a.container,onSubmit:W,children:[B&&Object(n.jsx)("div",{className:k.a.members,children:F.filter((function(e){return e.username.toLowerCase().includes(O.toLowerCase())&&!e.username.includes(M.user.username)})).filter((function(e){return!y.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(n.jsx)(D,{className:k.a.user,onClick:function(){return function(e){var t=Object(f.a)(y);t.push(e),S(t),A(!1),x("")}(e)},title:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:e.username}),Object(n.jsx)("div",{className:k.a.email,children:e.email})]})},e._id)}))}),Object(n.jsx)("div",{className:k.a.title,children:"Create New Team"}),Object(n.jsxs)("div",{className:k.a.inputContainer,children:[Object(n.jsx)("span",{children:" Name"}),Object(n.jsx)("input",{className:k.a.input,value:r,onChange:function(e){return c(e.target.value)},label:"Name",id:"name"})]}),Object(n.jsxs)("div",{className:k.a.inputContainerDescr,children:[Object(n.jsx)("span",{className:k.a.descriptionText,children:" Description"}),Object(n.jsx)("textarea",{className:k.a.textarea,value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description"})]}),Object(n.jsxs)("div",{className:k.a.inputContainer,children:[Object(n.jsx)("span",{children:" Invite Members"}),Object(n.jsx)("input",{className:k.a.input,autoComplete:"off",value:O,onChange:J,label:"Invite members",id:"members",placeholder:"username"})]}),Object(n.jsx)("div",{className:k.a.membersAvatars,children:y.map((function(e){return Object(n.jsx)(D,{onClick:function(){return function(e){var t=y.filter((function(t){return t.email!==e.email}));S(t)}(e)},title:Object(n.jsx)(w.a,{name:e.username,size:40,round:!0,maxInitials:2},e._id)})}))}),Object(n.jsx)("div",{className:k.a.buttonDiv,children:Object(n.jsx)("button",{type:"submit",className:k.a.createButton,children:"Create"})})]})})}var R=a(307),F=a.n(R),L=function(e){var t=e.title,a=e.href,s=e.className,r=e.onClick;return Object(n.jsx)(x.b,{to:a,className:"".concat(F.a.link," ").concat(s),onClick:r,children:t})},U=a(45),z=a.n(U),M=a.p+"static/media/logo.2beba198.svg",H=a.p+"static/media/menu.f66dcc80.svg",J=a.p+"static/media/home.05f82417.svg",W=a.p+"static/media/tasks.d514e762.svg",G=a.p+"static/media/inbox.6389f480.svg",V=a.p+"static/media/inbox-bell.959a963c.svg",Y=a.p+"static/media/settings.bbf4368b.svg",q=r.a.createContext({lists:[],setLists:function(){},hiddenLists:[],setHiddenLists:function(){},project:{},setProject:function(){}}),X=a(216),Z=a.n(X);function Q(e){var t=e.color,a=e.type;return Object(n.jsx)("svg",{className:"".concat(Z.a[a]),xmlns:"http://www.w3.org/2000/svg",width:"110",height:"26.931",viewBox:"0 0 110 26.931",children:Object(n.jsx)("g",{id:"Layer_2","data-name":"Layer 2",transform:"translate(0.002 0.014)",children:Object(n.jsx)("g",{id:"Layer_1","data-name":"Layer 1",transform:"translate(-0.002 -0.014)",children:Object(n.jsx)("path",{className:Z.a.path,id:"Path_60","data-name":"Path 60",d:"M4.208,22.578l-.277-.26c-.594-.366-.814-1.074-1.351-1.49-1-.749-1.14-2.214-2.352-2.784a1.237,1.237,0,0,1-.187-.391,1.628,1.628,0,0,1,.554-1.628,5.636,5.636,0,0,1,3.1-.456,6.862,6.862,0,0,0,1.083,0,.733.733,0,0,0,.765-.765c.049-.48-.057-.814-.586-.871a1.628,1.628,0,0,1-.513-.163c-.92-.456-.961-1.083-.106-1.7a3.256,3.256,0,0,0,.545-.448,1.27,1.27,0,0,1,.659-.383c.667-.244,1.538.3,2.027-.545a.651.651,0,0,0-.244-.374,6.894,6.894,0,0,1-.659-.554,1.278,1.278,0,0,1-.415-.814A1.9,1.9,0,0,0,5.022,6.933C4.2,6.509,3.6,5.891,4.411,4.881c2.263-1.628,4.933-1.937,7.57-2.328,1.27-.309,2.589-.187,3.858-.48a4.811,4.811,0,0,1,1.449-.09c.643.073,1.254.317,1.921-.147a2.011,2.011,0,0,1,1.718-.106,2.808,2.808,0,0,0,2.32-.2,3.394,3.394,0,0,1,2.2.122c1.628-.6,3.313-.391,4.957-.667.765-.147,1.563-.114,2.328-.3a8.873,8.873,0,0,1,3.557.13.252.252,0,0,0,.269,0A2.914,2.914,0,0,1,39.885.73h.277A2.182,2.182,0,0,1,42.075.307a22.922,22.922,0,0,0,3.883.057A34.326,34.326,0,0,0,56.165.2,1.75,1.75,0,0,1,57.85.51h.277C59.136-.3,60.276.054,61.383.128a28.856,28.856,0,0,0,4.436.26,8.669,8.669,0,0,1,2.751,0c1.188.317,2.442,0,3.606.244A22.083,22.083,0,0,0,75.7.917l.464.041a16.752,16.752,0,0,0,3.191.228h.464c1.083.057,2.157.285,3.256.269,1.351,0,2.678.3,4.021.309.814.171,1.685.2,2.523.334.545.269,1.254.065,1.709.578a4.746,4.746,0,0,0,1.9.309,26.545,26.545,0,0,1,4.548.392c1.166.211,2.347.235,3.527.333,1.091.3,2.271,0,3.329.5,1.408,0,2.825,0,4.241.081.3,0,.716.1.676.513s-.374.586-.814.383c-1.034-.09-2.059-.155-2.523,1.083-.317.814-.961.562-1.555.488-.537.228-1.14.147-1.677.358a5.576,5.576,0,0,1-.814.106,20.26,20.26,0,0,0-4.591.765c.814.676,1.245,1.555,2.255,1.758a1.934,1.934,0,0,1,1.424.334c-.057,1.026-.936.586-1.449.814a.578.578,0,0,1-.383-.065.057.057,0,0,0,0,.057h3.972a1.042,1.042,0,0,1,.92.448c-.244.814-1.058.521-1.587.814-.407.212-1.156.187-.545.961a4.613,4.613,0,0,0,.391.407,11.928,11.928,0,0,0,3,.155,5.421,5.421,0,0,1,.961,0c.814.147,1.058.44.407,1.156-1.074,1.188-2.442,2.165-3.012,3.769,1.742,0,3.565.041,5.389,0,.863.4.879.92.236,1.547a1.148,1.148,0,0,0-.3.814c.114.35.073.733.212,1.074.562,1.384.5,1.547-.863,2.068a13.569,13.569,0,0,1-2.637.814c-1.571.049-3.118.521-4.7.309-1.628-.554-3.329.212-4.99-.081a9.589,9.589,0,0,0-4.884.147,2.816,2.816,0,0,1-2.076.488H79.771a5.739,5.739,0,0,0-1.9.179,10.631,10.631,0,0,1-1.831.1c-4.485,0-8.954.081-13.455,0a4.933,4.933,0,0,0-1.758.187,9.247,9.247,0,0,1-2.507.106h-.529a28.6,28.6,0,0,1-3.126,0h-.48a6.137,6.137,0,0,1-1.726-.1,11.209,11.209,0,0,0-3.533-.2c-2.222.065-4.461-.106-6.675.163a6.658,6.658,0,0,1-1.929.081,4.168,4.168,0,0,1-.456,0c-1.286,0-2.572.106-3.858.049a12.474,12.474,0,0,0-3.394,0c-1.319.2-2.67-.138-3.98.187a16.768,16.768,0,0,1-2.556.236c-1.368-.366-2.711.342-4.07.106a2.133,2.133,0,0,1-.456-.073,9.475,9.475,0,0,0-2.711-.179c-1.213-.09-2.442-.236-3.63-.342a9.377,9.377,0,0,0-1.058-.228,17.6,17.6,0,0,0-2.068-.114c-1.335-.472-2.768-.22-4.119-.521a.969.969,0,0,1-.684-.814l-.594-.537c-.244-.236-.627-.26-.814-.529l-.529-.342A1.913,1.913,0,0,1,4.208,22.578Z",transform:"translate(0.002 0.014)",fill:t})})})})}var K=a(156),$=a.n(K),ee=function(e){var t=e.list,a=e.type,r=Object(s.useContext)(q);return Object(n.jsxs)("button",{onClick:function(){var e=Object(f.a)(r.hiddenLists);if(e.includes(t._id)){var a=e.indexOf(t._id);e.splice(a,1)}else e.push(t._id);r.setHiddenLists(e)},className:"".concat($.a.submit," ").concat(r.hiddenLists.includes(t._id)?$.a.opacity:""),children:[Object(n.jsx)(Q,{color:t.color||"#A6A48E",type:a}),Object(n.jsx)("div",{className:$.a.name,children:t.name})]})};function te(e){var t=e.asideOn,a=e.setAsideOn,r=Object(s.useState)(!1),c=Object(l.a)(r,2),i=c[0],o=c[1],u=Object(s.useContext)(q),d=Object(s.useContext)(p);return Object(s.useEffect)((function(){window.location.href.includes("project")&&o(!0)}),[]),Object(n.jsxs)("div",{className:z.a.aside,children:[Object(n.jsxs)("aside",{className:z.a.container,children:[Object(n.jsx)("div",{className:z.a.topleft,children:Object(n.jsx)(D,{onClick:function(){return a(!t)},title:Object(n.jsx)("img",{className:z.a.options,src:H,alt:"menu",width:"32",height:"24"})})}),Object(n.jsx)(L,{href:"/",title:Object(n.jsx)("img",{src:J,alt:"home",width:"34",height:"32"})}),Object(n.jsx)(L,{href:"/my-tasks/".concat(d.user.id),title:Object(n.jsx)("img",{src:W,alt:"my-tasks",width:"30",height:"25"})}),Object(n.jsx)(L,{href:"/inbox/".concat(d.user.id),title:Object(n.jsx)("img",{src:G,alt:"inbox",width:"33",height:"34"})}),Object(n.jsx)(L,{href:"/",title:Object(n.jsx)("img",{src:Y,alt:"settings",width:"25",height:"25"})}),0!==d.user.inbox.length&&Object(n.jsx)(L,{href:"/inbox/".concat(d.user.id),title:Object(n.jsx)("img",{src:V,alt:"inbox",width:"33",height:"34"}),className:z.a.bell})]}),t?Object(n.jsxs)("div",{className:z.a.menu,children:[Object(n.jsxs)("div",{className:z.a.topright,children:[Object(n.jsx)("div",{className:z.a.logo,children:Object(n.jsx)("img",{src:M,alt:"logo",width:"87",height:"65"})}),Object(n.jsx)(L,{href:"/",title:"Home",className:z.a.link}),Object(n.jsx)(L,{href:"/my-tasks/".concat(d.user.id),title:"My Tasks",className:z.a.link}),Object(n.jsx)(L,{href:"/inbox/".concat(d.user.id),title:"Inbox",className:z.a.link}),Object(n.jsx)(L,{href:"/",title:"Settings",className:z.a.link})]}),i&&Object(n.jsx)("div",{className:z.a.bottomright,children:u.lists.map((function(e,t){return Object(n.jsx)(ee,{list:e,type:"aside"},e._id)}))})]}):null]})}var ae=a(14),ne=a.n(ae),se=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),n=a[0],r=a[1];return Object(s.useEffect)((function(){var t=function(t){null===e.current||e.current.contains(t.target)||r(!n)};return n&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}),[n,e]),[n,r]},re=a(308),ce=a.n(re),ie=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{onClick:e.hideForm,className:ce.a.transparent}),e.children]})},oe=a(35),le=a.n(oe);a(93);function ue(e){var t=e.hideForm,a=Object(s.useState)(""),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)(""),u=Object(l.a)(o,2),d=u[0],m=u[1],h=Object(s.useState)(""),O=Object(l.a)(h,2),x=O[0],_=O[1],N=Object(s.useState)([]),k=Object(l.a)(N,2),C=k[0],y=k[1],S=Object(s.useState)(!1),T=Object(l.a)(S,2),I=T[0],B=T[1],A=Object(s.useState)([]),E=Object(l.a)(A,2),R=E[0],F=E[1],L=Object(s.useContext)(p),U=Object(j.g)(),z=Object(j.h)(),M=P(),H=function(){var e=Object(g.a)(v.a.mark((function e(a){var n,s,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=z.teamid,s=b("x-auth-token"),e.next=5,fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({name:c,description:d,teamId:n})});case 5:if((r=e.sent).ok){e.next=11;break}return U.push("/error"),e.abrupt("return");case 11:return e.next=13,r.json();case 13:i=e.sent,t&&t(),M.emit("team-update",n),U.push("/project-board/".concat(n,"/").concat(i._id));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!0),t=z.teamid,0!==R.length){e.next=12;break}return a=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 6:return(n=e.sent).ok||U.push("/error"),e.next=10,n.json();case 10:s=e.sent,F(s.members);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:le.a.form,children:Object(n.jsxs)("form",{className:le.a.container,onSubmit:H,children:[I&&Object(n.jsx)("div",{className:le.a.members,children:R.filter((function(e){return e.username.toLowerCase().includes(x.toLowerCase())&&!e.username.includes(L.user.username)})).filter((function(e){return!C.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(n.jsx)(D,{className:le.a.user,onClick:function(){return function(e){var t=Object(f.a)(C);t.push(e),y(t),B(!1),_("")}(e)},title:Object(n.jsxs)("div",{className:le.a.member,children:[Object(n.jsx)("div",{children:e.username}),Object(n.jsx)("div",{className:le.a.email,children:e.email})]})},e._id)}))}),Object(n.jsx)("div",{className:le.a.title,children:"Create New Project"}),Object(n.jsxs)("div",{className:le.a.inputContainer,children:[Object(n.jsx)("span",{children:" Name"}),Object(n.jsx)("input",{className:le.a.input,value:c,onChange:function(e){return i(e.target.value)},label:"Name",id:"name"})]}),Object(n.jsxs)("div",{className:le.a.inputContainerDescr,children:[Object(n.jsx)("span",{children:" Description"}),Object(n.jsx)("textarea",{className:le.a.textarea,value:d,onChange:function(e){return m(e.target.value)},label:"Description",id:"description"})]}),Object(n.jsxs)("div",{className:le.a.inputContainer,children:[Object(n.jsx)("span",{children:" Invite Members"}),Object(n.jsx)("input",{className:le.a.membersInput,autoComplete:"off",value:x,onFocus:J,onBlur:function(){setTimeout((function(){return B(!1)}),120)},onChange:function(e){return _(e.target.value)},label:"Invite members",id:"members",placeholder:"username"})]}),Object(n.jsx)("div",{className:le.a.membersAvatars,children:C.map((function(e){return Object(n.jsx)(w.a,{onClick:function(){return function(e){var t=C.filter((function(t){return t.email!==e.email}));y(t)}(e)},name:e.username,size:40,round:!0,maxInitials:2},e._id)}))}),Object(n.jsx)("div",{className:le.a.buttonDiv,children:Object(n.jsx)("button",{type:"submit",className:le.a.createButton,children:"Create"})})]})})}var de=a(309),je=a.n(de);function be(e){for(var t=Object(s.useContext)(p),a=Object(j.g)(),r=Object(s.useContext)(C),c=t.user.teams,i=e.searchInput,o=[],l=0;l<c.length;l++){var u=c[l],d={name:u.name,id:u._id,type:"team"};o.push(d);for(var b=0;b<u.projects.length;b++){var m=u.projects[b],h={name:m.name,id:m._id,type:"project"};o.push(h)}}return Object(n.jsx)("div",{className:je.a.searchContainer,children:o.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})).map((function(t,s){return Object(n.jsx)("div",{onClick:function(){!function(t){for(var n=0;n<c.length;n++){var s=c[n];s._id===t&&(a.push("/team/".concat(t)),r.updateSelectedTeam(s._id),e.hideForm());for(var i=0;i<s.projects.length;i++){var o=s.projects[i];o._id===t&&(a.push("/project-board/".concat(s._id,"/").concat(o._id)),r.updateSelectedTeam(s._id),e.hideForm())}}}(t.id)},children:t.name},s)}))})}var me=function(e){var t=e.asideOn,a=Object(s.useRef)(null),r=Object(s.useRef)(null),c=Object(s.useRef)(null),i=Object(s.useRef)(null),o=Object(s.useRef)(null),u=Object(s.useState)(!1),d=Object(l.a)(u,2),m=d[0],h=d[1],O=se(c),x=Object(l.a)(O,2),f=x[0],_=x[1],N=se(i),k=Object(l.a)(N,2),y=k[0],S=k[1],T=Object(s.useState)(!1),I=Object(l.a)(T,2),B=I[0],P=I[1],A=se(r),R=Object(l.a)(A,2),F=R[0],U=R[1],z=Object(s.useState)(null),M=Object(l.a)(z,2),H=M[0],J=M[1],W=se(a),G=Object(l.a)(W,2),V=G[0],Y=G[1],X=Object(s.useState)(!1),Z=Object(l.a)(X,2),Q=Z[0],K=Z[1],$=se(o),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],re=Object(s.useState)(""),ce=Object(l.a)(re,2),oe=ce[0],le=ce[1],de=Object(s.useState)(!1),je=Object(l.a)(de,2),me=je[0],pe=je[1],he=Object(s.useContext)(p),Oe=Object(s.useContext)(q),xe=Object(s.useContext)(C),fe=Object(j.h)(),_e=Object(j.g)();var ve=Object(s.useCallback)(Object(g.a)(v.a.mark((function e(){var t,a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fe.projectid,a=b("x-auth-token"),e.next=4,fetch("/api/projects/info/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 4:if((n=e.sent).ok){e.next=9;break}_e.push("/error"),e.next=13;break;case 9:return e.next=11,n.json();case 11:s=e.sent,Oe.setProject(s);case 13:case"end":return e.stop()}}),e)}))),[_e,fe,Oe]);return Object(s.useEffect)((function(){if(window.location.href.includes("team")||window.location.href.includes("project")){if("Select"===xe.selectedTeam){var e=fe.teamid;xe.updateSelectedTeam(e)}}else xe.setSelectedTeam("Select");window.location.href.includes("project")&&(P(!0),h(!0),xe.getCurrentProjects(fe.teamid),null!==Oe.project&&Oe.project._id===fe.projectid||ve(),window.location.href.includes("board")&&J("Board"),window.location.href.includes("list")&&J("List"))}),[ve,fe,fe.teamid,Oe.project,xe]),window.location.href.includes("project")&&!Oe.project?null:Object(n.jsx)("header",{className:"".concat(ne.a.navigation," ").concat(t?ne.a.small:""),children:Object(n.jsxs)("div",{className:ne.a.container,children:[Object(n.jsxs)("div",{className:ne.a.links,children:[Object(n.jsx)("div",{className:ne.a.margin,children:"Team:"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(D,{className:ne.a.teams,onClick:function(){return S(!y)},title:xe.selectedTeam}),y?Object(n.jsxs)("div",{ref:i,className:"".concat(ne.a.options," ").concat(ne.a.font," ").concat(ne.a["teams-position"]),children:[xe.teams.map((function(e){return Object(n.jsx)("div",{className:ne.a["team-options"],children:Object(n.jsx)(L,{href:"/team/".concat(e._id),title:e.name,onClick:function(){var t,a;t=e._id,a=e.name,xe.getCurrentProjects(t),xe.setSelectedTeam(a),S(!1)},className:"".concat(ne.a.overflow," ").concat(ne.a.hover)})},e._id)})),Object(n.jsx)("div",{className:ne.a["last-option"],children:Object(n.jsx)(D,{onClick:function(){return K(!0)},title:"Create Team",className:ne.a.logout})})]}):null]}),Q?Object(n.jsx)(ie,{hideForm:function(){return K(!1)},children:Object(n.jsx)(E,{hideForm:function(){K(!1)}})}):null,m&&Object(n.jsxs)("div",{className:ne.a.flex,children:[Object(n.jsx)("div",{className:ne.a.margin,children:"Project:"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(D,{className:ne.a.teams,onClick:function(){return _(!f)},title:Oe.project.name}),f?Object(n.jsxs)("div",{ref:c,className:"".concat(ne.a.options," ").concat(ne.a.font," ").concat(ne.a["projects-position"]),children:[xe.currentProjects.map((function(e){return Object(n.jsx)("div",{className:ne.a["team-options"],children:Object(n.jsx)(L,{href:"/project-board/".concat(fe.teamid,"/").concat(e._id),title:e.name,onClick:function(){_(!1)},className:"".concat(ne.a.overflow," ").concat(ne.a.hover)})},e._id)})),Object(n.jsx)("div",{className:ne.a["last-option"],children:Object(n.jsx)(D,{onClick:function(){return pe(!0)},title:"Create Project",className:ne.a.logout})})]}):null]}),me&&Object(n.jsx)(ie,{hideForm:function(){return pe(!1)},children:Object(n.jsx)(ue,{hideForm:function(){return pe(!1)}})})]}),B&&Object(n.jsxs)("div",{className:ne.a.flex,children:[Object(n.jsx)("div",{className:ne.a.margin,children:"View:"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(D,{className:ne.a.view,onClick:function(){return U(!F)},title:H}),F?Object(n.jsxs)("div",{ref:r,className:"".concat(ne.a.options," ").concat(ne.a.font," ").concat(ne.a["view-position"]),children:[Object(n.jsx)("div",{className:ne.a["first-option"],children:Object(n.jsx)(L,{href:"/project-board/".concat(fe.teamid,"/").concat(Oe.project._id),title:"Board",className:ne.a.hover,onClick:function(){U(!1)}})}),Object(n.jsx)("div",{className:ne.a["last-option"],children:Object(n.jsx)(L,{href:"/project-list/".concat(fe.teamid,"/").concat(Oe.project._id),title:"List",className:ne.a.hover,onClick:function(){U(!1)}})})]}):null]})]})]}),Object(n.jsxs)("div",{className:"".concat(ne.a.links," ").concat(ne.a.font),children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("input",{className:ne.a.input,type:"text",placeholder:"Search...",autoComplete:"off",value:oe,onChange:function(e){return le(e.target.value)},onClick:function(){return ae(!0)}}),oe.length>1&&te?Object(n.jsx)("div",{ref:o,children:Object(n.jsx)(be,{searchInput:oe,hideForm:function(){ae(!te),le("")}})}):null]}),Object(n.jsx)(D,{className:ne.a.avatar,onClick:function(){return Y(!V)},title:Object(n.jsx)(w.a,{name:he.user.username,size:40,round:!0,maxInitials:2})}),V?Object(n.jsxs)("div",{ref:a,className:"".concat(ne.a.options," ").concat(ne.a["logout-position"]),children:[Object(n.jsx)("div",{className:ne.a["first-option"],children:Object(n.jsx)(L,{href:"/profile/".concat(he.user&&he.user.id),title:"Profile",className:ne.a.hover})}),Object(n.jsx)("div",{className:ne.a["last-option"],children:Object(n.jsx)(D,{onClick:he.logOut,title:"Log Out",className:ne.a.logout})})]}):null]})]})})},pe=a(157),he=a.n(pe),Oe=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.jsxs)("div",{className:he.a.app,children:[Object(n.jsx)(te,{asideOn:r,setAsideOn:c}),Object(n.jsx)(me,{asideOn:r}),Object(n.jsx)("div",{className:"".concat(he.a.content," ").concat(r?he.a.small:""),children:e.children})]})},xe=a(310),fe=a.n(xe),_e=function(e){var t=e.title;return Object(n.jsx)("div",{className:fe.a.title,children:t})},ve=a(40),ge=a.n(ve),Ne=a.p+"static/media/home-page-pic.50bdb1b7.svg",ke=function(){var e=Object(s.useRef)(null),t=Object(s.useContext)(p),a=Object(j.g)(),r=Object(s.useState)(!1),c=Object(l.a)(r,2),i=c[0],o=c[1],u=se(e),d=Object(l.a)(u,2),b=d[0],m=d[1],h=t.user.username,O=t.user.teams,x=t.user._id;console.log(t.user);var f=t.user.recentProjects;return Object(n.jsxs)(Oe,{children:[Object(n.jsx)("div",{children:i?Object(n.jsx)(ie,{hideForm:function(){return o(!1)},children:Object(n.jsx)(E,{hideForm:function(){o(!1)}})}):null}),Object(n.jsx)(_e,{title:"Home"}),Object(n.jsx)("div",{className:ge.a.welcomeUser,children:"Welcome ".concat(h,"!")}),Object(n.jsxs)("div",{className:ge.a.container,children:[Object(n.jsxs)("span",{className:ge.a.leftButtons,children:[Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:ge.a.navigateButtons,onClick:function(){return a.push("/my-tasks/".concat(x))},children:"My Tasks"})}),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:ge.a.myTeamsContainer,children:[Object(n.jsx)("button",{onClick:function(){return m(!b)},className:ge.a.myTeamButton,children:"My Teams"}),Object(n.jsx)("div",{className:ge.a.selectTeamContainer,children:b?Object(n.jsx)("div",{className:ge.a.teamsHome,ref:e,children:O.map((function(e,t){return Object(n.jsx)("span",{children:Object(n.jsx)("div",{className:ge.a.navigateButtonsTeams,onClick:function(){return t=e._id,void a.push("/team/".concat(t));var t},children:e.name})},t)}))}):null})]})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){return o(!0)},className:ge.a.navigateButtons,children:"Create New Team"})})]}),Object(n.jsx)("span",{className:ge.a.picContainer,children:Object(n.jsx)("img",{className:ge.a.pic1,src:Ne,alt:""})}),Object(n.jsx)("span",{className:ge.a.rightButtons,children:f?Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"Recent projects:"}),f.slice(0).reverse().map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:ge.a.navigateButtons,onClick:function(){return t=e._id,void O.map((function(e){return e.projects.forEach((function(n){n._id===t&&a.push("/project-board/".concat(e._id,"/").concat(t))}))}));var t},children:e.name})},e._id)}))]}):null})]})]})},Ce=a(13),we=a.n(Ce),ye=a.p+"static/media/welcome-page-1.346d3517.svg",Se=a.p+"static/media/welcome-page-2.73d5ef5e.svg",De=a.p+"static/media/welcome-page-3.5a073b3b.svg",Te=a.p+"static/media/welcome-page-4.5b854b1a.svg",Ie=a.p+"static/media/welcome-page-5.a24b3016.svg",Be=a.p+"static/media/welcome-page-6.2c79ee8c.svg",Pe=a.p+"static/media/instagram-icon.1043ced2.svg",Ae=a.p+"static/media/twitter-icon.0f92d6a5.svg",Ee=a.p+"static/media/facebook-icon.529cf39a.svg",Re=a(147),Fe=a.n(Re),Le=a(32),Ue=a.n(Le),ze=function(){var e=Object(g.a)(v.a.mark((function e(t,a,n,s,r){var c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:a,body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return c=e.sent,i=c.headers.get("Authorization"),e.next=7,c.json();case 7:if(!(o=e.sent).needPassword){e.next=11;break}return r(o),e.abrupt("return");case 11:if(!o.wrongPassword){e.next=14;break}return r(o),e.abrupt("return");case 14:if(!o.wrongUser){e.next=17;break}return r(o),e.abrupt("return");case 17:document.cookie="x-auth-token=".concat(i),o.user.username&&i?s(m(o)):r(o),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),r(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}(),Me=function(){var e=Object(g.a)(v.a.mark((function e(t,a,n){var s,r,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=t.tokenId,e.next=4,fetch("/api/user/google-login",{method:"POST",body:JSON.stringify({tokenId:s}),headers:{"Content-Type":"application/json"}});case 4:return r=e.sent,c=r.headers.get("Authorization"),document.cookie="x-auth-token=".concat(c),e.next=9,r.json();case 9:(i=e.sent).user.username&&c?a(m(i)):n(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),He=a(41),Je=a.n(He),We=a(311),Ge=a.n(We);function Ve(e){return Object(n.jsx)("div",{children:e.alert?Object(n.jsx)("div",{className:Ge.a.alert,children:e.message}):null})}var Ye=function(){var e=Object(g.a)(v.a.mark((function e(t,a,n,s,r){var c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=b("x-auth-token"),e.next=4,fetch(t,{method:a,body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:c}});case 4:return i=e.sent,e.next=7,i.json();case 7:(o=e.sent).user.username?s(m(o)):r(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}();function qe(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(s.useState)(!1),m=Object(l.a)(b,2),h=m[0],O=m[1],x=Object(s.useState)(!1),f=Object(l.a)(x,2),_=f[0],N=f[1],k=Object(s.useContext)(p),C=Object(j.g)(),w=e.userId,y=e.email,S=Object(s.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),O(!1),N(!1),r&&u){e.next=6;break}return N(!0),e.abrupt("return");case 6:if(r===u){e.next=9;break}return O(!0),e.abrupt("return");case 9:return e.next=11,Ye("/api/user/".concat(w),"PUT",{password:r},(function(e){console.log(e)}),(function(e){console.log("Error",e)}));case 11:return e.next=13,ze("/api/user/login","POST",{email:y,password:r},(function(e){k.logIn(e),C.push("/")}),(function(e){console.log("Error",e)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C,k,r,u,w,y]);return Object(n.jsxs)("form",{className:Je.a.container,children:[Object(n.jsxs)("div",{className:Je.a.alerts,children:[Object(n.jsx)(Ve,{alert:h,message:"Passwords do not match"}),Object(n.jsx)(Ve,{alert:_,message:"Please fill all fileds"})]}),Object(n.jsxs)("div",{className:Je.a.innerContainer,children:[Object(n.jsx)("div",{className:Je.a.logo,children:Object(n.jsx)("img",{src:M,alt:"logo",width:"110",height:"100"})}),Object(n.jsxs)("div",{className:Je.a.rightSide,children:[Object(n.jsx)("div",{className:Je.a.title,children:"Add password to user"}),Object(n.jsxs)("div",{className:Je.a.inputContainer,children:[Object(n.jsx)("div",{children:" Password:"}),Object(n.jsx)("input",{placeholder:"********",className:Je.a.passInput,type:"password",value:r,onChange:function(e){return c(e.target.value)},label:"New Password",id:"password"}),Object(n.jsxs)("div",{className:Je.a.passInstructions,children:[Object(n.jsx)("p",{children:"Use 8 or more characters with a mix "}),Object(n.jsx)("p",{children:"of letters, numbers & symbols. "})]})]}),Object(n.jsxs)("div",{className:Je.a.inputContainer,children:[Object(n.jsx)("div",{children:" Confirm Password:"}),Object(n.jsx)("input",{placeholder:"********",className:Je.a.passInput,type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"Confirm Password",id:"rePassword"})]}),Object(n.jsx)("div",{className:Je.a.buttonDivLogin,children:Object(n.jsx)("button",{type:"submit",className:Je.a.loginButton,onClick:S,children:"Submit"})}),Object(n.jsx)("div",{className:Je.a.textLogin,children:"User was registered with Google. Please add password for this Website"})]})]})]})}var Xe=a.p+"static/media/google.2cf12fa6.svg",Ze=function(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(s.useState)(!1),m=Object(l.a)(b,2),h=m[0],O=m[1],x=Object(s.useState)(""),f=Object(l.a)(x,2),_=f[0],N=f[1],k=Object(s.useContext)(p),C=Object(j.g)(),w=Object(s.useState)(!1),y=Object(l.a)(w,2),S=y[0],D=y[1],T=Object(s.useState)(!1),I=Object(l.a)(T,2),B=I[0],P=I[1],A=Object(s.useState)(!1),E=Object(l.a)(A,2),R=E[0],F=E[1],L=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),D(!1),P(!1),F(!1),r&&u){e.next=7;break}return D(!0),e.abrupt("return");case 7:return e.next=9,ze("/api/user/login","POST",{email:u,password:r},(function(e){k.logIn(e),C.push("/")}),(function(e){e.needPassword&&(N(e.userId),O(!0)),e.wrongPassword&&P(!0),e.wrongUser&&F(!0),console.log("Error",e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){O(!1)};return Object(n.jsxs)("div",{children:[h?Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:U,children:Object(n.jsx)(qe,{hideForm:U,userId:_,email:u})})}):null,Object(n.jsxs)("form",{className:Ue.a.container,onSubmit:L,children:[Object(n.jsxs)("div",{className:Ue.a.alerts,children:[Object(n.jsx)(Ve,{alert:S,message:"Please fill all fileds"}),Object(n.jsx)(Ve,{alert:B,message:"Wrong Password"}),Object(n.jsx)(Ve,{alert:R,message:"Please fill valid email address"})]}),Object(n.jsxs)("div",{className:Ue.a.innerContainer,children:[Object(n.jsx)("div",{className:Ue.a.logo,children:Object(n.jsx)("img",{src:M,alt:"logo",width:"110",height:"100"})}),Object(n.jsxs)("div",{className:Ue.a.rightSide,children:[Object(n.jsx)("div",{className:Ue.a.title,children:"Log In with E-mail"}),Object(n.jsxs)("div",{className:Ue.a.inputContainer,children:[Object(n.jsx)("div",{children:" Email:"}),Object(n.jsx)("input",{className:Ue.a.emailInput,placeholder:"John@example.com",value:u,onChange:function(e){return d(e.target.value)},label:"Email",id:"email"})]}),Object(n.jsxs)("div",{className:Ue.a.inputContainer,children:[Object(n.jsx)("div",{children:" Password:"}),Object(n.jsx)("input",{className:Ue.a.passInput,placeholder:"********",type:"password",value:r,onChange:function(e){return c(e.target.value)},label:"Password",id:"password"})]}),Object(n.jsx)("div",{className:Ue.a.buttonDivLogin,children:Object(n.jsx)("button",{type:"submit",className:Ue.a.loginButton,children:"Log In"})}),Object(n.jsxs)("div",{className:Ue.a.textDiv,children:[Object(n.jsx)("p",{className:Ue.a.forgotPass,children:"Forgot Password?"}),Object(n.jsxs)("p",{className:Ue.a.newToSmM,children:["New to Smart Manager?",Object(n.jsx)("button",{className:Ue.a.signUpBtn,onClick:function(){e.goToSignUp(),e.hideForm()},children:"Sign Up"})]}),Object(n.jsx)("h3",{children:"or"})]}),Object(n.jsx)("div",{className:Ue.a.buttonDivGoogleLogin,children:Object(n.jsx)(Fe.a,{render:function(e){return Object(n.jsxs)("button",{onClick:e.onClick,className:Ue.a.googleLoginBtn,children:[Object(n.jsx)("img",{src:Xe,alt:"logo",width:"25",height:"25"}),"Log In with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){Me(e,(function(e){k.logIn(e),C.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})})]})]})]})]})},Qe=a(24),Ke=a.n(Qe),$e=function(e){var t=Object(s.useState)(null),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(null),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(s.useState)(null),m=Object(l.a)(b,2),h=m[0],O=m[1],x=Object(s.useState)(null),f=Object(l.a)(x,2),_=f[0],N=f[1],k=Object(s.useState)(!1),C=Object(l.a)(k,2),w=C[0],y=C[1],S=Object(s.useState)(!1),D=Object(l.a)(S,2),T=D[0],I=D[1],B=Object(s.useState)(!1),P=Object(l.a)(B,2),A=P[0],E=P[1],R=Object(s.useContext)(p),F=Object(j.g)(),L=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!1),I(!1),E(!1),u===_){e.next=7;break}return y(!0),e.abrupt("return");case 7:if(r&&u&&_&&h){e.next=10;break}return I(!0),e.abrupt("return");case 10:return e.next=12,ze("/api/user/register","POST",{email:h,username:r,password:u},(function(e){R.logIn(e),F.push("/")}),(function(e){e.exist&&E(!0)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("form",{className:Ke.a.container,onSubmit:L,children:[Object(n.jsxs)("div",{className:Ke.a.alerts,children:[Object(n.jsx)(Ve,{alert:w,message:"Passwords do not match"}),Object(n.jsx)(Ve,{alert:A,message:"User with this email already exists"}),Object(n.jsx)(Ve,{alert:T,message:"Please fill all fileds"})]}),Object(n.jsxs)("div",{className:Ke.a.innerContainer,children:[Object(n.jsx)("div",{className:Ke.a.logo,children:Object(n.jsx)("img",{src:M,alt:"logo",width:"110",height:"100"})}),Object(n.jsxs)("div",{className:Ke.a.rightSide,children:[Object(n.jsx)("div",{className:Ke.a.title,children:"Sign Up with E-mail"}),Object(n.jsxs)("div",{className:Ke.a.inputContainer,children:[Object(n.jsx)("div",{children:" Username:"}),Object(n.jsx)("input",{placeholder:"John Smith",className:Ke.a.signUpInput,value:r,onChange:function(e){return c(e.target.value)},label:"Username",id:"username"})]}),Object(n.jsxs)("div",{className:Ke.a.inputContainer,children:[Object(n.jsx)("div",{children:" Email:"}),Object(n.jsx)("input",{placeholder:"John@example.com",className:Ke.a.signUpInput,value:h,onChange:function(e){return O(e.target.value)},label:"Email",id:"email"})]}),Object(n.jsxs)("div",{className:Ke.a.inputContainer,children:[Object(n.jsx)("div",{children:" Password:"}),Object(n.jsx)("input",{placeholder:"********",className:Ke.a.signUpInput,type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"Password",id:"password"}),Object(n.jsxs)("div",{className:Ke.a.passInstructions,children:[Object(n.jsx)("p",{children:"Use 8 or more characters with a"}),Object(n.jsx)("p",{children:"mix of letters, numbers & symbols. "})]})]}),Object(n.jsxs)("div",{className:Ke.a.inputContainer,children:[Object(n.jsx)("div",{children:" Re-type Password:"}),Object(n.jsx)("input",{placeholder:"********",className:Ke.a.signUpInput,type:"password",value:_,onChange:function(e){return N(e.target.value)},label:"Re-Password",id:"re-password"})]}),Object(n.jsx)("div",{className:Ke.a.buttonDivLogin,children:Object(n.jsx)("button",{type:"submit",className:Ke.a.signUpButton,children:"Get Started"})}),Object(n.jsx)("div",{className:Ke.a.textDiv,children:Object(n.jsx)("h3",{children:"or"})}),Object(n.jsx)("div",{className:Ke.a.buttonDivGoogleLogin,children:Object(n.jsx)(Fe.a,{render:function(e){return Object(n.jsxs)("button",{onClick:e.onClick,className:Ke.a.googleLoginBtn,children:[Object(n.jsx)("img",{src:Xe,alt:"logo",width:"25",height:"25"}),"Sign Up with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Sign up with Google",onSuccess:function(e){Me(e,(function(e){R.logIn(e),F.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})}),Object(n.jsx)("div",{className:Ke.a.textDiv,children:Object(n.jsxs)("p",{className:Ke.a.alreadySignUp,children:["Already Sign Up?",Object(n.jsx)("button",{className:Ke.a.signUpBtn,onClick:function(){e.goToLogin(),e.hideForm()},children:"Log In"})]})})]})]})]})},et=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1];return Object(n.jsxs)("div",{className:we.a.pageContainer,children:[Object(n.jsx)("div",{children:a?Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return r(!a)},children:Object(n.jsx)(Ze,{hideForm:function(){return r(!a)},goToSignUp:function(){return u(!o)}})})}):null}),Object(n.jsx)("div",{children:o?Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return u(!o)},children:Object(n.jsx)($e,{hideForm:function(){return u(!o)},goToLogin:function(){return r(!a)}})})}):null}),Object(n.jsxs)("div",{className:we.a.contentWrap,children:[Object(n.jsxs)("div",{className:we.a.topContainer,children:[Object(n.jsxs)("div",{className:we.a.topDivtopContainer,children:[Object(n.jsxs)("div",{className:we.a.headerNav,children:[Object(n.jsx)("span",{className:we.a.logo,children:Object(n.jsx)("img",{src:M,alt:"logo",width:"194",height:"142"})}),Object(n.jsxs)("span",{className:we.a.firstButtons,children:[Object(n.jsx)("button",{className:we.a.loginButton,onClick:function(){return r(!a)},children:"Log In"}),Object(n.jsx)("button",{className:we.a.signUpButton,onClick:function(){return u(!o)},children:"Sign Up"})]})]}),Object(n.jsxs)("div",{className:we.a.topright,children:[Object(n.jsx)("div",{className:we.a.pic1,children:Object(n.jsx)("img",{src:ye,alt:""})}),Object(n.jsx)("div",{className:we.a.pic2,children:Object(n.jsx)("img",{src:Se,alt:""})})]})]}),Object(n.jsx)("div",{className:we.a.lowerDivtopContainer,children:Object(n.jsxs)("div",{className:we.a.firstText,children:[Object(n.jsxs)("p",{className:we.a.headers,children:["Manage your work in a ",Object(n.jsx)("span",{className:we.a.lucida,children:"Smart"})," way! "]}),Object(n.jsxs)("div",{className:we.a.paragraph,children:[Object(n.jsx)("p",{children:"The ideas get more clear, organized and focused on."}),Object(n.jsx)("p",{children:"Flexible and time saving for the whole team. "})]}),Object(n.jsx)("div",{className:we.a.paragraph,children:Object(n.jsx)("button",{className:we.a.secondSignUpButton,onClick:function(){return u(!o)},children:"Free Sign Up"})})]})})]}),Object(n.jsxs)("div",{className:we.a.secondContainer,children:[Object(n.jsxs)("div",{className:we.a.firstRow,children:[Object(n.jsxs)("div",{className:we.a.secondText,children:[Object(n.jsx)("p",{className:we.a.headers,children:"Work and participate in different teams "}),Object(n.jsxs)("div",{className:we.a.paragraph,children:[Object(n.jsx)("p",{children:"Follow who and when is doing tasks. Be always"}),Object(n.jsx)("p",{children:"informed with the accomplishment of the projects. "})]}),Object(n.jsx)("div",{className:we.a.paragraph,children:Object(n.jsx)("button",{className:we.a.thirdSignUpButton,onClick:function(){return u(!o)},children:"Try It Now"})})]}),Object(n.jsx)("div",{className:we.a.pic3Container,children:Object(n.jsx)("img",{className:we.a.pic3,src:De,alt:""})})]}),Object(n.jsxs)("div",{className:we.a.secondRow,children:[Object(n.jsx)("div",{className:we.a.pic4Container,children:Object(n.jsx)("img",{className:we.a.pic4,src:Te,alt:""})}),Object(n.jsxs)("div",{className:we.a.thirdText,children:[Object(n.jsx)("p",{className:we.a.headers,children:"\u0415\u0430sy to manage all the information"}),Object(n.jsxs)("div",{className:we.a.paragraph,children:[Object(n.jsx)("p",{children:"Add stickers, notes, comments, attachments in your"}),Object(n.jsx)("p",{children:"  Smart Manager."}),Object(n.jsx)("p",{children:"Collaborate with others in your Team."}),Object(n.jsx)("img",{className:we.a.pic5,src:Ie,alt:""})]})]})]}),Object(n.jsxs)("div",{className:we.a.thirdRow,children:[Object(n.jsxs)("div",{className:we.a.lastText,children:[Object(n.jsxs)("p",{className:we.a.lastHeaders,children:["Start your ",Object(n.jsx)("span",{className:we.a.lucida,children:"Smart Manager"})," Now "]}),Object(n.jsxs)("div",{className:we.a.lastParagraph,children:[Object(n.jsxs)("p",{children:["Connect with other teams from ",Object(n.jsx)("span",{className:we.a.lucida,children:"The Smart Family"}),","]}),Object(n.jsx)("p",{children:" save time with more work done."}),Object(n.jsx)("button",{className:we.a.lastSignUpButton,onClick:function(){return u(!o)},children:"Get Started"})]})]}),Object(n.jsx)("div",{className:we.a.pic6Container,children:Object(n.jsx)("img",{className:we.a.pic6,src:Be,alt:""})})]})]})]}),Object(n.jsxs)("footer",{className:we.a.footer,children:[Object(n.jsxs)("div",{className:we.a.footerColumn,children:[Object(n.jsx)("div",{className:we.a.footerHeaders,children:Object(n.jsx)("p",{children:"Contact Us"})}),Object(n.jsxs)("div",{className:we.a.footerInfo,children:[Object(n.jsx)("p",{children:"+359 52 317 395"}),Object(n.jsx)("p",{children:"smartmanager@gmail.com"})]})]}),Object(n.jsxs)("div",{className:we.a.footerColumn,children:[Object(n.jsx)("div",{className:we.a.footerHeaders,children:Object(n.jsx)("p",{children:"SERVICES"})}),Object(n.jsxs)("div",{className:we.a.footerInfo,children:[Object(n.jsx)("p",{children:"Contact Us"}),Object(n.jsx)("p",{children:"Ordering & Payment FAQ"})]})]}),Object(n.jsxs)("div",{className:we.a.footerColumn,children:[Object(n.jsx)("div",{className:we.a.footerHeaders,children:Object(n.jsx)("p",{children:"INFORMATION"})}),Object(n.jsxs)("div",{className:we.a.footerInfo,children:[Object(n.jsx)("p",{children:"About SMART MANAGER"}),Object(n.jsx)("p",{children:"Work With US"}),Object(n.jsx)("p",{children:"Privacy Policy"}),Object(n.jsx)("p",{children:"Terms & Conditions"})]})]}),Object(n.jsxs)("div",{className:we.a.lastColumn,children:[Object(n.jsxs)("div",{className:we.a.socialMediaContainer,children:[Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:we.a.socialMedia,src:Pe,alt:""})}),Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:we.a.socialMedia,src:Ae,alt:""})}),Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:we.a.socialMedia,src:Ee,alt:""})})]}),Object(n.jsx)("div",{className:we.a.sd2006,children:"SD2006"})]})]})]})},tt=a(22),at=a.n(tt),nt=a.p+"static/media/profile-page-pic.2c3455c2.svg",st=a.p+"static/media/pen.4b4021f9.svg",rt=function(){var e=Object(s.useRef)(null),t=Object(s.useContext)(p),a=Object(s.useState)(null),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)(!0),u=Object(l.a)(o,2),b=u[0],m=u[1],h=Object(s.useState)(!0),O=Object(l.a)(h,2),x=O[0],f=O[1],_=Object(s.useState)(null),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(s.useState)(null),y=Object(l.a)(w,2),S=y[0],D=y[1],T=Object(s.useState)(null),I=Object(l.a)(T,2),B=I[0],P=I[1],A=Object(s.useState)(!1),E=Object(l.a)(A,2),R=E[0],F=E[1],L=se(e),U=Object(l.a)(L,2),z=U[0],M=U[1],H=Object(j.h)(),J=Object(j.g)(),W=t.user.username,G=t.user.teams,V=H.userid,Y=Object(s.useCallback)(Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(V));case 2:if((t=e.sent).ok){e.next=7;break}J.push("/error"),e.next=11;break;case 7:return e.next=9,t.json();case 9:a=e.sent,i(a.email);case 11:case"end":return e.stop()}}),e)}))),[J,V]),q=function(){var e=Object(g.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),F(!1),k||S){e.next=4;break}return e.abrupt("return");case 4:if(S===B){e.next=7;break}return F(!0),e.abrupt("return");case 7:return e.next=9,Ye("/api/user/".concat(V),"PUT",{username:k,password:S},(function(e){t.logIn(e)}),(function(e){console.log("Error",e)}));case 9:Y();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(Object(s.useEffect)((function(){Y()}),[Y]),!W)return Object(n.jsx)(Oe,{children:Object(n.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})});return Object(n.jsxs)(Oe,{children:[Object(n.jsx)(_e,{title:"Profile"}),Object(n.jsxs)("div",{className:at.a.container,children:[Object(n.jsxs)("div",{className:at.a.leftButtons,children:[Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:at.a.navigateButtons,onClick:function(){f(!x)},children:"Username:"})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:at.a.navigateButtons,onClick:function(){m(!b)},children:"Change Password"})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:at.a.navigateButtons,onClick:function(){m(!b)},children:"Confirm Password"})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:at.a.navigateButtons,children:"Email:"})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:at.a.navigateButtons,onClick:function(){return J.push("/my-tasks/".concat(V))},children:"My Tasks"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){return M(!z)},className:at.a.navigateButtons,children:"My Teams"})}),Object(n.jsx)("div",{children:z?Object(n.jsx)("div",{className:at.a.teams,ref:e,children:G.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:at.a.navigateButtons,onClick:function(){return t=e._id,void J.push("/team/".concat(t));var t},children:e.name},t)})}))}):null})]})]}),Object(n.jsxs)("span",{className:at.a.middleButtons,children:[Object(n.jsx)("div",{children:Object(n.jsx)("input",{onChange:function(e){return C(e.target.value)},className:at.a.inputFieldsProfile,placeholder:W,disabled:x})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{onChange:function(e){return D(e.target.value)},className:at.a.inputFieldsProfile,placeholder:"********",disabled:b,type:"password"})}),Object(n.jsx)("div",{className:at.a.alerts,children:Object(n.jsx)(Ve,{alert:R,message:"Passwords do not match"})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{onChange:function(e){return P(e.target.value)},className:at.a.inputFieldsProfile,placeholder:"********",disabled:b,type:"password"})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{className:at.a.inputFieldsProfile,placeholder:c,disabled:!0})}),Object(n.jsx)("div",{className:at.a.buttonDivSave,children:Object(n.jsx)("button",{type:"submit",className:at.a.saveButton,onClick:function(e){return q(e)},children:"Save"})})]}),Object(n.jsxs)("span",{className:at.a.picContainer,children:[Object(n.jsxs)("div",{className:at.a.profilePicContainer,children:[Object(n.jsxs)("div",{className:at.a.profilePic,children:[Object(n.jsx)("p",{className:at.a.loadPicText,children:"Load a profile picture"}),Object(n.jsx)("img",{className:at.a.pen,src:st,alt:""})]}),Object(n.jsx)("p",{children:W})]}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{className:at.a.pic1,src:nt,alt:"",width:"80%",height:"80%"})})]})]})]})},ct=a(312),it=a.n(ct),ot=function(e){var t=e.title,a=e.onClick,s=e.className;return Object(n.jsx)("button",{onClick:a,className:"".concat(it.a.button," ").concat(s),children:t})},lt=a(30),ut=a.n(lt),dt=a(217),jt=a.n(dt);function bt(e){var t=e.members,a=e.invited;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:jt.a.membersAvatars,children:[Object(n.jsx)("div",{children:"Team Members:"}),t.map((function(e,t){return Object(n.jsx)(D,{title:Object(n.jsx)(w.a,{name:e.username,size:40,round:!0,maxInitials:2},e._id)},t)}))]}),0!==a.length&&Object(n.jsxs)("div",{className:jt.a.membersAvatars,children:[Object(n.jsx)("div",{children:"Invited Members:"}),a.map((function(e,t){return Object(n.jsx)(w.a,{name:e.username,size:40,round:!0,maxInitials:2},t)}))]})]})}function mt(e){var t=Object(s.useState)(e.currTeam),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(r.name),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(s.useState)(r.description),h=Object(l.a)(m,2),O=h[0],x=h[1],_=Object(s.useState)(""),N=Object(l.a)(_,2),k=N[0],y=N[1],S=Object(s.useState)(r.members),T=Object(l.a)(S,2),I=T[0],B=T[1],A=Object(s.useState)(r.requests),E=Object(l.a)(A,2),R=E[0],F=E[1],L=Object(s.useState)([]),U=Object(l.a)(L,2),z=U[0],M=U[1],H=Object(s.useState)(!1),J=Object(l.a)(H,2),W=J[0],G=J[1],V=Object(s.useState)([]),Y=Object(l.a)(V,2),q=Y[0],X=Y[1],Z=Object(s.useState)(!1),Q=Object(l.a)(Z,2),K=Q[0],$=Q[1],ee=Object(s.useContext)(p),te=Object(j.g)(),ae=Object(s.useContext)(C),ne=Object(s.useContext)(p),se=P(),re=Object(j.h)().teamid,ce=Object(s.useCallback)((function(){ne.user.teams.forEach((function(e){e._id===re&&c(e)}));var e=r.author;B(r.members),F(r.requests),x(r.description),d(r.name),ee.user.id===e&&$(!0)}),[ee.user.id,r.author,r.description,r.members,r.name,r.requests,ne.user.teams,re]);Object(s.useEffect)((function(){ce()}),[ce]);var ie=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(t.target.value),G(!1),0!==q.length){e.next=12;break}return a=b("x-auth-token"),e.next=6,fetch("/api/user/get-all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 6:return(n=e.sent).ok||te.push("/error"),e.next=10,n.json();case 10:s=e.sent,X(s);case 12:k.length>=2&&G(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.filter((function(e){return e._id!==t._id}));case 2:return a=e.sent,n=b("x-auth-token"),e.next=6,fetch("/api/teams/".concat(re),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:u,description:O,members:a})});case 6:if(e.sent.ok){e.next=12;break}return te.push("/error"),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b("x-auth-token"),e.next=3,fetch("/api/teams/".concat(re),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({removeInvitation:t})});case 3:if(e.sent.ok){e.next=9;break}return te.push("/error"),e.abrupt("return");case 9:ce(),se.emit("team-update",re);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var t=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=b("x-auth-token"),t.next=4,fetch("/api/teams/".concat(re),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:u,description:O,members:I,requests:z})});case 4:if(t.sent.ok){t.next=10;break}return te.push("/error"),t.abrupt("return");case 10:ae.setSelectedTeam(u),ce(),se.emit("team-update",re),se.emit("multiple-messages-sent",z),e.hideForm();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function de(){return(de=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("You will lost all team information - projects, lists and tasks")){t.next=2;break}return t.abrupt("return");case 2:return a=b("x-auth-token"),t.next=5,fetch("/api/teams/".concat(re),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a}});case 5:t.sent.ok?(te.push("/"),e.hideForm()):te.push("/error");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.jsx)("div",{className:ut.a.form,children:Object(n.jsxs)("form",{className:ut.a.container,onSubmit:ue,children:[W?Object(n.jsx)("div",{className:ut.a.members,children:q.filter((function(e){return e.username.toLowerCase().includes(k.toLowerCase())&&!e.username.includes(ne.user.username)})).filter((function(e){return!I.find((function(t){return t.username===e.username}))})).filter((function(e){return!R.find((function(t){return t.username===e.username}))})).filter((function(e){return!z.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e,t){return Object(n.jsx)(D,{className:ut.a.user,onClick:function(){return function(e){var t=Object(f.a)(z);t.push(e),M(t),G(!1),y("")}(e)},title:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:e.username}),Object(n.jsx)("div",{className:ut.a.email,children:e.email})]})},t)}))}):null,Object(n.jsx)("div",{className:ut.a.title,children:"Team"}),Object(n.jsxs)("div",{className:ut.a.inputContainer,children:[Object(n.jsx)("span",{children:" Name"}),Object(n.jsx)("input",{className:ut.a.input,value:u,onChange:function(e){return d(e.target.value)},label:"Name",id:"name"})]}),Object(n.jsxs)("div",{className:ut.a.inputContainerDescr,children:[Object(n.jsx)("span",{children:" Description"}),Object(n.jsx)("textarea",{className:ut.a.textarea,value:O,onChange:function(e){return x(e.target.value)},label:"Description",id:"description"})]}),K?Object(n.jsxs)("div",{className:ut.a.membersDiv,children:[Object(n.jsxs)("div",{className:ut.a.inputContainerInvite,children:[Object(n.jsx)("span",{children:" Invite Members"}),Object(n.jsx)("input",{className:ut.a.inputInvite,autoComplete:"off",value:k,onChange:ie,label:"Invite members",id:"members",placeholder:"username"})]}),Object(n.jsx)("div",{className:ut.a.membersAvatars,children:Object(n.jsxs)("span",{children:[Object(n.jsx)("div",{children:"Send Invitation:"}),z.map((function(e,t){return Object(n.jsx)(w.a,{name:e.username,size:40,round:!0,maxInitials:2,onClick:function(){window.confirm("Are you sure you wish to delete this member?")&&function(e){var t=z.filter((function(t){return t._id!==e._id}));M(t)}(e)}},t)}))]})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:ut.a.membersAvatars,children:[Object(n.jsx)("div",{children:"Team Members:"}),I.map((function(e,t){return Object(n.jsx)(D,{onClick:function(){window.confirm("Are you sure you wish to delete this member?")&&oe(e)},title:Object(n.jsx)(w.a,{name:e.username,size:40,round:!0,maxInitials:2},e._id)},t)}))]}),0!==R.length?Object(n.jsxs)("div",{className:ut.a.membersAvatars,children:[Object(n.jsx)("div",{children:"Invited Members:"}),R.map((function(e,t){return Object(n.jsx)(w.a,{name:e.username,size:40,round:!0,maxInitials:2,onClick:function(){window.confirm("Are you sure you wish to delete this member?")&&le(e)}},t)}))]}):null]}),Object(n.jsxs)("div",{className:ut.a.buttonDiv,children:[Object(n.jsx)("button",{type:"submit",className:ut.a.createButton,children:"Submit Changes"}),Object(n.jsx)("button",{className:ut.a.createButton,onClick:function(){window.confirm("Are you sure you wish to delete this team?")&&function(){de.apply(this,arguments)}()},children:"Delete Team"})]})]}):Object(n.jsx)("div",{children:Object(n.jsx)(bt,{members:I,invited:R})})]})})}var pt=a(50),ht=a.n(pt);function Ot(e){var t=e.message,a=e.options,r=e.setInboxHistory,c=Object(s.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(j.g)();function m(){return(m=Object(g.a)(v.a.mark((function e(){var a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b("x-auth-token"),e.next=3,fetch("/api/user/message/".concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a}});case 3:if((n=e.sent).ok){e.next=9;break}return d.push("/error"),e.abrupt("return");case 9:return e.next=11,n.json();case 11:s=e.sent,r(s.inboxHistory);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:ht.a.message,children:[Object(n.jsxs)("div",{className:ht.a.container,children:[Object(n.jsxs)("div",{className:ht.a.container,children:[Object(n.jsxs)("div",{className:ht.a.bold,children:[t.subject,":"]}),t.accepted?Object(n.jsx)("div",{children:"Accepted"}):Object(n.jsx)("div",{children:"Declined"})]}),Object(n.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",a)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ht.a.bold," ").concat(ht.a.inline),children:"Team name:"}),Object(n.jsx)("div",{className:ht.a.inline,children:t.team.name})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ht.a.bold," ").concat(ht.a.inline),children:"Invited by:"}),Object(n.jsx)("div",{className:ht.a.inline,children:t.sendFrom.username})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ot,{className:ht.a.button,onClick:function(){return u(!0)},title:"View Team"}),Object(n.jsx)(ot,{className:ht.a.button,onClick:function(){window.confirm("Are you sure you wish to delete this message?")&&function(){m.apply(this,arguments)}()},title:"Delete Message"}),o&&Object(n.jsx)(ie,{hideForm:function(){return u(!1)},children:Object(n.jsx)(mt,{currTeam:t.team,hideForm:function(){u(!1)}})})]})]})}var xt=a(16),ft=a.n(xt);function _t(e){var t=e.message,a=e.setInboxHistory,s=e.options,r=e.isInbox,c=Object(j.g)(),i=b("x-auth-token"),o=P(),l=Object(j.h)().userid;function u(e){return d.apply(this,arguments)}function d(){return(d=Object(g.a)(v.a.mark((function e(a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=12;break}return e.next=3,fetch("/api/user/inbox",{method:"POST",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({message:t})});case 3:if((n=e.sent).ok){e.next=9;break}return c.push("/error"),e.abrupt("return");case 9:return e.next=11,n.json();case 11:o.emit("message-sent",l);case 12:a&&c.push("/project-board/".concat(t.team._id,"/").concat(t.project._id));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(g.a)(v.a.mark((function e(){var n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b("x-auth-token"),e.next=3,fetch("/api/user/message/".concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 3:if((s=e.sent).ok){e.next=9;break}return c.push("/error"),e.abrupt("return");case 9:return e.next=11,s.json();case 11:r=e.sent,a(r.inboxHistory);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:ft.a.message,children:[Object(n.jsxs)("div",{className:ft.a.container,children:[Object(n.jsx)("div",{className:ft.a.bold,children:t.subject}),Object(n.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ft.a.bold," ").concat(ft.a.inline),children:"Project:"}),Object(n.jsx)("div",{className:ft.a.inline,children:t.project.name})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ft.a.bold," ").concat(ft.a.inline),children:"List:"}),Object(n.jsx)("div",{className:ft.a.inline,children:t.list.name})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ft.a.bold," ").concat(ft.a.inline),children:"Task:"}),Object(n.jsx)("div",{className:ft.a.inline,children:t.card.name})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ft.a.bold," ").concat(ft.a.inline),children:"Assigned by:"}),Object(n.jsx)("div",{className:ft.a.inline,children:t.sendFrom.username})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ot,{className:ft.a.button,onClick:function(){return u(!0)},title:"Go to Project"}),r&&Object(n.jsx)(ot,{className:ft.a.button,onClick:function(){return u(!1)},title:"Move to History"}),!r&&Object(n.jsx)(ot,{className:ft.a.button,onClick:function(){window.confirm("Are you sure you wish to delete this message?")&&function(){m.apply(this,arguments)}(t)},title:"Delete Message"})]})]})}function vt(e){var t=e.message,a=e.setInbox,r=e.setInboxHistory,c=e.options,i=Object(s.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(j.g)(),p=b("x-auth-token"),h=P(),O=Object(j.h)().userid;function x(e,t){return f.apply(this,arguments)}function f(){return(f=Object(g.a)(v.a.mark((function e(t,n){var s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/teams/invitations/".concat(t.team._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:p},body:JSON.stringify({message:t,accepted:n})});case 2:if((s=e.sent).ok){e.next=8;break}return m.push("/error"),e.abrupt("return");case 8:return e.next=10,s.json();case 10:c=e.sent,h.emit("team-update",t.team._id),a(c.inbox),r(c.inboxHistory),n&&m.push("/team/".concat(t.teamId)),h.emit("message-sent",O),h.emit("message-sent",t.sendFrom._id);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:ft.a.message,children:[Object(n.jsxs)("div",{className:ft.a.container,children:[Object(n.jsx)("div",{className:ft.a.bold,children:t.subject}),Object(n.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",c)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ft.a.bold," ").concat(ft.a.inline),children:"Team name:"}),Object(n.jsx)("div",{className:ft.a.inline,children:t.team.name})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ft.a.bold," ").concat(ft.a.inline),children:"Invited by:"}),Object(n.jsx)("div",{className:ft.a.inline,children:t.sendFrom.username})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ot,{className:ft.a.button,onClick:function(){return x(t,!0)},title:"Accept"}),Object(n.jsx)(ot,{className:ft.a.button,onClick:function(){return x(t,!1)},title:"Decline"}),Object(n.jsx)(ot,{className:ft.a.button,onClick:function(){return d(!0)},title:"View Team"}),u&&Object(n.jsx)(ie,{hideForm:function(){return d(!1)},children:Object(n.jsx)(mt,{currTeam:t.team,hideForm:function(){d(!1)}})})]})]})}function gt(e){var t=e.message,a=e.setInboxHistory,s=e.options,r=e.isInbox,c=Object(j.g)(),i=b("x-auth-token"),o=P(),l=Object(j.h)().userid;function u(){return(u=Object(g.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/inbox",{method:"POST",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({message:t})});case 2:if((a=e.sent).ok){e.next=8;break}return c.push("/error"),e.abrupt("return");case 8:return e.next=10,a.json();case 10:o.emit("message-sent",l);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(g.a)(v.a.mark((function e(){var n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b("x-auth-token"),e.next=3,fetch("/api/user/message/".concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 3:if((s=e.sent).ok){e.next=9;break}return c.push("/error"),e.abrupt("return");case 9:return e.next=11,s.json();case 11:r=e.sent,a(r.inboxHistory);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:ft.a.message,children:[Object(n.jsxs)("div",{className:ft.a.container,children:[Object(n.jsxs)("div",{className:ft.a.container,children:[Object(n.jsxs)("div",{className:ft.a.bold,children:[t.subject,":"]}),Object(n.jsxs)("span",{children:[t.sendFrom.username,t.accepted?Object(n.jsx)("span",{children:" accepted"}):Object(n.jsx)("span",{children:" declined"})]})]}),Object(n.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"".concat(ft.a.bold," ").concat(ft.a.inline),children:"Team name:"}),Object(n.jsx)("div",{className:ft.a.inline,children:t.team.name})]}),Object(n.jsxs)("div",{children:[r&&Object(n.jsx)(ot,{className:ft.a.button,onClick:function(){return u.apply(this,arguments)},title:"Move to History"}),!r&&Object(n.jsx)(ot,{className:ft.a.button,onClick:function(){window.confirm("Are you sure you wish to delete this message?")&&function(){d.apply(this,arguments)}(t)},title:"Delete Message"})]})]})}var Nt=a(313),kt=a.n(Nt),Ct=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)([]),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(j.g)(),h=P(),O=Object(s.useContext)(p).logIn,x=b("x-auth-token"),_={weekday:"short",year:"numeric",month:"short",day:"numeric"},N=Object(s.useCallback)(Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/inbox",{method:"GET",headers:{"Content-Type":"application/json",Authorization:x}});case 2:if((t=e.sent).ok){e.next=8;break}return d.push("/error"),e.abrupt("return");case 8:return e.next=10,t.json();case 10:a=e.sent,r(a.inbox),u(a.inboxHistory);case 13:case"end":return e.stop()}}),e)}))),[d,x]);Object(s.useEffect)((function(){N()}),[N]);var k=Object(s.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=m(t),O(a),r(t.inboxUser.inbox),u(t.inboxUser.inboxHistory);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[O]);return Object(s.useEffect)((function(){if(h)return h.on("message-sent",k),function(){return h.off("message-sent")}}),[h,k]),Object(n.jsxs)(Oe,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(_e,{title:"Inbox"}),0===a.length&&Object(n.jsx)("div",{className:kt.a.title,children:"Inbox is empty"}),Object(f.a)(a).reverse().map((function(e){switch(e.subject){case"Team invitation":return Object(n.jsx)(vt,{message:e,setInbox:r,setInboxHistory:u,options:_},e._id);case"Team invitation response":return Object(n.jsx)(gt,{message:e,setInbox:r,setInboxHistory:u,options:_,isInbox:!0},e._id);case"Task assignment":return Object(n.jsx)(_t,{message:e,setInbox:r,setInboxHistory:u,options:_,isInbox:!0},e._id)}return""}))]}),0!==o.length&&Object(n.jsxs)("div",{children:[Object(n.jsx)(_e,{title:"History"}),Object(f.a)(o).reverse().map((function(e){switch(e.subject){case"Team invitation":return Object(n.jsx)(Ot,{message:e,options:_,setInboxHistory:u},e._id);case"Team invitation response":return Object(n.jsx)(gt,{message:e,setInbox:r,setInboxHistory:u,options:_,isInbox:!1},e._id);case"Task assignment":return Object(n.jsx)(_t,{message:e,setInbox:r,setInboxHistory:u,options:_,isInbox:!1},e._id)}return""}))]})]})},wt=a(36),yt=a.n(wt),St=a.p+"static/media/my-tasks.a0bdac2a.svg",Dt=a(58),Tt=a.n(Dt),It=a(12),Bt=a.n(It),Pt=a.p+"static/media/pic1.06557b43.svg",At=a.p+"static/media/pic2.da7b02c6.svg",Et=a.p+"static/media/pic3.b95e708c.svg",Rt=a.p+"static/media/pic4.48bbd98d.svg",Ft=a.p+"static/media/pic5.e6817eda.svg",Lt=a.p+"static/media/pic6.68bb366f.svg",Ut=a.p+"static/media/pic7.86d3a007.svg",zt=a.p+"static/media/pic8.252e7d72.svg",Mt=a.p+"static/media/pic9.7a153c8e.svg",Ht=a.p+"static/media/pic10.b95e708c.svg",Jt=a.p+"static/media/pic11.03e491b0.svg",Wt=a.p+"static/media/pic12.cb5bf992.svg",Gt=a.p+"static/media/pic13.6bab88f6.svg",Vt=a.p+"static/media/pic14.c584b335.svg",Yt=a(79),qt=a.n(Yt);function Xt(e){var t=Object(s.useRef)(null),a=Object(s.useState)(e.card.members),r=Object(l.a)(a,2),c=r[0],i=r[1],o=se(t),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(s.useState)(""),h=Object(l.a)(p,2),O=h[0],x=h[1],_=Object(s.useState)([]),N=Object(l.a)(_,2),k=N[0],y=N[1],S=Object(j.g)(),D=P(),T=Object(s.useContext)(C),I=Object(j.h)(),B=e.project._id,A=e.card._id,E=e.listId,R=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a,n,s,r,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,T.teams.map((function(e){return e.projects.map((function(a){return a._id===B&&(t=e._id),t}))}));case 3:return a=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 6:return(n=e.sent).ok||S.push("/error"),e.next=10,n.json();case 10:for(o in s=e.sent,r=s.members,i=function(e){r=r.filter((function(t){return t._id!==c[e]._id}))},c)i(o);y(r);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=Object(s.useCallback)((function(){D.emit("project-update",e.project),D.emit("task-team-update",e.teamId)}),[D,e.project,e.teamId]),L=Object(s.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t,a){var n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=c.indexOf(a),s=Object(f.a)(c),-1!==n&&s.splice(n,1),r=b("x-auth-token"),e.next=7,fetch("/api/projects/lists/cards/".concat(E,"/").concat(A),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({members:s})});case 7:e.sent.ok?(F(),i(s)):S.push("/error");case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[S,A,E,F,c]),U=Object(s.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(a){var n,s,r,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=I.teamid,O){t.next=5;break}return m(!d),t.abrupt("return");case 5:if(s=b("x-auth-token"),r=e.project,r.membersRoles.filter((function(e){return e.memberId._id===O._id}))[0]){t.next=17;break}if(!window.confirm("Do you want to add ".concat(O.username," to project?"))){t.next=16;break}return t.next=12,fetch("/api/projects/".concat(B,"/user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({member:O,admin:!1})});case 12:t.sent.ok||S.push("/error"),t.next=17;break;case 16:return t.abrupt("return");case 17:return(o=Object(f.a)(c)).push(O),t.next=21,fetch("/api/projects/lists/cards/".concat(E,"/").concat(A),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({members:o,newMember:O,teamId:n,projectId:r._id,cardId:A,listId:E})});case 21:t.sent.ok?(m(!d),i(o),F(),x(""),D.emit("message-sent",O._id)):S.push("/error");case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[S,e,A,E,d,m,O,F,c,B,I.teamid,D]);return Object(n.jsx)("div",{children:d?Object(n.jsx)("span",{children:Object(n.jsxs)("form",{ref:t,className:qt.a.container,children:[Object(n.jsxs)("select",{className:qt.a.select,onChange:function(e){!function(e){var t=k.filter((function(t){return t._id===e}))[0];x(t)}(e.target.value)},children:[Object(n.jsx)("option",{children:"Select"}),k.map((function(e,t){return Object(n.jsx)("option",{value:e._id,children:e.username},t)}))]}),Object(n.jsx)("button",{className:qt.a.addUserButton,onClick:U,children:"Add"})]})}):Object(n.jsxs)("div",{className:qt.a.membersContainer,children:[0!==c.length?Object(n.jsx)("span",{className:qt.a.membersDiv,children:c.map((function(t,a){return Object(n.jsx)("span",{className:qt.a.eachMember,children:Object(n.jsx)(w.a,{name:t.username,size:e.size,round:!0,maxInitials:2,onMouseEnter:Object(n.jsx)("div",{children:t.username}),onClick:function(e){window.confirm("Are you sure you wish to delete this member?")&&L(e,t)}})},a)}))}):null,Object(n.jsx)("img",{className:qt.a.pen,src:st,alt:"...",width:"13",height:"13",onClick:function(){R(),m(!d)}})]})})}var Zt=a(117),Qt=a.n(Zt),Kt=a(78),$t=a.n(Kt);function ea(e){var t=Object(s.useRef)(null),a=se(t),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)(e.cardDueDate),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(j.g)(),h=P(),O=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),x=Object(s.useCallback)((function(){h.emit("project-update",e.project),h.emit("task-team-update",e.teamId)}),[h,e.project,e.teamId]),f=Object(s.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(a){var n,s,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cardId,s=e.listId,""!==d||""!==a){t.next=5;break}return console.log("return"),t.abrupt("return");case 5:return r=b("x-auth-token"),t.next=8,fetch("/api/projects/lists/cards/".concat(s,"/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({dueDate:a,teamId:e.teamId})});case 8:if(t.sent.ok){t.next=14;break}return p.push("/error"),t.abrupt("return");case 14:i(!c),x();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[p,d,x,i,c,e.cardId,e.listId,e.teamId]),_="",N="";d&&(N=(_=new Date(d)).getTime());var k=""!==N&&0!==N?("0"+_.getDate()).slice(-2)+"-"+("0"+(_.getMonth()+1)).slice(-2)+"-"+_.getFullYear():"";if(k){var C=k;return Object(n.jsx)("span",{className:Qt.a.dueDateField,children:Object(n.jsx)($t.a,{selected:d,customInput:Object(n.jsx)("div",{className:Qt.a.dueDateField,children:Object(n.jsx)("span",{children:C})}),onChange:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:f(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),label:"Go to date",onBlur:function(){return i(!c)}})})}return Object(n.jsx)("span",{className:Qt.a.dueDateField,children:Object(n.jsx)("div",{className:Qt.a.dueDateField,children:Object(n.jsx)($t.a,{customInput:Object(n.jsx)("div",{children:Object(n.jsx)("span",{children:"Select date"})}),selected:O,onChange:function(e){m(e),f(e)},label:"Go to date"})})})}var ta=a(316),aa=a.n(ta);function na(e){var t=e.taskHistory,a=[];if(t)for(var s=0;s<t.length;s++){var r=t[s];if(s===t.length-1){a.push(r);break}r.event.slice(0,8)===t[s+1].event.slice(0,8)&&r.date===t[s+1].date||a.push(r)}function c(e){var t=new Date(e);return("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear()}return Object(n.jsx)("div",{className:aa.a.history,children:t?a.map((function(e,t){return Object(n.jsx)("div",{children:"".concat(c(e.date)," - ").concat(e.event)},t)})):null})}function sa(e){var t=e.listId,a=Object(s.useRef)(null),r=Object(s.useState)(e.card),c=Object(l.a)(r,2),i=c[0],o=c[1],u=Object(s.useState)(i.name),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(s.useState)(i.description),O=Object(l.a)(h,2),x=O[0],_=O[1],N=Object(s.useState)(i.progress),k=Object(l.a)(N,2),C=k[0],w=k[1],y=Object(s.useState)(i.history),S=Object(l.a)(y,2),D=S[0],T=S[1],I=Object(s.useState)(!1),B=Object(l.a)(I,2),A=B[0],E=B[1],R=Object(j.g)(),F=P(),L=se(a),U=Object(l.a)(L,2),z=U[0],M=U[1],H=se(a),J=Object(l.a)(H,2),W=J[0],G=J[1],V=Object(s.useState)(!1),Y=Object(l.a)(V,2),q=Y[0],X=Y[1],Z=Object(s.useMemo)((function(){return new Date(i.dueDate)}),[i.dueDate]),Q=Object(s.useMemo)((function(){return new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())}),[]),K=i._id,$=Object(s.useCallback)(function(){var a=Object(g.a)(v.a.mark((function a(n){var s;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),window.confirm("Are you sure you wish to delete this item?")){a.next=3;break}return a.abrupt("return");case 3:return s=b("x-auth-token"),a.next=6,fetch("/api/projects/lists/cards/".concat(t,"/").concat(K),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s}});case 6:a.sent.ok?(F.emit("project-update",e.project),F.emit("task-team-update",e.teamId),e.hideForm()):R.push("/error");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[R,e,K,t,F]),ee=Object(s.useCallback)(function(){var a=Object(g.a)(v.a.mark((function a(n){var s,r,c,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!(Number(C)>100)){a.next=6;break}return w(100),a.abrupt("return");case 6:if(!(Number(C)<0)){a.next=9;break}return w(0),a.abrupt("return");case 9:return s=Object(f.a)(D),A&&(s.push({event:"Progress ".concat(C,"%"),date:Q}),T(s)),r=b("x-auth-token"),a.next=14,fetch("/api/projects/lists/cards/".concat(t,"/").concat(K),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:m,description:x,dueDate:Z,progress:C,history:s})});case 14:if((c=a.sent).ok){a.next=19;break}R.push("/error"),a.next=29;break;case 19:return a.next=21,c.json();case 21:i=a.sent,o(i),F.emit("project-update",e.project),F.emit("task-team-update",e.teamId),M(!1),G(!1),X(!1),E(!1);case 29:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[R,m,x,Z,C,t,K,M,G,A,D,Q,F,e.teamId,e.project]);return Object(n.jsx)("div",{className:Bt.a.container,children:Object(n.jsxs)("form",{className:Bt.a.form,children:[Object(n.jsxs)("div",{className:Bt.a.leftSide,children:[Object(n.jsx)("div",{className:Bt.a.firstRow,children:Object(n.jsxs)("div",{className:Bt.a.inputTitles,children:[Object(n.jsx)("span",{className:Bt.a.pic1,children:Object(n.jsx)("img",{src:Pt,alt:"pic1"})}),z?Object(n.jsx)("div",{ref:a,children:Object(n.jsxs)("span",{className:Bt.a.nameContainer,children:[Object(n.jsx)("input",{className:Bt.a.nameInput,value:m,onChange:function(e){return p(e.target.value)}}),Object(n.jsx)("button",{onClick:ee,className:Bt.a.editButton,children:"Edit"})]})}):Object(n.jsx)("span",{className:Bt.a.nameContainer,children:Object(n.jsx)("p",{className:Bt.a.textName,onClick:function(){return M(!z)},children:i.name})})]})}),Object(n.jsxs)("div",{className:Bt.a.secondRowProgress,onClick:function(){return G(!0)},children:[Object(n.jsxs)("div",{className:Bt.a.inputTitles,children:[Object(n.jsx)("span",{className:Bt.a.pic2,children:Object(n.jsx)("img",{src:At,alt:"pic2"})}),Object(n.jsx)("span",{className:Bt.a.nameContainer,children:Object(n.jsx)("p",{children:"Progress"})})]}),Object(n.jsx)("div",{children:W?Object(n.jsx)("div",{ref:a,children:Object(n.jsxs)("span",{className:Bt.a.progressInputContainer,children:[Object(n.jsx)("input",{type:"number",className:Bt.a.nameInput,value:C,onChange:function(e){w(e.target.value),E(!0)},min:"0",max:"100"}),"%",Object(n.jsx)("button",{onClick:ee,className:Bt.a.editButton,children:"Edit"})]})}):Object(n.jsxs)("div",{className:Bt.a.progressDiv,children:[i.progress>=0?Object(n.jsx)("div",{className:Bt.a.bar,children:Object(n.jsx)("div",{style:{width:"".concat(i.progress,"%"),backgroundColor:function(e){return Number(e)<=20?"red":Number(e)<=40?"orange":Number(e)<=80?"blue":Number(e)>80?"green":void 0}(i.progress)},className:Bt.a.progress})}):Object(n.jsx)("div",{children:"Enter Task Progress"}),Object(n.jsxs)("span",{className:Bt.a.textName,children:[i.progress,Object(n.jsx)("span",{children:"%"})]})]})})]}),Object(n.jsxs)("div",{className:Bt.a.thirdRow,children:[Object(n.jsx)("div",{className:Bt.a.descriptinTitle,children:Object(n.jsx)("p",{className:Bt.a.text,children:"Description"})}),Object(n.jsx)("textarea",{className:Bt.a.descriptionInput,ref:a,value:x,onChange:function(e){_(e.target.value),X(!0)}}),q?Object(n.jsxs)("div",{className:Bt.a.descriptionButtons,children:[Object(n.jsx)("span",{children:Object(n.jsx)("button",{onClick:ee,className:Bt.a.editButton,children:"Edit"})}),Object(n.jsx)("span",{children:Object(n.jsx)("button",{onClick:function(e){_(i.description),X(!1)},className:Bt.a.editButton,children:"Cancel"})})]}):null]}),Object(n.jsxs)("div",{className:Bt.a.fourthRow,children:[Object(n.jsx)("div",{className:Bt.a.descriptinTitle,children:Object(n.jsx)("p",{className:Bt.a.text,children:"History"})}),Object(n.jsx)(na,{taskHistory:D})]})]}),Object(n.jsxs)("div",{className:Bt.a.rightSide,children:[Object(n.jsxs)("div",{className:Bt.a.membersDiv,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Bt.a.text,children:"Members"})}),Object(n.jsx)("div",{className:Bt.a.members,children:Object(n.jsx)(Xt,{card:i,size:30,listId:t,project:e.project,title:"Add",teamId:e.teamId})})]}),Object(n.jsx)("div",{className:Bt.a.secondRow,children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:Bt.a.dueDate,children:Object(n.jsx)(ea,{cardDueDate:Z,cardId:K,listId:t,project:e.project,showEditCard:!1,teamId:e.teamId})})})}),Object(n.jsxs)("div",{className:Bt.a.smallButtonsContainer,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Bt.a.text,children:"Add"})}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Et,alt:"pic3"}),"Join"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Rt,alt:"pic4"}),"Stickers"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Ft,alt:"pic5"}),"Due Date"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Lt,alt:"pic6"}),"Attach file"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Ut,alt:"pic7"}),"Reports"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Ht,alt:"pic10"}),"Add Teammate"]})]}),Object(n.jsxs)("div",{className:Bt.a.smallButtonsContainer,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Bt.a.text,children:"Manage"})}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Jt,alt:"pic11"}),"Make Template"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Gt,alt:"pic13"}),"Remove List"]}),Object(n.jsxs)("button",{className:Bt.a.smallButtons,onClick:function(e){$(e)},title:"Delete Task",children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Wt,alt:"pic12"}),"Delete Task"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:zt,alt:"pic8"}),"Settings"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Mt,alt:"pic9"}),"View"]}),Object(n.jsxs)("div",{className:Bt.a.smallButtons,children:[Object(n.jsx)("img",{className:Bt.a.picsSmallButtons,src:Vt,alt:"pic14"}),"Archive"]})]})]})]})})}function ra(e){var t=e.currTeam,a=e.project,r=e.list,c=e.card,i=Object(s.useRef)(null),o=Object(s.useState)(!1),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(s.useState)(!1),h=Object(l.a)(p,2),O=h[0],x=h[1],_=Object(s.useState)(""),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(s.useState)(!0),y=Object(l.a)(w,2),S=y[0],T=y[1],I=Object(j.g)(),B=P(),A=Math.ceil((Date.parse(c.dueDate)-Date.now())/1e3/3600/24);function E(){return(E=Object(g.a)(v.a.mark((function e(){var n,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!1),S&&Number(k)!==c.progress){e.next=5;break}return C(c.progress+"%"),T(!0),e.abrupt("return");case 5:if(""!==k){e.next=10;break}if(null!==c.progress){e.next=9;break}return C("Add"),e.abrupt("return");case 9:C(c.progress+"%");case 10:return n=new Date(Date.now()),(s=Object(f.a)(c.history)).push({event:"Progress ".concat(k,"%"),date:n}),i=b("x-auth-token"),e.next=16,fetch("/api/projects/lists/cards/".concat(r._id,"/").concat(c._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({progress:k,history:s})});case 16:if(e.sent.ok){e.next=22;break}return I.push("/error"),e.abrupt("return");case 22:B.emit("project-update",a),B.emit("task-team-update",t._id);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){null!==c.progress?C(c.progress+"%"):C("Add")}),[C,c.progress]),Object(n.jsxs)("div",{className:Tt.a.card,children:[Object(n.jsx)("div",{className:Tt.a.task,children:c.name}),Object(n.jsx)("div",{className:Tt.a.list,children:r.name}),Object(n.jsx)("div",{className:Tt.a.progress,children:Object(n.jsx)("input",{ref:i,type:"text",className:"".concat(Tt.a.input," ").concat(!S&&Tt.a["bad-input"]," ").concat(!d&&Tt.a["no-border"]),autoComplete:"off",value:k,onFocus:function(){m(!0),C("Add"!==k?Number(k.slice(0,-1)):"")},onBlur:function(){return E.apply(this,arguments)},onKeyUp:function(){Number.isNaN(Number(k))||Number(k)<0||Number(k)>100?T(!1):T(!0)},onChange:function(e){return C(e.target.value)}})}),Object(n.jsx)("div",{className:Tt.a.days,children:100===c.progress?Object(n.jsx)("div",{children:"Done"}):0===Date.parse(c.dueDate)||null===c.dueDate?Object(n.jsx)("div",{children:"No Deadline"}):A<0?Object(n.jsx)("div",{className:Tt.a.deadline,children:"Deadline Passed"}):Object(n.jsx)("div",{children:A})}),Object(n.jsx)(D,{className:Tt.a.pen,onClick:function(){return x(!0)},title:Object(n.jsx)("img",{src:st,alt:"...",width:"11.5",height:"11.5"})}),O&&Object(n.jsx)(ie,{hideForm:function(){return x(!O)},children:Object(n.jsx)(sa,{hideForm:function(){return x(!O)},card:c,listId:r._id,project:a,teamId:t._id})})]},c._id)}var ca=function(){var e=Object(s.useContext)(p),t=Object(s.useState)(""),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)([]),u=Object(l.a)(i,2),d=u[0],m=u[1],h=Object(j.g)(),O=P(),f=Object(s.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),a=b("x-auth-token"),e.next=4,fetch("/api/user/tasks/".concat(t._id),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 4:if((n=e.sent).ok){e.next=9;break}h.push("/error"),e.next=13;break;case 9:return e.next=11,n.json();case 11:s=e.sent,m(s);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]);function _(e){m(e),console.log("update")}return Object(s.useEffect)((function(){if(r&&null!=O){var e=r._id;return O.on("task-team-updated",_),O.on("task-update-team",(function(t){if(t===e){var a=Object(o.a)({},r);f(a)}})),O.emit("task-team-join",e),function(){return O.off("task-team-updated")}}}),[r,O,f]),Object(n.jsxs)(Oe,{children:[Object(n.jsx)(_e,{title:"My Tasks"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:yt.a.title,children:"Teams:"}),e.user.teams.map((function(e){return Object(n.jsx)(D,{title:e.name,onClick:function(){return f(e)},className:"".concat(yt.a.filter," ").concat(r._id===e._id&&yt.a.selected)},e._id)}))]}),r?Object(n.jsx)("div",{children:0===d.length?Object(n.jsx)("div",{className:yt.a.title,children:"There is no current tasks"}):d.map((function(e){return Object(n.jsxs)("div",{className:yt.a.project,children:[Object(n.jsx)("div",{className:yt.a["project-name"],children:Object(n.jsxs)(x.b,{to:"/project-board/".concat(r._id,"/").concat(e._id),className:yt.a.link,children:[Object(n.jsx)("span",{className:yt.a.bold,children:"Project:"})," ",e.name]})}),Object(n.jsxs)("div",{className:"".concat(yt.a.header," ").concat(yt.a.card),children:[Object(n.jsx)("div",{className:yt.a.task,children:"Task:"}),Object(n.jsx)("div",{className:yt.a.list,children:"List:"}),Object(n.jsx)("div",{className:yt.a.progress,children:"Progress:"}),Object(n.jsx)("div",{className:yt.a.days,children:"Days Till End:"})]}),e.lists.map((function(t){return Object(n.jsx)("div",{children:t.cards.map((function(a){return Object(n.jsx)(ra,{currTeam:r,project:e,list:t,card:a},a._id)}))},t._id)}))]},e._id)}))}):Object(n.jsx)("div",{className:yt.a.title,children:"Select a team"}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{className:yt.a.pic,src:St,alt:"",width:"364px",height:"262px"})})]})},ia=function(){return Object(n.jsx)(Oe,{children:Object(n.jsx)("div",{children:"Error Page"})})},oa=a(54),la=a.n(oa),ua=a(33),da=a.n(ua),ja=a(49);function ba(e){var t=P(),a=e.members,r=Object(s.useState)([]),c=Object(l.a)(r,2),i=c[0],u=c[1],d=Object(s.useState)(""),m=Object(l.a)(d,2),h=m[0],O=m[1],x=Object(s.useContext)(p),f=Object(s.useContext)(C),_=Object(s.useRef)(null),N=se(_),k=Object(l.a)(N,2),y=k[0],S=k[1],D=e.admin,T=Object(j.g)(),I=e.project._id,B=Object(s.useCallback)((function(){t.emit("project-update",e.project)}),[t,e.project]),A=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,s,r,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,f.teams.map((function(e){return e.projects.map((function(a){return a._id===I&&(t=e._id),t}))}));case 3:return n=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(s=e.sent).ok||T.push("/error"),e.next=10,s.json();case 10:r=e.sent,c=r.members,i=c.filter((function(e){return!a.find((function(t){return t.memberId.username===e.username}))})),u(i);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function E(){return(E=Object(g.a)(v.a.mark((function e(t){var n,s,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=3;break}return console.log("no destination"),e.abrupt("return");case 3:if(n=t.draggableId,(s=a.filter((function(e){return e._id===n}))[0].memberId)._id!==x.user.id){e.next=8;break}return console.log("can`t move self"),e.abrupt("return");case 8:if(r=a.filter((function(e){return e._id===n}))[0].admin,"admins"!==t.destination.droppableId||!r){e.next=11;break}return e.abrupt("return");case 11:if("members"!==t.destination.droppableId||r){e.next=13;break}return e.abrupt("return");case 13:if(r){e.next=16;break}if(window.confirm("Are you sure you wish to make ".concat(s.username," admin ?"))){e.next=16;break}return e.abrupt("return");case 16:if(!r){e.next=19;break}if(window.confirm("Are you sure you wish to remove ".concat(s.username," from  admins ?"))){e.next=19;break}return e.abrupt("return");case 19:return c=b("x-auth-token"),e.next=22,fetch("/api/projects/".concat(I,"/user-roles"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({userRole:n,isAdmin:!r})});case 22:e.sent.ok?B():T.push("/error");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){var t=Object(g.a)(v.a.mark((function t(a,n){var s,r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s=e.project._id,n._id!==x.user.id){t.next=4;break}return t.abrupt("return");case 4:return r=n._id,c=b("x-auth-token"),t.next=8,fetch("/api/projects/".concat(s,"/user-remove"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({memberId:r})});case 8:t.sent.ok?B():T.push("/error");case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h){e.next=4;break}return S(!y),e.abrupt("return");case 4:return a=b("x-auth-token"),n=h,e.next=8,fetch("/api/projects/".concat(I,"/user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({member:n,admin:!1})});case 8:e.sent.ok?(B(),S(!y),O("")):T.push("/error");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:da.a.container,children:Object(n.jsx)("div",{className:da.a.bigContainer,children:D?Object(n.jsx)("span",{children:y?Object(n.jsxs)("div",{className:da.a.members,ref:_,children:[Object(n.jsx)("div",{children:"Add Member to Project"}),Object(n.jsx)("span",{children:Object(n.jsxs)("select",{onChange:function(e){!function(e){var t=i.filter((function(t){return t._id===e}))[0];O(t)}(e.target.value)},children:[Object(n.jsx)("option",{children:"Select user"}),i.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.username},e._id)}))]})}),Object(n.jsx)("span",{className:da.a.addButton,onClick:F,children:"Add"})]}):Object(n.jsxs)(ja.a,{onDragEnd:function(e){return E.apply(this,arguments)},children:[Object(n.jsxs)("div",{className:da.a.adminsContainer,children:[Object(n.jsx)("span",{className:da.a.title,children:"Admins:"}),Object(n.jsx)(ja.c,{droppableId:"admins",children:function(e){return Object(n.jsxs)("div",Object(o.a)(Object(o.a)({className:da.a.droppable,ref:e.innerRef},e.droppableProps),{},{children:[a.filter((function(e){return!0===e.admin})).map((function(e,t){return Object(n.jsx)(ja.b,{draggableId:e._id,index:t,children:function(t){return Object(n.jsxs)("span",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:[Object(n.jsx)(w.a,{name:e.memberId.username,size:40,round:!0,maxInitials:2}),t.placeholder]}))}},e.memberId._id)})),e.placeholder]}))}})]}),Object(n.jsxs)("div",{className:da.a.membersContainer,children:[Object(n.jsx)("span",{className:da.a.title,children:"Members:"}),Object(n.jsx)(ja.c,{droppableId:"members",children:function(e){return Object(n.jsxs)("div",Object(o.a)(Object(o.a)({className:da.a.droppableMembers,ref:e.innerRef},e.droppableProps),{},{children:[a.filter((function(e){return!0!==e.admin})).map((function(e,t){return Object(n.jsx)(ja.b,{draggableId:e._id,index:t,children:function(a){return Object(n.jsxs)("span",Object(o.a)(Object(o.a)(Object(o.a)({},a.dragHandleProps),a.draggableProps),{},{ref:a.innerRef,children:[Object(n.jsx)(w.a,{name:e.memberId.username,size:40,round:!0,maxInitials:2,onClick:function(t){window.confirm("Are you sure you wish to delete this member?")&&R(t,e.memberId)}},t),a.placeholder]}))}},e.memberId._id)})),e.placeholder]}))}}),Object(n.jsx)("span",{className:da.a.addButton,onClick:function(){S(!y),A()},children:"Add"})]})]})}):Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:da.a.adminsContainer,children:[Object(n.jsx)("span",{className:da.a.title,children:"Admins:"}),Object(n.jsx)("div",{className:da.a.droppable,children:a.filter((function(e){return!0===e.admin})).map((function(e,t){return Object(n.jsx)("span",{children:Object(n.jsx)(w.a,{name:e.memberId.username,size:40,round:!0,maxInitials:2})},t)}))})]}),Object(n.jsxs)("div",{className:da.a.adminsContainer,children:[Object(n.jsx)("span",{className:da.a.title,children:"Members:"}),Object(n.jsx)("div",{className:da.a.droppable,children:a.filter((function(e){return!0!==e.admin})).map((function(e,t){return Object(n.jsx)("span",{children:Object(n.jsx)(w.a,{name:e.memberId.username,size:40,round:!0,maxInitials:2})},t)}))})]})]})})})}var ma=function(e,t){var a=t.find((function(t){return t.memberId._id===e}));return!!a&&a.admin};function pa(e){var t=Object(s.useState)(e.project.name),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(e.project.description),o=Object(l.a)(i,2),u=o[0],d=o[1],m=e.project.membersRoles,h=Object(s.useState)(!1),O=Object(l.a)(h,2),x=O[0],f=O[1],_=Object(s.useContext)(p),N=Object(j.g)(),k=P(),C=Object(j.h)(),w=e.project._id,y=Object(s.useCallback)((function(){k.emit("project-update",e.project)}),[k,e.project]);function S(){return(S=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=b("x-auth-token"),t.next=4,fetch("/api/projects/".concat(w),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:r,description:u})});case 4:t.sent.ok?(y(),e.hideForm(),k.emit("team-update",C.teamid)):N.push("/error");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b("x-auth-token"),t.next=3,fetch("/api/projects/".concat(e.project._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a}});case 3:t.sent.ok?(e.hideForm(),k.emit("team-update",C.teamid),N.push("/team/".concat(C.teamid))):N.push("/error");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){f(ma(_.user.id,m))}),[m,_.user.id]),Object(n.jsxs)("div",{className:la.a.form,children:[Object(n.jsxs)("form",{className:la.a.container,children:[Object(n.jsx)("div",{className:la.a.title,children:"Project"}),Object(n.jsxs)("div",{className:la.a.inputContainer,children:[Object(n.jsx)("span",{children:" Name"}),Object(n.jsx)("input",{className:la.a.input,value:r,onChange:function(e){return c(e.target.value)},label:"Name",id:"name"})]}),Object(n.jsxs)("div",{className:la.a.inputContainerDescr,children:[Object(n.jsx)("span",{children:" Description"}),Object(n.jsx)("textarea",{className:la.a.textarea,value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description"})]}),Object(n.jsx)("div",{className:la.a.editMembers,children:Object(n.jsx)(ba,{admin:x,project:e.project,members:e.project.membersRoles})})]}),Object(n.jsx)("div",{children:x?Object(n.jsxs)("div",{className:la.a.buttonsDiv,children:[Object(n.jsx)("button",{className:la.a.navigateButtons,onClick:function(e){return S.apply(this,arguments)},children:"Edit"}),Object(n.jsx)("button",{className:la.a.navigateButtons,onClick:function(){window.confirm("Are you sure you wish to delete this project?")&&function(){D.apply(this,arguments)}()},children:"Delete Project"})]}):null})]})}var ha=a(51),Oa=a.n(ha);function xa(e){var t,a=e.card,s=e.showEditCard;return Object(n.jsxs)("div",{className:Oa.a.card,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:a.name}),a.progress&&Object(n.jsx)("div",{className:Oa.a.bar,children:Object(n.jsx)("div",{style:{width:"".concat(a.progress,"%"),backgroundColor:(t=a.progress,Number(t)<=20?"red":Number(t)<=40?"orange":Number(t)<=80?"blue":Number(t)>80?"green":void 0)},className:Oa.a.progress})})]}),Object(n.jsxs)("div",{className:Oa.a.flex,children:[a.members.length>3?Object(n.jsxs)("div",{className:Oa.a.members,children:[a.members.slice(0,3).map((function(e){return Object(n.jsx)("span",{className:Oa.a.avatar,children:Object(n.jsx)(w.a,{name:e.username,size:30,round:!0,className:Oa.a.avatar},e._id)},e._id)})),Object(n.jsx)("span",{className:Oa.a.avatar,children:Object(n.jsx)(w.a,{color:"grey",name:"+   ".concat(a.members.length-3," ").concat(("0"+(a.members.length-3)).slice(2)),size:30,round:!0,maxInitials:3,className:Oa.a.avatar})})]}):Object(n.jsx)("div",{className:Oa.a.members,children:a.members.map((function(e){return Object(n.jsx)("span",{className:Oa.a.avatar,children:Object(n.jsx)(w.a,{name:e.username,size:30,round:!0,maxInitials:2},e._id)},e._id)}))}),Object(n.jsx)(D,{className:Oa.a.pen,onClick:function(){return s()},title:Object(n.jsx)("img",{src:st,alt:"...",width:"11.5",height:"11.5"})})]})]})}var fa=a(42),_a=a.n(fa),va=a.p+"static/media/dots.d2d443b8.svg";function ga(e){var t=Object(s.useRef)(null),a=Object(s.useRef)(null),r=se(a),c=Object(l.a)(r,2),i=c[0],u=c[1],d=se(t),m=Object(l.a)(d,2),p=m[0],h=m[1],O=Object(s.useState)(""),x=Object(l.a)(O,2),f=x[0],_=x[1],N=Object(j.g)(),k=P(),C=Object(j.h)().teamid,w=e.isAdmin,y=Object(s.useCallback)((function(){k.emit("project-update",e.project)}),[k,e.project]);function S(){return(S=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b("x-auth-token"),t.next=3,fetch("/api/projects/lists/".concat(e.project._id,"/").concat(e.list._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a}});case 3:t.sent.ok?(y(),k.emit("task-team-update",C)):N.push("/error");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var T=Object(s.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==f){t.next=3;break}return t.abrupt("return");case 3:return n=b("x-auth-token"),t.next=6,fetch("/api/projects/lists/cards/".concat(e.list._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:f,description:"",dueDate:"",progress:"",members:[]})});case 6:if(t.sent.ok){t.next=12;break}return N.push("/error"),t.abrupt("return");case 12:u(!i),_(""),y();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[N,f,e,y,i,u]);return Object(n.jsxs)("div",{className:_a.a.list,children:[Object(n.jsxs)("div",{className:_a.a.row,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:_a.a.name,children:e.list.name}),Object(n.jsx)(Q,{color:e.list.color||"#A6A48E",type:"list"})]}),w&&Object(n.jsx)(D,{className:_a.a.button,onClick:function(){return h(!p)},title:Object(n.jsx)("img",{className:_a.a.dots,src:va,alt:"...",width:"20",height:"6"})})]}),Object(n.jsx)("div",{className:_a.a.relative,children:Object(n.jsxs)("div",{ref:t,className:"".concat(_a.a.menu," ").concat(p?_a.a.active:""),children:[Object(n.jsx)("div",{onClick:function(){return e.showEditList()},children:"Edit"}),Object(n.jsx)("div",{onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&function(){S.apply(this,arguments)}()},children:"Delete"})]})}),Object(n.jsx)(ja.c,{droppableId:e.list._id,type:"droppableSubItem",children:function(t){return Object(n.jsxs)("div",{className:_a.a.droppable,ref:t.innerRef,children:[e.list.cards.map((function(t,a){return Object(n.jsx)(ja.b,{draggableId:t._id,index:a,children:function(a){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({},a.dragHandleProps),a.draggableProps),{},{ref:a.innerRef,children:Object(n.jsx)(xa,{card:t,listId:e.list._id,project:e.project,showEditCard:function(){e.showCurrentCard(t)}})})),a.placeholder]})}},t._id)})),t.placeholder]})}}),Object(n.jsx)("div",{className:_a.a.flexend,children:i?Object(n.jsxs)("form",{ref:a,className:_a.a.container,children:[Object(n.jsx)("input",{className:_a.a.taskInput,type:"text",value:f,onChange:function(e){return _(e.target.value)}}),Object(n.jsx)(D,{type:"submit",className:_a.a.addlist,onClick:T,title:"+ Add Task",project:e.project})]}):Object(n.jsx)(D,{className:_a.a["add-task"],onClick:function(){return u(!i)},title:"+ Add Task"})})]},e.list._id)}var Na=a(75),ka=a.n(Na),Ca=a.p+"static/media/pic.260e1407.svg",wa=function(e){var t=e.label,a=e.id,s=e.value,r=e.onChange,c=e.onFocus,i=e.onBlur,o=e.type,l=e.placeholder;return Object(n.jsx)("div",{children:Object(n.jsxs)("label",{htmlFor:a,children:[t,":",Object(n.jsx)("input",{type:o||"text",id:a,value:s,onChange:r,onFocus:c,onBlur:i,placeholder:l})]})})},ya=a(80),Sa=a.n(ya),Da=a(322);function Ta(e){var t=Object(s.useState)(e.list.name),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(j.g)(),o=P(),u=Object(s.useRef)(null),d=se(u),m=Object(l.a)(d,2),h=m[0],O=m[1],x=Object(s.useState)(e.list.color||"#A6A48E"),f=Object(l.a)(x,2),_=f[0],N=f[1],k=Object(s.useState)(!1),C=Object(l.a)(k,2),w=C[0],y=C[1],S=e.project.membersRoles,T=Object(s.useContext)(p),I=e.project._id,B=e.list._id,A=Object(j.h)().teamid;function E(){return(E=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=b("x-auth-token"),t.next=4,fetch("/api/projects/lists/".concat(I,"/").concat(B),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:r,color:_})});case 4:t.sent.ok?(o.emit("project-update",e.project),o.emit("task-team-update",A),e.hideForm()):i.push("/error");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}console.log(e.list),Object(s.useEffect)((function(){y(ma(T.user.id,S))}),[S,T.user.id]);return Object(n.jsx)("div",{className:Sa.a.form,children:Object(n.jsxs)("form",{className:Sa.a.container,children:[Object(n.jsx)(_e,{title:"Edit List"}),Object(n.jsx)(wa,{value:r,onChange:function(e){return c(e.target.value)},label:"Name",id:"name"}),Object(n.jsxs)("div",{className:Sa.a.changeColor,children:[Object(n.jsx)("span",{children:"Change Color:"}),Object(n.jsx)("span",{className:Sa.a.listColor,children:Object(n.jsx)(D,{className:Sa.a["color-button"],style:{background:"".concat(_)},onClick:function(){return O(!h)}})})]}),h&&Object(n.jsx)("div",{ref:u,children:Object(n.jsx)(Da.a,{className:Sa.a["color-pick"],color:_,onChangeComplete:function(e){N(e.hex),O(!1)}})}),Object(n.jsx)("div",{className:Sa.a.editListButton,children:w&&Object(n.jsx)(ot,{onClick:function(e){return E.apply(this,arguments)},title:"Edit List"})})]})})}function Ia(e){var t=Object(j.h)(),a=Object(j.g)(),r=Object(s.useState)([]),c=Object(l.a)(r,2),i=c[0],u=c[1],m=Object(s.useState)(!1),h=Object(l.a)(m,2),O=h[0],x=h[1],_=Object(s.useState)(!1),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(s.useState)(""),y=Object(l.a)(w,2),S=y[0],T=y[1],I=Object(s.useRef)(null),B=se(I),A=Object(l.a)(B,2),E=A[0],R=A[1],F=P(),L=Object(s.useContext)(q),U=Object(s.useState)(!1),z=Object(l.a)(U,2),M=z[0],H=z[1],J=Object(s.useState)(""),W=Object(l.a)(J,2),G=W[0],V=W[1],Y=Object(s.useState)(""),X=Object(l.a)(Y,2),Z=X[0],Q=X[1],K=Object(s.useState)(!1),$=Object(l.a)(K,2),ee=$[0],te=$[1],ae=Object(s.useContext)(p),ne=t.teamid,re=Object(s.useCallback)((function(e){L.setProject(e);var t=[];e.membersRoles.map((function(e){return t.push({admin:e.admin,username:e.memberId.username})})),u(t),L.setLists(e.lists)}),[L]);Object(s.useEffect)((function(){var e=t.projectid;if(null!=F)return F.on("project-updated",re),F.emit("project-join",e),function(){return F.off("project-updated")}}),[F,re,t.projectid]),Object(s.useEffect)((function(){if(L.project&&L.project._id===t.projectid){var e=[];L.project.membersRoles.map((function(t){return e.push({admin:t.admin,username:t.memberId.username,id:t.memberId._id})})),u(e),L.setLists(L.project.lists);var a=e.find((function(e){return e.id===ae.user.id}));a&&te(a.admin)}}),[L.project,t.projectid,L,ae.user.id]);var ce=Object(s.useCallback)(Object(g.a)(v.a.mark((function e(){var n,s,r,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ae.user.id,s=Object(o.a)({},ae.user),r=Object(f.a)(s.recentProjects),(c=r.filter((function(e){return e._id!==t.projectid}))).push({_id:t.projectid,name:L.project.name}),c.length>3&&c.shift(),s.recentProjects=c,i=b("x-auth-token"),e.next=10,fetch("/api/user/recentProjects/".concat(n),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({recentProjects:c})});case 10:e.sent.ok?ae.setUser(s):a.push("/error");case 12:case"end":return e.stop()}}),e)}))),[ae,a,t.projectid,L.project]);if(Object(s.useEffect)((function(){L.project&&L.project._id===t.projectid&&ce()}),[t.projectid,L.project]),!L.project||L.project._id!==t.projectid)return Object(n.jsx)(Oe,{children:Object(n.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})});function oe(){return(oe=Object(g.a)(v.a.mark((function e(t){var n,s,r,c,i,o,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:if("droppableItem"!==t.type){e.next=12;break}return n=t.destination.index,s=L.lists.filter((function(e){return!L.hiddenLists.includes(e._id)})),r=s[n-1],n=L.lists.indexOf(r)+1,c=b("x-auth-token"),e.next=10,fetch("/api/projects/lists/".concat(L.project._id,"/").concat(t.draggableId,"/dnd-update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({position:n,element:"list"})});case 10:e.sent.ok||a.push("/error");case 12:if("droppableSubItem"!==t.type){e.next=21;break}return i=t.destination.index,o=t.source.droppableId,l=t.destination.droppableId,u=b("x-auth-token"),e.next=19,fetch("/api/projects/lists/".concat(L.project._id,"/").concat(t.draggableId,"/dnd-update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:u},body:JSON.stringify({position:i,element:"card",source:o,destination:l})});case 19:e.sent.ok||a.push("/error");case 21:F.emit("project-update",L.project),F.emit("task-team-update",ne);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==S){e.next=3;break}return e.abrupt("return");case 3:return n=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/".concat(L.project._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:S})});case 6:if(e.sent.ok){e.next=12;break}return a.push("/error"),e.abrupt("return");case 12:R(!E),T(""),F.emit("project-update",L.project);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(Oe,{children:[M&&Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return H(!M)},children:Object(n.jsx)(sa,{hideForm:function(){return H(!M)},card:G,listId:Z,project:L.project,teamId:ne})})}),k&&Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return C(!k)},children:Object(n.jsx)(Ta,{hideForm:function(){return C(!k)},list:Z,project:L.project})})}),Object(n.jsx)(ja.a,{onDragEnd:function(e){return oe.apply(this,arguments)},children:Object(n.jsx)(ja.c,{droppableId:"droppable",direction:"horizontal",type:"droppableItem",children:function(e){return Object(n.jsxs)("div",{className:ka.a.flex,ref:e.innerRef,children:[L.lists.filter((function(e){return!L.hiddenLists.includes(e._id)})).map((function(e,t){return Object(n.jsx)(ja.b,{draggableId:e._id,index:t,children:function(t){return Object(n.jsx)("div",{children:Object(n.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:Object(n.jsx)(ga,{list:e,project:L.project,isAdmin:ee,showEditList:function(){Q(e),C(!k)},showCurrentCard:function(t){V(t),Q(e._id),H(!M)}})}))})}},e._id)})),ee&&Object(n.jsx)("div",{className:ka.a.list,children:E?Object(n.jsxs)("form",{ref:I,className:ka.a.container,children:[Object(n.jsx)("input",{className:ka.a.input,type:"text",value:S,onChange:function(e){return T(e.target.value)}}),Object(n.jsx)(D,{type:"submit",className:ka.a.addlist,onClick:le,title:"+ Add List"})]}):Object(n.jsx)(D,{className:ka.a.addlist,onClick:function(){return R(!E)},title:"+ Add List"})}),e.placeholder]})}})}),Object(n.jsx)("button",{className:ka.a.navigateButtons,onClick:function(){return x(!O)},children:"View Project"}),O&&Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return x(!O)},children:Object(n.jsx)(pa,{hideForm:function(){return x(!O)},project:L.project,members:i})})}),Object(n.jsx)("img",{className:ka.a.pic,src:Ca,alt:"",width:"373",height:"312"})]})}var Ba=a(59),Pa=a.n(Ba),Aa=a(43),Ea=a.n(Aa),Ra=a(323),Fa=(a(580),a(17)),La=a.n(Fa);function Ua(e){var t=e.card,a=Object(s.useRef)(null),r=se(a),c=Object(l.a)(r,2),i=c[0],o=c[1],u=Object(s.useState)(t.name),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(j.g)(),O=P(),x=Object(j.h)().teamid,f=Object(s.useCallback)(function(){var a=Object(g.a)(v.a.mark((function a(n){var s,r,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),s=t._id,r=e.listId,""!==m){a.next=6;break}return console.log("return"),a.abrupt("return");case 6:return c=b("x-auth-token"),a.next=9,fetch("/api/projects/lists/cards/".concat(r,"/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({name:m})});case 9:if(a.sent.ok){a.next=15;break}return h.push("/error"),a.abrupt("return");case 15:o(!i),O.emit("project-update",e.project),O.emit("task-team-update",x);case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[h,m,i,o,t._id,e.listId,e.project,O,x]);return Object(n.jsx)("span",{children:i?Object(n.jsx)("div",{ref:a,className:La.a.nameContainer,onBlur:f,children:Object(n.jsx)("input",{className:La.a.inputTaskName,type:"text",value:m,onChange:function(e){return p(e.target.value)}})}):Object(n.jsx)("div",{className:La.a.tableText,onClick:function(){return o(!i)},children:Object(n.jsx)("span",{children:m})})})}function za(e){var t=Object(s.useMemo)((function(){return new Date(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()))}),[]),a=e.card,r=Object(s.useState)(a.history),c=Object(l.a)(r,2),i=c[0],o=c[1],u="",d=e.value.split("/");d.length>1&&(u=d[0]);var m=Object(s.useRef)(null),p=se(m),h=Object(l.a)(p,2),O=h[0],x=h[1],_=Object(s.useState)(u),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(j.g)(),y=P(),S=Object(j.h)().teamid,D=Object(s.useCallback)(function(){var n=Object(g.a)(v.a.mark((function n(s){var r,c,l,u;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),r=a._id,c=e.listId,""!==k){n.next=8;break}return console.log("return"),n.abrupt("return");case 8:if(!(Number(k)>100)){n.next=13;break}return C(100),n.abrupt("return");case 13:if(!(Number(k)<0)){n.next=16;break}return C(0),n.abrupt("return");case 16:return(l=Object(f.a)(i)).push({event:"Progress ".concat(k,"%"),date:t}),o(l),u=b("x-auth-token"),n.next=22,fetch("/api/projects/lists/cards/".concat(c,"/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:u},body:JSON.stringify({progress:k,history:l})});case 22:if(n.sent.ok){n.next=28;break}return w.push("/error"),n.abrupt("return");case 28:x(!O),y.emit("project-update",e.project),y.emit("task-team-update",S);case 31:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[w,k,O,x,i,t,a._id,e.listId,e.project,y,S]);function T(e){var t="";switch(!0){case 100===e||"100"===e:t="#0E8D27";break;case e<20:t="#EF2D2D";break;case e<100:t="#5E9DDC"}return t}return Object(n.jsx)("span",{children:O?Object(n.jsx)("div",{ref:m,className:La.a.taskProgress,onBlur:D,children:Object(n.jsx)("input",{className:La.a.taskProgressButtonInput,style:{backgroundColor:[T(k)]},type:"number",value:k,onChange:function(e){return C(e.target.value)},min:"0",max:"100"})}):Object(n.jsx)("div",{className:La.a.taskProgress,onClick:function(){return x(!O)},children:function(e){return e&&"null"!==e?Object(n.jsxs)("div",{style:{backgroundColor:T(e),padding:"5px",fontSize:"14px",border:"solid black 1px",borderRadius:"5px",height:"100%",width:"100%",textAlign:"center"},children:[" ",e," %"]}):Object(n.jsx)("div",{children:"Add Progress"})}(u)})})}function Ma(e){var t=Object(s.useRef)(null),a=se(t),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)(e.cardDueDate),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(s.useState)(!1),h=Object(l.a)(p,2),O=h[0],x=h[1],f=Object(j.g)(),_=P(),N=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),k=Object(j.h)().teamid,C=Object(s.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(a){var n,s,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cardId,s=e.listId,""!==d||""!==a){t.next=5;break}return console.log("return"),t.abrupt("return");case 5:return r=b("x-auth-token"),t.next=8,fetch("/api/projects/lists/cards/".concat(s,"/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({dueDate:a})});case 8:if(t.sent.ok){t.next=14;break}return f.push("/error"),t.abrupt("return");case 14:i(!c),_.emit("project-update",e.project),_.emit("task-team-update",e.teamId);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[f,d,i,c,e.cardId,e.listId,e.project,_,e.teamId]),w=e.value;if(w){var y=w;return Object(n.jsxs)("span",{className:La.a.dueDateField,children:[Object(n.jsx)($t.a,{selected:d,customInput:Object(n.jsx)("div",{className:La.a.dueDateFieldInput,children:Object(n.jsx)("span",{children:y})}),onChange:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:C(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),label:"Go to date",onBlur:function(){return i(!c)}}),Object(n.jsx)("span",{children:O?Object(n.jsx)("span",{children:Object(n.jsx)(ie,{hideForm:function(){return x(!O)},children:Object(n.jsx)(sa,{hideForm:function(){return x(!O)},card:e.card,listId:e.listId,project:e.project,teamId:k})})}):Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:La.a.pen,src:st,alt:"...",width:"13",height:"13",onClick:function(){return x(!0)}})})})]})}return Object(n.jsxs)("span",{className:La.a.dueDateField,children:[Object(n.jsx)("div",{className:La.a.dueDateField,children:Object(n.jsx)($t.a,{customInput:Object(n.jsx)("div",{children:Object(n.jsx)("span",{children:"Select date"})}),selected:N,onChange:function(e){m(e),C(e)},label:"Go to date"})}),Object(n.jsx)("span",{children:O?Object(n.jsx)("span",{children:Object(n.jsx)(ie,{hideForm:function(){return x(!O)},children:Object(n.jsx)(sa,{hideForm:function(){return x(!O)},card:e.card,listId:e.listId,project:e.project,teamId:k})})}):Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:La.a.pen,src:st,alt:"...",width:"13",height:"13",onClick:function(){return x(!0)}})})})]})}function Ha(e){var t=Object(j.g)(),a=Object(s.useState)(""),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useRef)(null),u=se(o),d=Object(l.a)(u,2),m=d[0],p=d[1],h=P(),O=Object(s.useCallback)((function(){h.emit("project-update",e.project)}),[h,e.project]),x=Object(s.useCallback)(function(){var a=Object(g.a)(v.a.mark((function a(n){var s,r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),s=e.project._id,""!==c){a.next=5;break}return console.log("return"),a.abrupt("return");case 5:return r=b("x-auth-token"),a.next=8,fetch("/api/projects/lists/".concat(s),{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:c})});case 8:if(a.sent.ok){a.next=14;break}return t.push("/error"),a.abrupt("return");case 14:p(!m),i(""),O();case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[t,c,O,p,m,e.project._id]);return Object(n.jsx)("div",{className:La.a.list,children:m?Object(n.jsxs)("form",{ref:o,className:La.a.container,children:[Object(n.jsx)("input",{className:La.a.inputList,type:"text",value:c,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)(D,{type:"submit",className:La.a.addListButton,onClick:x,title:"+ Add"})]}):Object(n.jsx)(D,{className:La.a.addListButton,onClick:function(){return p(!m)},title:"+ Add List"})})}var Ja=a(11),Wa=a.n(Ja);function Ga(e){var t=e.listId,a=Object(s.useRef)(null),r=Object(s.useState)(""),c=Object(l.a)(r,2),i=c[0],o=c[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(s.useState)(""),O=Object(l.a)(h,2),x=O[0],_=O[1],N=Object(s.useState)(""),k=Object(l.a)(N,2),C=k[0],w=k[1],y=Object(s.useState)(""),S=Object(l.a)(y,2),D=S[0],T=S[1],I=Object(s.useState)(!1),B=Object(l.a)(I,2),A=B[0],E=B[1],R=Object(j.g)(),F=P(),L=Object(j.h)(),U=se(a),z=Object(l.a)(U,2),M=z[0],H=z[1],J=se(a),W=Object(l.a)(J,2),G=W[0],V=W[1],Y=Object(s.useState)(!1),q=Object(l.a)(Y,2),X=q[0],Z=q[1],Q=new Date(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),K=i._id,$=Object(s.useCallback)((function(){F.emit("project-update",e.project)}),[F,e.project]),ee=Object(s.useCallback)(function(){var a=Object(g.a)(v.a.mark((function a(n){var s;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),""!==m){a.next=3;break}return a.abrupt("return");case 3:if(window.confirm("Are you sure you wish to delete this item?")){a.next=5;break}return a.abrupt("return");case 5:return s=b("x-auth-token"),a.next=8,fetch("/api/projects/lists/cards/".concat(t,"/").concat(K),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s}});case 8:a.sent.ok?($(),e.hideForm()):R.push("/error");case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[R,e,K,t,$,m]),te=function(){var e=Object(g.a)(v.a.mark((function e(a){var n,s,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(Number(C)>100)){e.next=6;break}return w(100),e.abrupt("return");case 6:if(!(Number(C)<0)){e.next=9;break}return w(0),e.abrupt("return");case 9:return n=Object(f.a)(D),A&&(n.push({event:"Progress ".concat(C,"%"),date:Q}),T(n)),s=b("x-auth-token"),e.next=14,fetch("/api/projects/lists/cards/".concat(t,"/").concat(K),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({name:m,description:x,dueDate:"",progress:C,history:n})});case 14:if((r=e.sent).ok){e.next=19;break}R.push("/error"),e.next=28;break;case 19:return e.next=21,r.json();case 21:c=e.sent,o(c),$(),H(!1),V(!1),Z(!1),E(!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(g.a)(v.a.mark((function e(a){var n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==m){e.next=3;break}return e.abrupt("return");case 3:if(!(Number(C)>100)){e.next=8;break}return w(100),e.abrupt("return");case 8:if(!(Number(C)<0)){e.next=11;break}return w(0),e.abrupt("return");case 11:return n=b("x-auth-token"),e.next=14,fetch("/api/projects/lists/cards/".concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:m,description:x,dueDate:"",progress:C})});case 14:if((s=e.sent).ok){e.next=19;break}R.push("/error"),e.next=29;break;case 19:return e.next=21,s.json();case 21:r=e.sent,o(r),T(r.history),$(),H(!1),V(!1),Z(!1),E(!1);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:Wa.a.container,children:Object(n.jsxs)("form",{className:Wa.a.form,children:[Object(n.jsxs)("div",{className:Wa.a.leftSide,children:[Object(n.jsx)("div",{className:Wa.a.firstRow,children:Object(n.jsxs)("div",{className:Wa.a.inputTitles,children:[Object(n.jsx)("span",{className:Wa.a.pic1,children:Object(n.jsx)("img",{src:Pt,alt:"pic1"})}),Object(n.jsx)("span",{children:""===i?Object(n.jsxs)("span",{className:Wa.a.nameContainer,children:[Object(n.jsx)("input",{className:Wa.a.createNameInput,placeholder:"Add Task Name",onChange:function(e){return p(e.target.value)}}),Object(n.jsx)("button",{onClick:ae,className:Wa.a.editButton,children:"Create"})]}):Object(n.jsx)("span",{children:M?Object(n.jsx)("div",{ref:a,children:Object(n.jsxs)("span",{className:Wa.a.nameContainer,children:[Object(n.jsx)("input",{className:Wa.a.nameInput,value:m,onChange:function(e){return p(e.target.value)}}),Object(n.jsx)("button",{onClick:te,className:Wa.a.editButton,children:"Edit"})]})}):Object(n.jsx)("span",{className:Wa.a.nameContainer,children:Object(n.jsx)("p",{className:Wa.a.textName,onClick:function(){return H(!M)},children:i.name})})})})]})}),Object(n.jsxs)("div",{className:Wa.a.secondRowProgress,onClick:function(){return V(!0)},children:[Object(n.jsxs)("div",{className:Wa.a.inputTitles,children:[Object(n.jsx)("span",{className:Wa.a.pic2,children:Object(n.jsx)("img",{src:At,alt:"pic2"})}),Object(n.jsx)("span",{className:Wa.a.nameContainer,children:Object(n.jsx)("p",{children:"Progress"})})]}),Object(n.jsx)("div",{children:""===i?null:Object(n.jsx)("span",{children:G?Object(n.jsx)("div",{ref:a,children:Object(n.jsxs)("span",{className:Wa.a.progressInputContainer,children:[Object(n.jsx)("input",{type:"number",className:Wa.a.progressInput,value:C,onChange:function(e){w(e.target.value),E(!0)}}),Object(n.jsx)("button",{onClick:te,className:Wa.a.editButton,children:"Edit"})]})}):Object(n.jsxs)("div",{className:Wa.a.progressDiv,children:[i.progress?Object(n.jsx)("div",{className:Wa.a.bar,children:Object(n.jsx)("div",{style:{width:"".concat(i.progress,"%"),backgroundColor:function(e){return Number(e)<=20?"red":Number(e)<=40?"orange":Number(e)<=80?"blue":Number(e)>80?"green":void 0}(i.progress)},className:Wa.a.progress})}):null,Object(n.jsxs)("span",{className:Wa.a.textName,children:[i.progress," %"]})]})})})]}),Object(n.jsxs)("div",{className:Wa.a.thirdRow,children:[Object(n.jsx)("div",{className:Wa.a.descriptinTitle,children:Object(n.jsx)("p",{className:Wa.a.text,children:"Description"})}),Object(n.jsx)("textarea",{className:Wa.a.descriptionInput,ref:a,value:x,onChange:function(e){_(e.target.value),Z(!0)}}),Object(n.jsx)("span",{children:""===i?null:Object(n.jsx)("span",{children:X?Object(n.jsxs)("div",{className:Wa.a.descriptionButtons,children:[Object(n.jsx)("span",{children:Object(n.jsx)("button",{onClick:te,className:Wa.a.editButton,children:"Edit"})}),Object(n.jsx)("span",{children:Object(n.jsx)("button",{onClick:function(e){_(i.description),Z(!1)},className:Wa.a.editButton,children:"Cancel"})})]}):null})})]}),Object(n.jsxs)("div",{className:Wa.a.thirdRow,children:[Object(n.jsx)("div",{className:Wa.a.descriptinTitle,children:Object(n.jsx)("p",{className:Wa.a.text,children:"History"})}),Object(n.jsx)(na,{taskHistory:D})]}),Object(n.jsx)("div",{className:Wa.a.lasRow})]}),Object(n.jsxs)("div",{className:Wa.a.rightSide,children:[Object(n.jsxs)("div",{className:Wa.a.membersDiv,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Wa.a.text,children:"Members"})}),Object(n.jsx)("div",{className:Wa.a.members,children:""===i?null:Object(n.jsx)(Xt,{card:i,size:30,listId:t,project:e.project,title:"Add",teamId:e.teamId})})]}),Object(n.jsx)("div",{className:Wa.a.secondRow,children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:Wa.a.dueDate,children:""===i?null:Object(n.jsx)(ea,{cardDueDate:"",cardId:K,listId:t,project:e.project,showEditCard:!1,teamId:L.teamid})})})}),Object(n.jsxs)("div",{className:Wa.a.smallButtonsContainer,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Wa.a.text,children:"Add"})}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Et,alt:"pic3"}),"Join"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Rt,alt:"pic4"}),"Stickers"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Ft,alt:"pic5"}),"Due Date"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Lt,alt:"pic6"}),"Attach file"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Ut,alt:"pic7"}),"Reports"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Ht,alt:"pic10"}),"Add Teammate"]})]}),Object(n.jsxs)("div",{className:Wa.a.smallButtonsContainer,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Wa.a.text,children:"Manage"})}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Jt,alt:"pic11"}),"Make Template"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Gt,alt:"pic13"}),"Remove List"]}),Object(n.jsxs)("button",{className:Wa.a.smallButtons,onClick:function(e){ee(e)},title:"Delete Task",children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Wt,alt:"pic12"}),"Delete Task"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:zt,alt:"pic8"}),"Settings"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Mt,alt:"pic9"}),"View"]}),Object(n.jsxs)("div",{className:Wa.a.smallButtons,children:[Object(n.jsx)("img",{className:Wa.a.picsSmallButtons,src:Vt,alt:"pic14"}),"Archive"]})]})]})]})})}function Va(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.jsxs)("div",{className:La.a.flexend,children:[Object(n.jsx)(D,{className:La.a.addnote,onClick:function(){return c(!r)},title:"+ Add Task"}),r?Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return c(!r)},children:Object(n.jsx)(Ga,{hideForm:function(){return c(!r)},listId:e.listId,project:e.project})})}):null]})}function Ya(e){var t=e.value;return Object(n.jsx)("div",{children:t.length>3?Object(n.jsx)("div",{className:La.a.membersContainer,children:Object(n.jsxs)("span",{className:La.a.membersDiv,children:[t.slice(0,3).map((function(t,a){return Object(n.jsx)("span",{children:Object(n.jsx)(w.a,{name:t.username,size:e.size,round:!0,maxInitials:2})},a)})),Object(n.jsx)("span",{children:Object(n.jsx)(w.a,{color:"grey",name:"+   ".concat(t.length-3," ").concat(("0"+(t.length-3)).slice(2)),size:e.size,round:!0,maxInitials:3})})]})}):Object(n.jsx)("div",{className:La.a.membersContainer,children:Object(n.jsx)("span",{className:La.a.membersDiv,children:t.map((function(t,a){return Object(n.jsx)("span",{children:Object(n.jsx)(w.a,{name:t.username,size:e.size,round:!0,maxInitials:2})},a)}))})})})}var qa=function(e){var t=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),a=function(e,t,a){return Object(n.jsx)("div",{className:La.a.daylyProgress,children:Object(n.jsx)("div",{style:{background:t,color:a,width:"100%",textAlign:"center",padding:"5px",fontSize:"14px",border:"#363338 solid 1px",borderRadius:"5px"},children:e})})},s=function(t,n){if(0===n){if(t){var s=t.split("/"),r=Number(s[1]),c=Number(s[2]),i=s[0],o=e.setDate(e.getDate()),l="",u="";if(100===c)return a(u="Finished",l="#0E8D27","black");if(i)for(var d=i.split(","),j=0;j<d.length;j++){var b=d[j].split("*"),m=b[0],p=b[1],h=new Date(m);h.setHours(0,0,0,0);var O=h.getTime();if(O>o&&"Created"===p)return"";if(O===o&&(u=p),O===o&&!r)return a(u=p,l,"black")}if(r){switch(!0){case r===o:l="#EF2D2D",u="Due Date";break;case 100===c||100===r:l="#0E8D27",u="Finished";break;case r>o:l="#5E9DDC",""===u&&(u="In Progress");break;case r<o&&(c<100||!c):l="#EF2D2D",u="Delayed"}if(i)for(var x=i.split(","),f=0;f<x.length;f++){var _=x[f].split("*"),v=_[0],g=_[1],N=new Date(v);N.setHours(0,0,0,0);var k=N.getTime();if(k>o&&"Created"===g)return"";if(k===o&&(u=g),k===o&&!r)return a(u=g,l,"black")}return a(u,l,"black")}return""}return t}if(0!==n){if(t){var C=t.split("/"),w=Number(C[1]),y=Number(C[2]),S=C[0],D=new Date(e),T=D.setDate(D.getDate()+n),I="",B="",P="";if(S)for(var A=S.split(","),E=0;E<A.length;E++){var R=A[E].split("*"),F=R[0],L=R[1],U=new Date(F);U.setHours(0,0,0,0);var z=U.getTime();if(z>T&&"Created"===L)return"";if(z===T&&(P=L,B="black"),z===T&&!w)return a(P=L,I,B="black")}if(w){switch(!0){case w===T:return a(P="Due Date",I="#EF2D2D",B="black");case w>T&&100!==y:I="#5E9DDC",""===P&&(B="#5E9DDC",P="In Progress");break;default:if(""===P)return null}return a(P,I,B)}return""}return t}return t},r=function(a){var s=new Date(e);s.setDate(s.getDate()+a);var r,c=function(e){var t=e.getDay();return t>6&&(t-=7),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t]}(s),i=("0"+(r=s).getDate()).slice(-2)+"."+("0"+(r.getMonth()+1)).slice(-2),o="",l=new Date(t).getTime(),u=new Date(e);return u.setDate(u.getDate()+a)===l&&(o="#CFE2EC"),Object(n.jsxs)("div",{style:{background:o,color:"black"},children:[Object(n.jsx)("div",{style:{fontWeight:"600"},children:c}),Object(n.jsx)("div",{style:{fontSize:"80%"},children:i})]})};return[{Header:function(){return Object(n.jsx)("div",{className:La.a.header,children:"Task"})},accessor:"task",minWidth:150},{Header:function(){return Object(n.jsx)("div",{className:La.a.header,children:"Progress"})},accessor:"progress",minWidth:100},{Header:function(){return Object(n.jsx)("div",{className:La.a.header,children:"Teammates"})},accessor:"assigned",minWidth:130},{Header:r(0),accessor:"monday",minWidth:100,Cell:function(e){var t=e.value;return s(t,0)}},{Header:r(1),accessor:"tuesday",minWidth:100,Cell:function(e){var t=e.value;return s(t,1)}},{Header:r(2),accessor:"wednesday",minWidth:100,Cell:function(e){var t=e.value;return s(t,2)}},{Header:r(3),accessor:"thursday",minWidth:100,Cell:function(e){var t=e.value;return s(t,3)}},{Header:r(4),accessor:"friday",minWidth:100,Cell:function(e){var t=e.value;return s(t,4)}},{Header:r(5),accessor:"saturday",minWidth:100,Cell:function(e){var t=e.value;return s(t,5)}},{Header:r(6),accessor:"sunday",minWidth:100,Cell:function(e){var t=e.value;return s(t,6)}},{Header:function(){return Object(n.jsx)("div",{className:La.a.header,children:"Due Date"})},accessor:"dueDate",minWidth:130}]},Xa=a.p+"static/media/previous-day.09ac9e31.svg",Za=a.p+"static/media/next-day.4c8f041a.svg",Qa=function(e){var t=Object(s.useState)(I),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)([]),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(s.useState)(10),m=Object(l.a)(b,2),h=m[0],O=m[1],x=Object(s.useState)(!1),f=Object(l.a)(x,2),_=f[0],N=f[1],k=Object(s.useState)(""),C=Object(l.a)(k,2),w=C[0],y=C[1],S=Object(s.useContext)(q),D=Object(s.useContext)(p),T=Object(j.h)();function I(e){var t,a=(t=e?new Date(e):new Date).getDay(),n=t.getDate()-a+(0===a?-6:1),s=new Date(t.setDate(n));return new Date(s.getFullYear(),s.getMonth(),s.getDate())}var B=Object(s.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,S.project.membersRoles.map((function(e){return a.push({admin:e.admin,username:e.memberId.username,id:e.memberId._id})}));case 3:return S.setLists(S.project.lists),e.next=6,a.find((function(e){return e.id===D.user.id}));case 6:(n=e.sent)&&n.admin&&(y(t),N(!_));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[_,S,D.user.id]),P=Object(s.useCallback)(Object(g.a)(v.a.mark((function t(){var a,s,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=0,s=[],r=e.project.lists,S.setLists(r),S.lists.filter((function(e){return!S.hiddenLists.includes(e._id)})).map((function(t,r){return a++,s.push({task:Object(n.jsx)("div",{className:Ea.a.listNameContainer,style:{background:t.color||"#A6A48E"},onClick:function(){return B(t)},children:Object(n.jsx)("span",{className:Ea.a.listNameText,children:t.name})},r),progress:"",assigned:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",dueDate:Object(n.jsx)("div",{children:Object(n.jsx)(Va,{listId:t._id,project:e.project})})}),t.cards.filter((function(t){return!!(e.filter["Not Started"]||0!==t.progress&&null!==t.progress)&&(!(!e.filter["In Progress"]&&t.progress>0&&t.progress<100)&&!(!e.filter.Done&&100===t.progress))})).forEach((function(r){a++;var c,i="",o="";if(r.dueDate&&(o=(i=new Date(r.dueDate)).getTime()),r.history){c=[];for(var l=r.history,u=0;u<l.length;u++){var d=l[u];if(u===l.length-1){c.push("".concat(d.date,"*").concat(d.event));break}d.event.slice(0,8)===l[u+1].event.slice(0,8)&&d.date===l[u+1].date||c.push("".concat(d.date,"*").concat(d.event))}}else c=null;s.push({task:Object(n.jsx)(Ua,{card:r,listId:t._id,project:e.project}),progress:Object(n.jsx)(za,{value:r.progress+"/"+r._id+"/"+t._id,listId:t._id,project:e.project,card:r}),assigned:Object(n.jsx)(Ya,{value:r.members,card:r,cardId:r._id,listId:t._id,project:e.project,size:30,title:"+"}),monday:c+"/"+o+"/"+r.progress,tuesday:c+"/"+o+"/"+r.progress,wednesday:c+"/"+o+"/"+r.progress,thursday:c+"/"+o+"/"+r.progress,friday:c+"/"+o+"/"+r.progress,saturday:c+"/"+o+"/"+r.progress,sunday:c+"/"+o+"/"+r.progress,dueDate:Object(n.jsx)("div",{children:Object(n.jsx)("span",{children:Object(n.jsx)(Ma,{value:""!==o&&0!==o?("0"+i.getDate()).slice(-2)+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+i.getFullYear():"",cardDueDate:i,cardId:r._id,listId:t._id,props:e,project:e.project,card:r,teamId:T.teamid})})})})})),s})),a++,s.push({task:Object(n.jsx)(Ha,{props:e,project:e.project}),progress:"",assigned:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",dueDate:""}),O(a),d(s),t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)}))),[S,e,B,T.teamid]);Object(s.useEffect)((function(){P()}),[P]);var A=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r,e.next=3,t.setDate(t.getDate()+7);case 3:return e.next=5,P();case 5:c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r).setDate(t.getDate()-7),e.next=4,P();case 4:return c(t),e.next=7,P();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r,e.next=3,t.setDate(t.getDate()+1);case 3:return e.next=5,P();case 5:c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r).setDate(t.getDate()-1),e.next=4,P();case 4:return c(t),e.next=7,P();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:Ea.a.pageContainer,children:[_?Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return N(!_)},children:Object(n.jsx)(Ta,{hideForm:function(){return N(!_)},list:w,project:e.project})})}):null,Object(n.jsxs)("div",{className:Ea.a.buttoDiv,children:[Object(n.jsx)("span",{children:Object(n.jsx)($t.a,{selected:r,customInput:Object(n.jsx)("div",{className:Ea.a.navigateButtons,children:"Choose Week"}),showWeekNumbers:!0,onChange:function(e){return c(I(e))}})}),Object(n.jsxs)("span",{className:Ea.a.daysButtons,children:[Object(n.jsx)("button",{className:Ea.a.navigateButtons,onClick:E,children:"Previous week"}),Object(n.jsxs)("div",{className:Ea.a.picContainer,onClick:F,children:[Object(n.jsx)("img",{className:Ea.a.buttonPreviousDay,src:Xa,alt:"...",width:"126",height:"27"}),Object(n.jsx)("div",{class:Ea.a.centeredText,children:"Previous day"})]}),Object(n.jsxs)("div",{className:Ea.a.picContainer,onClick:R,children:[Object(n.jsx)("img",{className:Ea.a.buttonPreviousDay,src:Za,alt:"...",width:"126",height:"27"}),Object(n.jsx)("div",{class:Ea.a.centeredText,children:"Next day"})]}),Object(n.jsx)("button",{className:Ea.a.navigateButtons,onClick:A,children:"Next week"})]})]}),Object(n.jsx)("div",{children:Object(n.jsx)(Ra.a,{data:u,columns:qa(r),defaultPageSize:10,pageSize:h,showPagination:!1,background:"white",style:{background:"#DFE9EE",borderRadius:"10px",border:"1px solid #707070",width:"auto",display:"flex",height:"70vh"}})})]})};function Ka(){var e=Object(j.h)(),t=Object(s.useState)(!1),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)({"Not Started":!0,"In Progress":!0,Done:!0}),u=Object(l.a)(i,2),b=u[0],m=u[1],p=P(),h=Object(s.useContext)(q),O=Object(s.useCallback)((function(e){h.setProject(e)}),[h]);Object(s.useEffect)((function(){var t=e.projectid;if(null!=p)return p.on("project-updated",O),p.emit("project-join",t),function(){return p.off("project-updated")}}),[p,O,e.projectid]);var x=function(e){var t=Object(o.a)({},b);t[e]=!t[e],m(t)};return h.project&&h.project._id===e.projectid?Object(n.jsxs)(Oe,{className:Pa.a.conteiner,children:[Object(n.jsx)(D,{className:Pa.a.filter,onClick:function(){return c(!r)},title:"Task filters"}),r&&Object(n.jsxs)("div",{children:[Object(n.jsx)(D,{title:"Not Started",onClick:function(){return x("Not Started")},className:"".concat(Pa.a.filter," ").concat(b["Not Started"]?"":Pa.a["filter-off"])}),Object(n.jsx)(D,{title:"In Progress",className:"".concat(Pa.a.filter," ").concat(b["In Progress"]?"":Pa.a["filter-off"]),onClick:function(){return x("In Progress")}}),Object(n.jsx)(D,{title:"Done",className:"".concat(Pa.a.filter," ").concat(b.Done?"":Pa.a["filter-off"]),onClick:function(){return x("Done")}})]}),Object(n.jsx)("div",{className:Pa.a.calendarPageContainer,children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:Pa.a.calendarContainer,children:Object(n.jsx)(Qa,{project:h.project,filter:b})})})})]}):Object(n.jsx)(Oe,{children:Object(n.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})})}var $a=function(e){var t=e.children,a=Object(s.useState)([]),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(s.useState)(null),m=Object(l.a)(b,2),p=m[0],h=m[1],O=Object(s.useState)("Select"),x=Object(l.a)(O,2),f=x[0],_=x[1];return Object(n.jsx)(q.Provider,{value:{lists:c,setLists:i,hiddenLists:d,setHiddenLists:j,project:p,setProject:h,projectName:f,setProjectName:_},children:t})};var en=function(e){var t=e.children,a=Object(s.useState)([]),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)("Select"),u=Object(l.a)(o,2),d=u[0],j=u[1],h=Object(s.useState)([]),O=Object(l.a)(h,2),x=O[0],f=O[1],_=Object(s.useContext)(p),N=P();console.log(c),Object(s.useEffect)((function(){i(_.user.teams)}),[_.user.teams]);var k=Object(s.useCallback)(Object(g.a)(v.a.mark((function e(){var t,a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b("x-auth-token"),e.next=3,fetch("/api/teams",{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,i(n.teams),console.log(n.teams),s=m(n),_.logIn(s);case 11:case"end":return e.stop()}}),e)}))),[_]);return Object(s.useEffect)((function(){if(null!=N)return N.on("team-updated",k),function(){return N.off("team-updated")}}),[N,k]),Object(n.jsx)(C.Provider,{value:{teams:c,setTeams:i,selectedTeam:d,setSelectedTeam:j,currentProjects:x,setCurrentProjects:f,getCurrentProjects:function(e){var t=c.find((function(t){return t._id===e}));t&&f(t.projects)},updateSelectedTeam:function(e){var t=c.find((function(t){return t._id===e}));t&&j(t.name)}},children:t})},tn=a(81),an=a.n(tn),nn=a(82),sn=a.n(nn);function rn(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(j.h)();return Object(n.jsxs)("div",{children:[r?Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return c(!r)},children:Object(n.jsx)(pa,{hideForm:function(){return c(!r)},project:e.project})})}):null,Object(n.jsxs)("div",{className:sn.a.container,children:[Object(n.jsxs)("div",{className:sn.a.leftSide,children:[Object(n.jsxs)(x.b,{to:"/project-board/".concat(i.teamid,"/").concat(e.project._id),className:sn.a.key,children:["Name: ",Object(n.jsx)("span",{className:sn.a.value,children:e.project.name})]}),Object(n.jsxs)("div",{className:sn.a.key,children:["Creator: ",Object(n.jsx)("span",{className:sn.a.value,children:e.project.author.username})]})]}),Object(n.jsx)("div",{className:sn.a.info,onClick:function(){return c(!r)},children:"Info"})]})]})}var cn=a.p+"static/media/pic1.5bdefb31.svg",on=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(s.useState)([]),b=Object(l.a)(d,2),m=b[0],h=b[1],O=Object(s.useState)([]),x=Object(l.a)(O,2),f=x[0],_=x[1],v=Object(s.useState)([]),g=Object(l.a)(v,2),N=g[0],k=g[1],w=Object(s.useState)({}),y=Object(l.a)(w,2),S=y[0],D=y[1],T=Object(j.h)(),I=Object(s.useContext)(p),B=Object(s.useContext)(C),A=P(),E=T.teamid,R=Object(s.useCallback)((function(){var e,t={};B.teams.forEach((function(a){a._id===E&&(t=a,D(a),e=!0)})),e&&(h(t.members),_(t.requests),k(t.projects))}),[E,B.teams]);return Object(s.useEffect)((function(){null!=A&&A.on("team-update",R())}),[A,R,T,B.teams,I,E]),Object(n.jsx)(Oe,{children:Object(n.jsxs)("div",{className:an.a.teamContainer,children:[Object(n.jsxs)("div",{className:an.a.leftSide,children:[Object(n.jsx)("div",{children:N.map((function(e,t){return Object(n.jsx)(rn,{index:t,project:e},e._id)}))}),Object(n.jsx)("button",{className:an.a.newProjectButton,onClick:function(){return r(!0)},children:"New Project"}),a?Object(n.jsx)("div",{children:Object(n.jsx)(ie,{hideForm:function(){return r(!1)},children:Object(n.jsx)(ue,{})})}):null]}),Object(n.jsx)("div",{className:an.a.rightSde,children:Object(n.jsxs)("div",{className:an.a.rightSideTeam,children:[Object(n.jsx)(bt,{members:m,invited:f}),Object(n.jsx)("button",{className:an.a.newProjectButton,onClick:function(){return u(!0)},children:"View Team"}),o?Object(n.jsx)(ie,{hideForm:function(){return u(!1)},children:Object(n.jsx)(mt,{currTeam:S,hideForm:function(){u(!1)}})}):null]})}),Object(n.jsx)("div",{className:an.a.pic1,children:Object(n.jsx)("img",{src:cn,alt:""})})]})})},ln=function(){var e=Object(j.h)(),t=Object(j.g)(),a=Object(s.useState)(!0),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],m=Object(s.useContext)(p),h=function(){var a=Object(g.a)(v.a.mark((function a(){var n,s,r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.token,a.next=3,fetch("/api/user/confirmation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});case 3:if((s=a.sent).ok){a.next=9;break}return t.push("/error"),a.abrupt("return");case 9:return a.next=11,s.json();case 11:r=a.sent,m.logIn({username:r.username,id:r._id,inbox:r.inbox,confirmed:r.confirmed}),i(!1),b(!0);case 15:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(s.useEffect)((function(){h()})),"not-confirmed"===e.token?Object(n.jsx)("div",{children:"Please check your email to confirm your account"}):Object(n.jsxs)("div",{children:[c&&Object(n.jsx)("div",{children:"Validating your email."}),!c&&d&&Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"Thank you. Your account has been verified."}),Object(n.jsx)(ot,{title:"Proceed",onClick:function(){return t.push("/")}})]})]})},un=function(){var e=Object(s.useContext)(p),t=e.user.loggedIn;return Object(n.jsx)(x.a,{children:Object(n.jsx)(A,{user:e.user,children:Object(n.jsx)($a,{children:Object(n.jsx)(en,{children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/confirmation/:token",children:Object(n.jsx)(ln,{})}),t&&!e.user.confirmed&&Object(n.jsx)(j.a,{to:"/confirmation/not-confirmed"}),Object(n.jsx)(j.b,{exact:!0,path:"/",children:t?Object(n.jsx)(ke,{}):Object(n.jsx)(et,{})}),Object(n.jsx)(j.b,{path:"/profile/:userid",children:t?Object(n.jsx)(rt,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{path:"/inbox/:userid",children:t?Object(n.jsx)(Ct,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{path:"/my-tasks/:userid",children:t?Object(n.jsx)(ca,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{path:"/project-board/:teamid/:projectid",children:t?Object(n.jsx)(Ia,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{path:"/project-list/:teamid/:projectid",children:t?Object(n.jsx)(Ka,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{path:"/team/:teamid",children:t?Object(n.jsx)(on,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{component:ia})]})})})})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(O,{children:Object(n.jsx)(un,{})})}),document.getElementById("root"))},59:function(e,t,a){e.exports={projectInfoContainer:"project-list_projectInfoContainer__3mRLd",calendarContainer:"project-list_calendarContainer__27ZyO",table:"project-list_table__ibsXA",column:"project-list_column__3rGR1",columnChild:"project-list_columnChild__1AVvT",daylyElement:"project-list_daylyElement__2Qz1Z",filter:"project-list_filter__1hU5X","filter-off":"project-list_filter-off__2hOsK"}},75:function(e,t,a){e.exports={pic:"project-board_pic__3YRcb",flex:"project-board_flex__13yXL",list:"project-board_list__jeXIy",addlist:"project-board_addlist__-i_Vu",input:"project-board_input__ljKcM",container:"project-board_container__1yKm3",navigateButtons:"project-board_navigateButtons__2-7tX"}},79:function(e,t,a){e.exports={container:"task-members_container__2INWa",addUserButton:"task-members_addUserButton__1Ay0S",select:"task-members_select__3Oirt",pen:"task-members_pen__1EvaG",membersDiv:"task-members_membersDiv__92OQm",membersContainer:"task-members_membersContainer__39AVz",eachMember:"task-members_eachMember__1T6_c"}},80:function(e,t,a){e.exports={container:"edit-list_container__1PV_g",form:"edit-list_form__1Ipgs",changeColor:"edit-list_changeColor__nfyWy",listColor:"edit-list_listColor__3X8fE","color-pick":"edit-list_color-pick__3MYZG","color-button":"edit-list_color-button__1duo6",editListButton:"edit-list_editListButton__CVAtc"}},81:function(e,t,a){e.exports={teamContainer:"team_teamContainer__3_ZXX",leftSide:"team_leftSide__2pHfH",rightSde:"team_rightSde__2AmS7",newProjectButton:"team_newProjectButton__39sxK",rightSideTeam:"team_rightSideTeam__14fo7",pic1:"team_pic1__2NH3f"}},82:function(e,t,a){e.exports={container:"project_container__2Nl29",leftSide:"project_leftSide__1PQ-Q",key:"project_key__2DKXD",value:"project_value__1hM7g",info:"project_info__16VKJ",newProjectButton:"project_newProjectButton__2OKqw"}}},[[581,1,2]]]);
//# sourceMappingURL=main.5b2fad8f.chunk.js.map