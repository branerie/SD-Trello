(this["webpackJsonpsmart-manager"]=this["webpackJsonpsmart-manager"]||[]).push([[0],{100:function(e,t,n){e.exports={card:"Card_card__2wryr",container:"Card_container__17BOn","card-name":"Card_card-name__11O5X",button:"Card_button__32j4l",attachments:"Card_attachments__3Mfta",progress:"Card_progress__yqPpD"}},12:function(e,t,n){e.exports={container:"Welcome_container__3aVyE","top-container":"Welcome_top-container__1vctf","top-div-container":"Welcome_top-div-container__133MB","header-nav":"Welcome_header-nav__2BtFC",logo:"Welcome_logo__1nTsR","first-buttons":"Welcome_first-buttons__IEy0f",pic1:"Welcome_pic1__1Z1ML",pic2:"Welcome_pic2__1M0dP","lower-div-container":"Welcome_lower-div-container__quYO1","first-text":"Welcome_first-text__2o6Zf","login-button":"Welcome_login-button__1V7ED","sign-up-button":"Welcome_sign-up-button__2r2Rr",headers:"Welcome_headers__1dNb9",lucida:"Welcome_lucida__3Qt7a",paragraph:"Welcome_paragraph__6Wq61","second-sign-up-button":"Welcome_second-sign-up-button__2muT8","second-container":"Welcome_second-container__1lbTy","first-row":"Welcome_first-row__3iLV9","second-text":"Welcome_second-text__1VmgO","third-sign-up-button":"Welcome_third-sign-up-button__17UKB","pic3-container":"Welcome_pic3-container__3SINx",picture:"Welcome_picture__1bpYd","second-row":"Welcome_second-row__3Y0-V","second-row-colum":"Welcome_second-row-colum__jSWZv","second-row-pic":"Welcome_second-row-pic__1TOvE","pic4-container":"Welcome_pic4-container__3drT2","third-row":"Welcome_third-row__1QdoU","pic6-container":"Welcome_pic6-container__Yo9ca","content-wrap":"Welcome_content-wrap__3n_D0",footer:"Welcome_footer__1K8q6","footer-column":"Welcome_footer-column__2zlFR","footer-headers":"Welcome_footer-headers__1qGHy","footer-info":"Welcome_footer-info__2zj49","last-column":"Welcome_last-column__2GWXC","social-media-container":"Welcome_social-media-container__2PDHU","social-media":"Welcome_social-media__3Ai_d",sd2006:"Welcome_sd2006__scGtq"}},136:function(e,t,n){e.exports={container:"ToggleSwitch_container__CShBI","switch-container":"ToggleSwitch_switch-container__1gCoH","container-active":"ToggleSwitch_container-active__1bFp2","state-circle":"ToggleSwitch_state-circle__y4Y6x"}},15:function(e,t,n){e.exports={container:"HeaderDropdowns_container__3Rowp","dropdown-container":"HeaderDropdowns_dropdown-container__mPKZc",button:"HeaderDropdowns_button__1rIB9",title:"HeaderDropdowns_title__2Sbjf",dropdown:"HeaderDropdowns_dropdown__22dGB","options-container":"HeaderDropdowns_options-container__2kw4H",options:"HeaderDropdowns_options__1RyqI","last-option":"HeaderDropdowns_last-option__118o9",avatar:"HeaderDropdowns_avatar__11cvY",profile:"HeaderDropdowns_profile__tYFmD","team-media":"HeaderDropdowns_team-media__mV30K","project-media":"HeaderDropdowns_project-media__2dcVo"}},16:function(e,t,n){e.exports={container:"Profile_container__2_bln","left-container":"Profile_left-container__3EzVY","pic-container":"Profile_pic-container__1KiVC",pic1:"Profile_pic1__27dC-",teams:"Profile_teams__1yxA-","navigate-buttons":"Profile_navigate-buttons__2VI_l","button-input-div":"Profile_button-input-div__2juSF","button-input-div-tasks":"Profile_button-input-div-tasks__3bt1d","input-fields-tasks":"Profile_input-fields-tasks__2yguI","input-fields-profile":"Profile_input-fields-profile__2lWMK","profile-pic":"Profile_profile-pic__13Fvm","load-pic-text":"Profile_load-pic-text__1JpOJ",pen:"Profile_pen__2WQ5-","profile-pic-container":"Profile_profile-pic-container__1HQOB","profile-picture":"Profile_profile-picture__sAxVT","save-button":"Profile_save-button__37oIL","button-div-save":"Profile_button-div-save__RvRwF",alerts:"Profile_alerts__2SMyv","new-pass-alert":"Profile_new-pass-alert__1p0Lx","select-team-container":"Profile_select-team-container__3kdM2","teams-home":"Profile_teams-home__HOieV","navigate-buttons-teams":"Profile_navigate-buttons-teams__2zGFt",edit:"Profile_edit__2fq2S",delete:"Profile_delete__2ntEi",relative:"Profile_relative__1HV1n",menu:"Profile_menu__1dfDb"}},184:function(e,t,n){e.exports={submit:"ButtonHideList_submit__W6w8Y",name:"ButtonHideList_name__3gpfK",opacity:"ButtonHideList_opacity__EL9EW"}},185:function(e,t,n){e.exports={app:"PageLayout_app__PbBpH",content:"PageLayout_content__be6z1",small:"PageLayout_small__1w2o1"}},186:function(e,t,n){e.exports={attachment:"Attachment_attachment__3P_hI","att-picture":"Attachment_att-picture__2MIm5",format:"Attachment_format__339RG"}},187:function(e,t,n){e.exports={title:"Error_title__2WZV6",pic1:"Error_pic1__3MAMn",text:"Error_text__11nr2"}},188:function(e,t,n){e.exports={projectInfoContainer:"ProjectList_projectInfoContainer___JPIk","calendar-container":"ProjectList_calendar-container__31JJo","layout-container":"ProjectList_layout-container__2ri49",table:"ProjectList_table__rXHWT",column:"ProjectList_column__3b3Zi",columnChild:"ProjectList_columnChild__2bTD-",daylyElement:"ProjectList_daylyElement__vRfK4"}},189:function(e,t,n){e.exports={container:"FilterWrapper_container__1fxwd","legend-wrapper":"FilterWrapper_legend-wrapper__3aU1b",legend:"FilterWrapper_legend__3aeUJ"}},19:function(e,t,n){e.exports={columns:"CalendarData_columns__YlRHo",task:"CalendarData_task__Hfm29",buttoDiv:"CalendarData_buttoDiv__1YQg_",listName:"CalendarData_listName__2Z3jJ",container:"CalendarData_container__3hblu",nameContainer:"CalendarData_nameContainer__sEalr",input:"CalendarData_input__3_Vk8",inputList:"CalendarData_inputList__3a_h-",addlist:"CalendarData_addlist__fycWL",dueDateField:"CalendarData_dueDateField__Iwqrz",dueDateFieldInput:"CalendarData_dueDateFieldInput__3QyQM",inputElementName:"CalendarData_inputElementName__2nDCy",clean:"CalendarData_clean__3sQne",taskProgress:"CalendarData_taskProgress__2RSpB",taskProgressButton:"CalendarData_taskProgressButton__2aH4c",taskProgressButtonInput:"CalendarData_taskProgressButtonInput__35Z0M",tableText:"CalendarData_tableText__26nZx",select:"CalendarData_select__D5plg",pen:"CalendarData_pen__2XFiF",membersDiv:"CalendarData_membersDiv__NOzbS",membersContainer:"CalendarData_membersContainer__2Zp-r",daylyProgress:"CalendarData_daylyProgress__Yx7tF",header:"CalendarData_header__a1Dan",cursorPointer:"CalendarData_cursorPointer__oBigv",filter:"CalendarData_filter__28XwX",filters:"CalendarData_filters__9tIbf","filters-container":"CalendarData_filters-container__Nqs5V","filters-clicked":"CalendarData_filters-clicked__mKOwE",list:"CalendarData_list__1YGyp","attachments-container":"CalendarData_attachments-container__1NuS-"}},190:function(e,t,n){e.exports={"filter-used":"FilterDueDate_filter-used__RByog","filter-blank":"FilterDueDate_filter-blank__2o62s","filter-clear":"FilterDueDate_filter-clear__2ApBs"}},20:function(e,t,n){e.exports={title:"MyTasks_title__16WZ8","button-container":"MyTasks_button-container__Fe820","team-buttons":"MyTasks_team-buttons__2oxYw",teams:"MyTasks_teams__AfCrV","projects-button":"MyTasks_projects-button__1uZ1V",selected:"MyTasks_selected__2OE3n",pic:"MyTasks_pic__3vqRD",box:"MyTasks_box__1CQmR",project:"MyTasks_project__1LwAB","project-name":"MyTasks_project-name__2Poeb",link:"MyTasks_link__VwafM",bold:"MyTasks_bold__1Zldg",header:"MyTasks_header__3W3dl",raw:"MyTasks_raw__1JzAV",container:"MyTasks_container__1NsHR","task-container":"MyTasks_task-container__2yiWX",list:"MyTasks_list__pp8Hc",task:"MyTasks_task__3SYix",progress:"MyTasks_progress__1gomp",days:"MyTasks_days__1ikHv"}},21:function(e,t,n){e.exports={"small-buttons":"EditCardOptions_small-buttons__2CeGN",pics:"EditCardOptions_pics__3Kxqq",date:"EditCardOptions_date__3c7Lj",select:"EditCardOptions_select__sv7jR",members:"EditCardOptions_members__JR4_2",history:"EditCardOptions_history__3hfVJ","progress-input":"EditCardOptions_progress-input__1vPfr","progress-input-container":"EditCardOptions_progress-input-container__2CR5J","progress-bar":"EditCardOptions_progress-bar__1sgjP","bad-input":"EditCardOptions_bad-input__2eoZ3",progress:"EditCardOptions_progress__1FGRJ","att-container":"EditCardOptions_att-container__1q6XF",attachment:"EditCardOptions_attachment__13Bn4","att-picture":"EditCardOptions_att-picture__2Zhgp",format:"EditCardOptions_format__2-NOL",remaining:"EditCardOptions_remaining__1xdsl"}},22:function(e,t,n){e.exports={container:"EditTeam_container__3fkXI",title:"EditTeam_title__k2PEs","input-container":"EditTeam_input-container__iVY1G","input-container-invite":"EditTeam_input-container-invite__OIrUr","input-name":"EditTeam_input-name__1XBuS","text-invite":"EditTeam_text-invite__1NYQW","input-invite":"EditTeam_input-invite__1Fi4b","input-container-descr":"EditTeam_input-container-descr__3gk04","text-area-descr":"EditTeam_text-area-descr__3P02a","button-div":"EditTeam_button-div__jSDt2","create-button":"EditTeam_create-button__3KPih","members-div":"EditTeam_members-div__bPEH6","invite-input":"EditTeam_invite-input__28xnZ","select-for-invite":"EditTeam_select-for-invite__3y18R",members:"EditTeam_members__gzHuV",user:"EditTeam_user__3lVrf",email:"EditTeam_email__2lokP","leave-team-btn-div":"EditTeam_leave-team-btn-div__2-5Ya","leave-team-btn":"EditTeam_leave-team-btn__nMfc-"}},24:function(e,t,n){e.exports={container:"SignupForm_container__-3lzw",alerts:"SignupForm_alerts__2ia9C","inner-container":"SignupForm_inner-container__1O7Hl",logo:"SignupForm_logo__Pc9nD","right-side":"SignupForm_right-side__3Km6j",title:"SignupForm_title__3eX3-","input-container":"SignupForm_input-container__sqz8H","sign-up-input":"SignupForm_sign-up-input__2Qd4o","pass-instructions":"SignupForm_pass-instructions__HxcJy","sign-up-button":"SignupForm_sign-up-button__2B6BP","button-div-login":"SignupForm_button-div-login__2lBHC","text-div":"SignupForm_text-div__27hsT","already-sign-up":"SignupForm_already-sign-up__2s11B","sign-up-btn":"SignupForm_sign-up-btn__hU6CD","button-div-google-login":"SignupForm_button-div-google-login__LooWW","google-login-btn":"SignupForm_google-login-btn__N6rbT"}},25:function(e,t,n){e.exports={container:"AddProjectMember_container__NbbzZ",form:"AddProjectMember_form__FwmbP","current-members":"AddProjectMember_current-members__1gByw","admins-container":"AddProjectMember_admins-container__wQf5p",admins:"AddProjectMember_admins__3SS5y","big-container":"AddProjectMember_big-container__2hZVD","members-container":"AddProjectMember_members-container__2zjbg",title:"AddProjectMember_title__3nvT1","select-for-invite":"AddProjectMember_select-for-invite__3nA7j",members:"AddProjectMember_members__1Rcch","member-select":"AddProjectMember_member-select__MYt8_","add-button":"AddProjectMember_add-button__1wIma",draggable:"AddProjectMember_draggable__rx6yO",droppable:"AddProjectMember_droppable__koyY5","droppable-members":"AddProjectMember_droppable-members__3K9kn","input-container":"AddProjectMember_input-container__1KvEk","text-invite":"AddProjectMember_text-invite__1rErB","invite-input":"AddProjectMember_invite-input__2ptJf","members-input":"AddProjectMember_members-input__fSTHa",user:"AddProjectMember_user__1tu3u",email:"AddProjectMember_email__SGl6t"}},250:function(e,t,n){e.exports={aside:"ListColor_aside__1aP5Q",list:"ListColor_list__zFsBA"}},252:function(e,t,n){e.exports={"search-container":"SearchResults_search-container__3HU-h",result:"SearchResults_result__4N0uy"}},253:function(e,t,n){e.exports={"members-avatars":"TeamMembers_members-avatars__3kcQc"}},256:function(e,t,n){e.exports={bar:"ProgressBar_bar__3PSen",progress:"ProgressBar_progress__3wHZG"}},257:function(e,t,n){e.exports={button:"AttachmentsLink_button__20418",attachments:"AttachmentsLink_attachments__1Tb_3"}},29:function(e,t,n){e.exports={container:"GetStarted_container__1PEOA",title:"GetStarted_title__3dpGQ",paragraph:"GetStarted_paragraph__3MZJh","logo-div":"GetStarted_logo-div__1Pw8G",logo:"GetStarted_logo__3fjSH","pic-div":"GetStarted_pic-div__2k-nG","navigate-buttons":"GetStarted_navigate-buttons__22HoS",pic:"GetStarted_pic__2fjhj",pic3:"GetStarted_pic3__1iygO",greeting:"GetStarted_greeting__1HPij"}},32:function(e,t,n){e.exports={container:"CreateTeam_container__1q8QK",form:"CreateTeam_form__1zpyZ",title:"CreateTeam_title__2II3u","input-container":"CreateTeam_input-container__1fvzs","input-name":"CreateTeam_input-name__34I-d","input-container-descr":"CreateTeam_input-container-descr__tRATc","input-container-members":"CreateTeam_input-container-members__2uLtn","description-text":"CreateTeam_description-text__1QUSa","text-area-descr":"CreateTeam_text-area-descr__355Nw","members-text":"CreateTeam_members-text__4AWwG","input-members":"CreateTeam_input-members__UjV18","button-div":"CreateTeam_button-div__3_hmI","create-button":"CreateTeam_create-button__1_pFc","members-avatars":"CreateTeam_members-avatars__RRFUP","invite-input":"CreateTeam_invite-input__ldb4b","select-for-invite":"CreateTeam_select-for-invite__17Mr3","members-pop-up":"CreateTeam_members-pop-up__30TDT",members:"CreateTeam_members__1HzOZ",user:"CreateTeam_user__JEnPd",email:"CreateTeam_email__2al5F"}},33:function(e,t,n){e.exports={container:"FormForgotPassword_container__3JhAH",alerts:"FormForgotPassword_alerts__1ejfx","inner-container":"FormForgotPassword_inner-container__3sFfM",logo:"FormForgotPassword_logo__3uQ0a","right-side":"FormForgotPassword_right-side__UltC7",title:"FormForgotPassword_title__1UMA1","input-container":"FormForgotPassword_input-container__2jmKC",emailInput:"FormForgotPassword_emailInput__-Kb8j",passInput:"FormForgotPassword_passInput__3MXOO",loginButton:"FormForgotPassword_loginButton__20M3i",buttonDivLogin:"FormForgotPassword_buttonDivLogin__10x7Z",textDiv:"FormForgotPassword_textDiv__2ysYn",buttonDivGoogleLogin:"FormForgotPassword_buttonDivGoogleLogin__3wNSP",forgotPass:"FormForgotPassword_forgotPass__1ExC6",newToSmM:"FormForgotPassword_newToSmM__2_UCj",signUpBtn:"FormForgotPassword_signUpBtn__3M0dB",googleLoginBtn:"FormForgotPassword_googleLoginBtn__12lvD"}},35:function(e,t,n){e.exports={container:"LoginForm_container__1qca-",alerts:"LoginForm_alerts__2PnWl","inner-container":"LoginForm_inner-container__yZCm3",logo:"LoginForm_logo__1GhUW","right-side":"LoginForm_right-side__2SLww",title:"LoginForm_title__3lVNO","input-container":"LoginForm_input-container__2Imu6","email-input":"LoginForm_email-input__21PIN","pass-input":"LoginForm_pass-input__p4Hl6","login-button":"LoginForm_login-button__1CLXl","button-div-login":"LoginForm_button-div-login__3G_hG","text-div":"LoginForm_text-div__17yhY","button-div-google-login":"LoginForm_button-div-google-login__31VAI","forgot-pass":"LoginForm_forgot-pass__374cc","new-to-sm":"LoginForm_new-to-sm__1_kQy","sign-up-btn":"LoginForm_sign-up-btn__3SRVM","google-login-btn":"LoginForm_google-login-btn__t8x_R"}},351:function(e,t,n){e.exports={clean:"ButtonClean_clean__2P6oS"}},353:function(e,t,n){e.exports={"profile-picture":"AvatarUser_profile-picture__3aZpe"}},356:function(e,t,n){e.exports={button:"ButtonGrey_button__BUVkA"}},357:function(e,t,n){e.exports={link:"Link_link__3YrNv"}},358:function(e,t,n){e.exports={transparent:"Transparent_transparent__2cdHF"}},36:function(e,t,n){e.exports={container:"CreateProject_container__1FtDt",title:"CreateProject_title__2f6wZ","input-container":"CreateProject_input-container__35h6R","input-name":"CreateProject_input-name__3ikZb","invite-input":"CreateProject_invite-input__3-ioT","select-for-invite":"CreateProject_select-for-invite__3Q5C8","members-input":"CreateProject_members-input__3-8Sj","input-container-descr":"CreateProject_input-container-descr__1RU_G","text-area-descr":"CreateProject_text-area-descr__3Zc-q","text-invite":"CreateProject_text-invite__2R7br","button-div":"CreateProject_button-div__3wYu1","create-button":"CreateProject_create-button__xSgsw","members-avatars":"CreateProject_members-avatars__1Y1v5",members:"CreateProject_members__3mIt9",user:"CreateProject_user__iWzuH",email:"CreateProject_email__2vvHp"}},360:function(e,t,n){e.exports={link:"LinkTitle_link__14fDl"}},361:function(e,t,n){e.exports={clean:"ButtonCleanTitle_clean__Hpqbf"}},362:function(e,t,n){e.exports={title:"Title_title__NjNO6"}},363:function(e,t,n){e.exports={button:"ButtonGreyTitle_button__2Ba3Y"}},364:function(e,t,n){e.exports={alert:"Alert_alert__1h5sl"}},365:function(e,t,n){e.exports={title:"Inbox_title__S6KO5"}},37:function(e,t,n){e.exports={container:"Confirmation_container__3okUe",logo:"Confirmation_logo__2c0K4",title:"Confirmation_title__2Rkbz",text:"Confirmation_text__15X40",cheers:"Confirmation_cheers__tQb9G",team:"Confirmation_team__2jasi","proceed-button":"Confirmation_proceed-button__1PemK"}},372:function(e,t,n){e.exports={button:"Button_button__1hvn7"}},38:function(e,t,n){e.exports={aside:"Aside_aside__Jc6hf",container:"Aside_container__1LMrp",button:"Aside_button__3aSma",logo:"Aside_logo__AmHpx","top-left":"Aside_top-left__Kd6c_",menu:"Aside_menu__1GLYw","top-right":"Aside_top-right__16z2J",link:"Aside_link__lCI11","bottom-right":"Aside_bottom-right__2Fo-_",bell:"Aside_bell__3nxlW",hamburger:"Aside_hamburger__2Dll8",settings:"Aside_settings__2VupA"}},39:function(e,t,n){e.exports={container:"EditCard_container__3wT1d","task-name":"EditCard_task-name__2hgOz","name-input":"EditCard_name-input__Csb4M","task-body":"EditCard_task-body__3Ch0r",text:"EditCard_text__sn6Ga","left-side":"EditCard_left-side__3kVVi","right-side":"EditCard_right-side__1LRzI","task-component":"EditCard_task-component__1NIjG","description-input":"EditCard_description-input__34Sen","small-buttons":"EditCard_small-buttons__3x8f_",pics:"EditCard_pics__1D6Wt"}},403:function(e,t,n){},41:function(e,t,n){e.exports={container:"FormAddPassword_container__2rHYK",alerts:"FormAddPassword_alerts__KgyKI","inner-container":"FormAddPassword_inner-container__dfVpo",logo:"FormAddPassword_logo__23PlN","right-side":"FormAddPassword_right-side__14wBO",title:"FormAddPassword_title__1LG4S","input-container":"FormAddPassword_input-container__1R-rU","pass-instructions":"FormAddPassword_pass-instructions__3zntW","pass-input":"FormAddPassword_pass-input__2FQ1O","login-button":"FormAddPassword_login-button__1CMr1","button-div-login":"FormAddPassword_button-div-login__1zLyR","text-login":"FormAddPassword_text-login__7Ssd1","new-pass-alert":"FormAddPassword_new-pass-alert__19AQH"}},42:function(e,t,n){e.exports={list:"List_list__3D23k",row:"List_row__3SpGm",button:"List_button__2vu65",dots:"List_dots__2Uyr_",menu:"List_menu__2pTd8",edit:"List_edit__2ZTw7",delete:"List_delete__1j7wN",relative:"List_relative__3ZRpE","add-task":"List_add-task__9t0c2",draggable:"List_draggable__1Kie5",droppable:"List_droppable__2nRmG",flexend:"List_flexend__1em8R",name:"List_name__2f7CG",container:"List_container__28clh",input:"List_input__2Uwjc","task-input":"List_task-input__3AlUK"}},45:function(e,t,n){e.exports={container:"Home_container__2qpUe","pic-container":"Home_pic-container__18o2T",pic1:"Home_pic1__1XEYo","welcome-user":"Home_welcome-user__16U4D","left-buttons":"Home_left-buttons__34rHC","right-buttons":"Home_right-buttons__2ADOX","my-teams-container":"Home_my-teams-container__2NsRB","teams-home":"Home_teams-home__2egNH","select-team-container":"Home_select-team-container__SI5vC","navigate-buttons":"Home_navigate-buttons__1gZW_","navigate-buttons-teams":"Home_navigate-buttons-teams__cvZPT"}},52:function(e,t,n){e.exports={form:"EditProject_form__1B8sp",title:"EditProject_title__27HHn","buttons-div":"EditProject_buttons-div__2aoeI","navigate-buttons":"EditProject_navigate-buttons__cmB7m","input-container":"EditProject_input-container__1swjT","input-pr-name":"EditProject_input-pr-name__yCbuG","input-container-descr":"EditProject_input-container-descr__36mFS","text-area-descr":"EditProject_text-area-descr__3nBCs","edit-members":"EditProject_edit-members__3E-vv"}},53:function(e,t,n){e.exports={container:"Team_container__1-Z2r",title:"Team_title__20btW","left-side":"Team_left-side__EScI4","right-side":"Team_right-side__PfsR8","right-side-team":"Team_right-side-team__dNt1p",pic1:"Team_pic1__1aGcq","button-div":"Team_button-div__34g33","new-project-button":"Team_new-project-button__3vCrd",picture:"Team_picture__zSznw"}},56:function(e,t,n){e.exports={card:"MyTasksTask_card__13GC7",task:"MyTasksTask_task__1tULV",progress:"MyTasksTask_progress__3Dd1T",days:"MyTasksTask_days__6nLr2",deadline:"MyTasksTask_deadline__hVNnV","buttons-container":"MyTasksTask_buttons-container__1K23b",button:"MyTasksTask_button__2fg5i",input:"MyTasksTask_input__30gQP","bad-input":"MyTasksTask_bad-input__1vN4W","no-border":"MyTasksTask_no-border__3uP64",edit:"MyTasksTask_edit__1MP3K"}},60:function(e,t,n){e.exports={container:"EditList_container__2vZrX","input-container":"EditList_input-container__2L0_P",name:"EditList_name__BNenU","name-input":"EditList_name-input__2WGjw","change-color":"EditList_change-color__1ozjv","color-title":"EditList_color-title__nKS0I","color-pick":"EditList_color-pick__28nNu","color-button":"EditList_color-button__3VVg9","edit-list-button":"EditList_edit-list-button__10pxQ",text:"EditList_text__4SmRk"}},61:function(e,t,n){e.exports={container:"TableDateNavigation_container___ruQ9",navigateButtons:"TableDateNavigation_navigateButtons__sUQBP",picContainer:"TableDateNavigation_picContainer__RWkKA",centeredText:"TableDateNavigation_centeredText__1-OJF"}},662:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(79),i=n.n(c),o=n(14),l=n(3),u=n(87),d=n.n(u),j=n(28),b=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null};var m=function(e){return{username:e.user.username,id:e.user._id,teams:e.teams,inbox:e.user.inbox,confirmed:e.user.confirmed,newPasswordConfirmed:e.user.newPasswordConfirmed,recentProjects:e.user.recentProjects,image:e.user.image,lastTeamSelected:e.user.lastTeamSelected}},p=s.a.createContext({user:null,logIn:function(){},logOut:function(){}}),h=function(e){var t=Object(r.useState)(null),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(!0),u=Object(l.a)(i,2),h=u[0],O=u[1],f=Object(j.g)(),x=function(e){c(Object(o.a)(Object(o.a)({},e),{},{loggedIn:!0}))},_=Object(r.useCallback)((function(){var e=b("x-auth-token");fetch("/api/user/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){e.ok?(document.cookie="x-auth-token= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/;",c({loggedIn:!1})):f.push("/error")}))}),[f]),v=Object(r.useCallback)((function(){var e=b("x-auth-token");if(!e)return c({loggedIn:!1}),void O(!1);fetch("/api/user/verify",{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){return e.json()})).then((function(e){e.status?x(m(e)):_(),O(!1)}))}),[_]);return Object(r.useEffect)((function(){v()}),[v]),h?Object(a.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3}):Object(a.jsx)(p.Provider,{value:{user:s,setUser:c,logIn:x,logOut:_},children:e.children})},O=function(e){return Object(a.jsx)(h,{children:e.children})},f=(n(403),n(13)),x=n(17),_=n(4),v=n.n(_),g=n(7),N=n(32),k=n.n(N),C=s.a.createContext({teams:[],setTeams:function(){},selectedTeam:"Select",setSelectedTeam:function(){},getCurrentTeam:function(){},currentTeam:"",setCurrentTeam:function(){},getTeams:function(){}}),w=n(351),y=n.n(w),T=function(e){var t=e.title,n=e.onClick,r=e.type,s=e.className,c=e.children,i=e.style;return Object(a.jsxs)("button",{type:r||"button",onClick:n,className:"".concat(y.a.clean," ").concat(s),style:i,children:[t,c]})},S=n(352),P=n.n(S),D=s.a.createContext();function I(){return Object(r.useContext)(D)}function F(e){var t=e.user,n=e.children,s=Object(r.useState)(),c=Object(l.a)(s,2),i=c[0],o=c[1],u=window.location.href.includes("heroku")?"/":"http://localhost:4000";return Object(r.useEffect)((function(){if(t&&t.teams){var e=t.username,n=t.id,a=Object(x.a)(t.teams).map((function(e){return e._id})),r=JSON.stringify(a),s=P()(u,{query:{teamsStr:r,username:e,userId:n},transports:["websocket"]});return o(s),function(){return s.close()}}}),[t,u]),Object(a.jsx)(D.Provider,{value:i,children:n})}var E=n(353),A=n.n(E),M=n(239),L=n.n(M),H=n(240),z=n.n(H),R=n(180);function W(e){var t=e.user,n=e.onClick,r=e.className,s=e.size;return t.image?Object(a.jsx)(L.a,{publicId:t.image.publicId,onClick:n,className:"".concat(A.a["profile-picture"]," ").concat(r),title:t.username,children:Object(a.jsx)(z.a,{width:s,height:s,gravity:"faces",crop:"fill"})}):Object(a.jsx)(R.a,{className:r,onClick:n,name:t.username,size:s,round:!0,maxInitials:2})}var B=n(356),U=n.n(B),G=function(e){var t=e.title,n=e.onClick,r=e.className;return Object(a.jsx)("button",{onClick:n,className:"".concat(U.a.button," ").concat(r),children:t})};function J(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(""),h=Object(l.a)(m,2),O=h[0],f=h[1],_=Object(r.useState)([]),N=Object(l.a)(_,2),w=N[0],y=N[1],S=Object(r.useState)(!1),P=Object(l.a)(S,2),D=P[0],F=P[1],E=Object(r.useState)([]),A=Object(l.a)(E,2),M=A[0],L=A[1],H=Object(j.g)(),z=Object(r.useContext)(C),R=Object(r.useContext)(p),B=I(),U=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(t.target.value),F(!1),0!==M.length){e.next=12;break}return n=b("x-auth-token"),e.next=6,fetch("/api/user/get-all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(a=e.sent).ok||H.push("/error"),e.next=10,a.json();case 10:r=e.sent,L(r);case 12:O.length>=2&&F(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(g.a)(v.a.mark((function t(n){var a,r,c,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==s){t.next=3;break}return t.abrupt("return");case 3:return a=b("x-auth-token"),t.next=6,fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({name:s,description:u,requests:w})});case 6:if((r=t.sent).ok){t.next=12;break}return H.push("/error"),t.abrupt("return");case 12:return t.next=14,r.json();case 14:c=t.sent,(i=Object(x.a)(z.teams)).push(c),z.setTeams(i),z.setSelectedTeam(c.name),e.hideForm(),B.emit("team-update",c._id),B.emit("multiple-messages-sent",w),H.push("/team/".concat(c._id));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:k.a.container,children:[Object(a.jsx)("div",{className:k.a.title,children:"Create New Team"}),Object(a.jsxs)("div",{className:k.a["input-container"],children:[Object(a.jsx)("span",{children:" Name"}),Object(a.jsx)("input",{className:k.a["input-name"],value:s,onChange:function(e){return c(e.target.value)},label:"Name",id:"name",placeholder:"Team Name",autocomplete:"off"})]}),Object(a.jsxs)("div",{className:k.a["input-container-descr"],children:[Object(a.jsx)("span",{className:k.a["description-text"],children:" Description"}),Object(a.jsx)("textarea",{className:k.a["text-area-descr"],value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description",placeholder:"Team Description",spellCheck:"false"})]}),Object(a.jsxs)("div",{className:k.a["input-container-members"],children:[Object(a.jsx)("span",{className:k.a["members-text"],children:" Invite Members"}),Object(a.jsxs)("div",{className:k.a["invite-input"],children:[Object(a.jsx)("input",{className:k.a["input-members"],autoComplete:"off",value:O,onChange:U,label:"Invite members",id:"members",placeholder:"username",onBlur:function(){setTimeout((function(){return F(!1)}),120)}}),Object(a.jsx)("div",{className:k.a["select-for-invite"],children:D&&Object(a.jsx)("div",{className:k.a["members-pop-up"],children:Object(a.jsx)("div",{className:k.a.members,children:M.filter((function(e){return e.username.toLowerCase().includes(O.toLowerCase())&&!e.username.includes(R.user.username)})).filter((function(e){return!w.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(a.jsx)(T,{className:k.a.user,onClick:function(){return function(e){var t=Object(x.a)(w);t.push(e),y(t),F(!1),f("")}(e)},title:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.username}),Object(a.jsx)("div",{className:k.a.email,children:e.email})]})},e._id)}))})})})]})]}),Object(a.jsx)("div",{className:k.a["members-avatars"],children:w.map((function(e){return Object(a.jsx)(T,{onClick:function(){return function(e){var t=w.filter((function(t){return t._id!==e._id}));y(t)}(e)},title:Object(a.jsx)(W,{user:e,size:40})})}))}),Object(a.jsx)("div",{className:k.a["button-div"],children:Object(a.jsx)(G,{onClick:function(e){return J(e)},title:"Create",className:k.a["create-button"]})})]})}var Y=n(357),V=n.n(Y),K=function(e){var t=e.title,n=e.href,r=e.className,s=e.onClick;return Object(a.jsx)(f.b,{to:n,className:"".concat(V.a.link," ").concat(r),onClick:s,children:t})},Z=n(38),q=n.n(Z),Q=n.p+"static/media/logo.2beba198.svg",X=n.p+"static/media/menu.f66dcc80.svg",$=n.p+"static/media/home.05f82417.svg",ee=n.p+"static/media/tasks.d514e762.svg",te=n.p+"static/media/inbox.6389f480.svg",ne=n.p+"static/media/inbox-bell.959a963c.svg",ae=n.p+"static/media/project-info.58f0cc8c.svg",re=s.a.createContext({lists:[],setLists:function(){},hiddenLists:[],setHiddenLists:function(){},project:{},setProject:function(){}}),se=n(250),ce=n.n(se);function ie(e){var t=e.color,n=e.type;return"aside"===n?Object(a.jsx)("svg",{className:"".concat(ce.a[n]),xmlns:"http://www.w3.org/2000/svg",width:"110",height:"26.931",viewBox:"0 0 110 26.931",children:Object(a.jsx)("g",{id:"Layer_2","data-name":"Layer 2",transform:"translate(0.002 0.014)",children:Object(a.jsx)("g",{id:"Layer_1","data-name":"Layer 1",transform:"translate(-0.002 -0.014)",children:Object(a.jsx)("path",{id:"Path_60","data-name":"Path 60",d:"M4.208,22.578l-.277-.26c-.594-.366-.814-1.074-1.351-1.49-1-.749-1.14-2.214-2.352-2.784a1.237,1.237,0,0,1-.187-.391,1.628,1.628,0,0,1,.554-1.628,5.636,5.636,0,0,1,3.1-.456,6.862,6.862,0,0,0,1.083,0,.733.733,0,0,0,.765-.765c.049-.48-.057-.814-.586-.871a1.628,1.628,0,0,1-.513-.163c-.92-.456-.961-1.083-.106-1.7a3.256,3.256,0,0,0,.545-.448,1.27,1.27,0,0,1,.659-.383c.667-.244,1.538.3,2.027-.545a.651.651,0,0,0-.244-.374,6.894,6.894,0,0,1-.659-.554,1.278,1.278,0,0,1-.415-.814A1.9,1.9,0,0,0,5.022,6.933C4.2,6.509,3.6,5.891,4.411,4.881c2.263-1.628,4.933-1.937,7.57-2.328,1.27-.309,2.589-.187,3.858-.48a4.811,4.811,0,0,1,1.449-.09c.643.073,1.254.317,1.921-.147a2.011,2.011,0,0,1,1.718-.106,2.808,2.808,0,0,0,2.32-.2,3.394,3.394,0,0,1,2.2.122c1.628-.6,3.313-.391,4.957-.667.765-.147,1.563-.114,2.328-.3a8.873,8.873,0,0,1,3.557.13.252.252,0,0,0,.269,0A2.914,2.914,0,0,1,39.885.73h.277A2.182,2.182,0,0,1,42.075.307a22.922,22.922,0,0,0,3.883.057A34.326,34.326,0,0,0,56.165.2,1.75,1.75,0,0,1,57.85.51h.277C59.136-.3,60.276.054,61.383.128a28.856,28.856,0,0,0,4.436.26,8.669,8.669,0,0,1,2.751,0c1.188.317,2.442,0,3.606.244A22.083,22.083,0,0,0,75.7.917l.464.041a16.752,16.752,0,0,0,3.191.228h.464c1.083.057,2.157.285,3.256.269,1.351,0,2.678.3,4.021.309.814.171,1.685.2,2.523.334.545.269,1.254.065,1.709.578a4.746,4.746,0,0,0,1.9.309,26.545,26.545,0,0,1,4.548.392c1.166.211,2.347.235,3.527.333,1.091.3,2.271,0,3.329.5,1.408,0,2.825,0,4.241.081.3,0,.716.1.676.513s-.374.586-.814.383c-1.034-.09-2.059-.155-2.523,1.083-.317.814-.961.562-1.555.488-.537.228-1.14.147-1.677.358a5.576,5.576,0,0,1-.814.106,20.26,20.26,0,0,0-4.591.765c.814.676,1.245,1.555,2.255,1.758a1.934,1.934,0,0,1,1.424.334c-.057,1.026-.936.586-1.449.814a.578.578,0,0,1-.383-.065.057.057,0,0,0,0,.057h3.972a1.042,1.042,0,0,1,.92.448c-.244.814-1.058.521-1.587.814-.407.212-1.156.187-.545.961a4.613,4.613,0,0,0,.391.407,11.928,11.928,0,0,0,3,.155,5.421,5.421,0,0,1,.961,0c.814.147,1.058.44.407,1.156-1.074,1.188-2.442,2.165-3.012,3.769,1.742,0,3.565.041,5.389,0,.863.4.879.92.236,1.547a1.148,1.148,0,0,0-.3.814c.114.35.073.733.212,1.074.562,1.384.5,1.547-.863,2.068a13.569,13.569,0,0,1-2.637.814c-1.571.049-3.118.521-4.7.309-1.628-.554-3.329.212-4.99-.081a9.589,9.589,0,0,0-4.884.147,2.816,2.816,0,0,1-2.076.488H79.771a5.739,5.739,0,0,0-1.9.179,10.631,10.631,0,0,1-1.831.1c-4.485,0-8.954.081-13.455,0a4.933,4.933,0,0,0-1.758.187,9.247,9.247,0,0,1-2.507.106h-.529a28.6,28.6,0,0,1-3.126,0h-.48a6.137,6.137,0,0,1-1.726-.1,11.209,11.209,0,0,0-3.533-.2c-2.222.065-4.461-.106-6.675.163a6.658,6.658,0,0,1-1.929.081,4.168,4.168,0,0,1-.456,0c-1.286,0-2.572.106-3.858.049a12.474,12.474,0,0,0-3.394,0c-1.319.2-2.67-.138-3.98.187a16.768,16.768,0,0,1-2.556.236c-1.368-.366-2.711.342-4.07.106a2.133,2.133,0,0,1-.456-.073,9.475,9.475,0,0,0-2.711-.179c-1.213-.09-2.442-.236-3.63-.342a9.377,9.377,0,0,0-1.058-.228,17.6,17.6,0,0,0-2.068-.114c-1.335-.472-2.768-.22-4.119-.521a.969.969,0,0,1-.684-.814l-.594-.537c-.244-.236-.627-.26-.814-.529l-.529-.342A1.913,1.913,0,0,1,4.208,22.578Z",transform:"translate(0.002 0.014)",fill:t})})})}):"list"===n?Object(a.jsx)("svg",{className:"".concat(ce.a[n]),xmlns:"http://www.w3.org/2000/svg",width:"267.316",height:"26.931",viewBox:"0 0 267.316 26.931",children:Object(a.jsx)("path",{id:"Path_60","data-name":"Path 60",d:"M10.229,22.578l-.673-.26c-1.444-.366-1.978-1.074-3.284-1.49C3.84,20.079,3.5,18.614.556,18.044A1.347,1.347,0,0,1,.1,17.653c-.341-.6.18-1.235,1.345-1.628,2.334-.61,4.985-.431,7.537-.456.876.029,1.755.029,2.631,0a3.5,3.5,0,0,0,1.34-.214c.354-.146.542-.346.52-.551.119-.48-.138-.814-1.424-.871A8.487,8.487,0,0,1,10.8,13.77c-2.235-.456-2.334-1.083-.257-1.7a10.411,10.411,0,0,0,1.325-.448,5.16,5.16,0,0,1,1.6-.383c1.622-.244,3.739.3,4.926-.545a1.011,1.011,0,0,0-.593-.374q-.842-.256-1.6-.554c-.569-.211-.928-.5-1.009-.814.269-.877-.97-1.715-2.987-2.019-2-.423-3.462-1.042-1.484-2.051,5.5-1.628,11.987-1.937,18.4-2.328,3.086-.309,6.29-.187,9.376-.48a28.141,28.141,0,0,1,3.521-.09,13.688,13.688,0,0,0,4.668-.147,11.345,11.345,0,0,1,4.174-.106,15.811,15.811,0,0,0,5.638-.2,19.52,19.52,0,0,1,5.341.122c3.956-.6,8.051-.391,12.047-.667,1.859-.147,3.8-.114,5.657-.3a51.868,51.868,0,0,1,8.644.13,1.4,1.4,0,0,0,.653,0A15.916,15.916,0,0,1,96.93.73H97.6a11.592,11.592,0,0,1,4.649-.423c3.136.129,6.292.148,9.436.057A201.717,201.717,0,0,0,136.493.2a9.383,9.383,0,0,1,4.095.309h.673c2.453-.814,5.222-.456,7.913-.383,3.572.2,7.176.288,10.781.26a50.926,50.926,0,0,1,6.686,0c2.888.317,5.934,0,8.763.244,2.832.189,5.7.284,8.565.285L185.1.958c2.561.178,5.158.254,7.754.228h1.128c2.631.057,5.242.285,7.913.269,3.284,0,6.508.3,9.772.309,1.978.171,4.095.2,6.132.334,1.325.269,3.046.065,4.154.578a26.89,26.89,0,0,0,4.609.309c3.714,0,7.407.131,11.052.392,2.834.211,5.7.235,8.571.333,2.651.3,5.519,0,8.091.5,3.422,0,6.864,0,10.306.081.732,0,1.741.1,1.642.513s-.91.586-1.978.383c-2.512-.09-5-.155-6.132,1.083-.771.814-2.334.562-3.778.488-1.306.228-2.769.147-4.075.358-.652.055-1.313.091-1.978.106-3.778.078-7.522.335-11.157.765,1.978.676,3.027,1.555,5.479,1.758a10.354,10.354,0,0,1,3.462.334c-.138,1.026-2.275.586-3.521.814a3.213,3.213,0,0,1-.93-.065.031.031,0,0,0,0,.057h9.653a4.468,4.468,0,0,1,2.235.448c-.593.814-2.572.521-3.857.814-.989.212-2.809.187-1.325.961q.444.215.949.407a69.98,69.98,0,0,0,7.28.155c.777-.028,1.558-.028,2.334,0,1.978.147,2.572.44.989,1.156-2.611,1.188-5.934,2.165-7.319,3.769,4.233,0,8.664.041,13.1,0,2.1.4,2.136.92.574,1.547-.493.221-.756.514-.732.814.277.35.178.733.514,1.074,1.365,1.384,1.207,1.547-2.1,2.068-2.064.36-4.211.633-6.409.814-3.818.049-7.576.521-11.434.309-3.956-.554-8.091.212-12.126-.081a55.789,55.789,0,0,0-11.869.147,15.064,15.064,0,0,1-5.044.488H193.858a33.325,33.325,0,0,0-4.609.179c-1.474.085-2.963.118-4.451.1-10.9,0-21.759.081-32.7,0a28.531,28.531,0,0,0-4.273.187,54.277,54.277,0,0,1-6.093.106h-1.286q-3.8.085-7.6,0h-1.167a35.951,35.951,0,0,1-4.194-.1,65.578,65.578,0,0,0-8.585-.2c-5.4.065-10.84-.106-16.221.163A39.063,39.063,0,0,1,98,26.289q-.553.012-1.108,0c-3.125,0-6.251.106-9.376.049a73.383,73.383,0,0,0-8.249,0c-3.2.2-6.488-.138-9.673.187-2.053.144-4.129.223-6.211.236-3.323-.366-6.587.342-9.891.106-.375-.008-.746-.032-1.108-.073a55.413,55.413,0,0,0-6.587-.179c-2.947-.09-5.934-.236-8.822-.342q-1.269-.144-2.572-.228c-1.668-.079-3.346-.117-5.024-.114-3.244-.472-6.726-.22-10.009-.521-.9-.111-1.551-.431-1.662-.814l-1.444-.537c-.593-.236-1.523-.26-1.978-.529L13,23.188A8.056,8.056,0,0,1,10.229,22.578Z",transform:"translate(0.002 0.014)",fill:t})}):void 0}var oe=n(184),le=n.n(oe),ue=function(e){var t=e.list,n=e.type,s=Object(r.useContext)(re);return Object(a.jsxs)("button",{onClick:function(){var e=Object(x.a)(s.hiddenLists);if(e.includes(t._id)){var n=e.indexOf(t._id);e.splice(n,1)}else e.push(t._id);s.setHiddenLists(e)},className:"".concat(le.a.submit," ").concat(s.hiddenLists.includes(t._id)&&le.a.opacity),children:[Object(a.jsx)(ie,{color:t.color||"#A6A48E",type:n}),Object(a.jsx)("div",{className:le.a.name,title:t.name,children:t.name})]})},de=n(358),je=n.n(de),be=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{onClick:e.hideForm,className:je.a.transparent}),e.children]})},me=n(52),pe=n.n(me),he=(n(127),n(25)),Oe=n.n(he),fe=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){var t=function(t){null===e.current||e.current.contains(t.target)||s(!a)};return a&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}),[a,e]),[a,s]},xe=n(51),_e=n(80),ve=n.n(_e),ge=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:ve.a["transparent-confirm"]}),Object(a.jsx)("div",{className:ve.a.container,children:Object(a.jsxs)("div",{className:ve.a.content,children:[Object(a.jsx)("div",{className:ve.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"194",height:"142"})}),Object(a.jsx)("div",{className:ve.a.title,children:"Are you sure you want to ".concat(e.title,"?")}),Object(a.jsxs)("div",{className:ve.a.buttons,children:[Object(a.jsx)(G,{className:ve.a.button,title:"Yes",onClick:function(){e.hideConfirm(),e.onConfirm()}}),Object(a.jsx)(G,{className:ve.a.button,title:"No",onClick:function(){return e.hideConfirm()}})]})]})})]})};function Ne(e){var t=I(),n=Object(r.useState)([]),s=Object(l.a)(n,2),c=s[0],i=s[1],u=Object(r.useContext)(p),d=Object(r.useContext)(C),m=Object(r.useRef)(null),h=fe(m),O=Object(l.a)(h,2),f=O[0],_=O[1],N=Object(r.useState)(!1),k=Object(l.a)(N,2),w=k[0],y=k[1],S=Object(r.useState)(""),P=Object(l.a)(S,2),D=P[0],F=P[1],E=Object(r.useState)(e.project.membersRoles),A=Object(l.a)(E,2),M=A[0],L=A[1],H=e.admin,z=Object(j.g)(),R=e.project._id,B=Object(j.h)(),U=Object(r.useState)(!1),G=Object(l.a)(U,2),J=G[0],Y=G[1],V=Object(r.useState)(""),K=Object(l.a)(V,2),Z=K[0],q=K[1],Q=Object(r.useState)(""),X=Object(l.a)(Q,2),$=X[0],ee=X[1],te=Object(r.useCallback)((function(){t.emit("project-update",e.project),t.emit("team-update",B.teamid)}),[t,e,B.teamid]);function ne(){return(ne=Object(g.a)(v.a.mark((function e(t){var n,a,r,s,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=3;break}return console.log("no destination"),e.abrupt("return");case 3:if(n=t.draggableId,M.filter((function(e){return e._id===n}))[0].memberId._id!==u.user.id){e.next=8;break}return console.log("can`t move self"),e.abrupt("return");case 8:if(a=M.filter((function(e){return e._id===n}))[0].admin,"admins"!==t.destination.droppableId||!a){e.next=11;break}return e.abrupt("return");case 11:if("members"!==t.destination.droppableId||a){e.next=13;break}return e.abrupt("return");case 13:return r=Object(x.a)(M),s=r.filter((function(e){return e._id!==n})),(c=M.filter((function(e){return e._id===n}))[0]).admin=!a,s.push(c),L(s),i=b("x-auth-token"),e.next=22,fetch("/api/projects/".concat(R,"/user-roles"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({userRole:n,isAdmin:!a})});case 22:e.sent.ok?te():z.push("/error");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(){var t=Object(g.a)(v.a.mark((function t(n){var a,r,s,c,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.project._id,n._id!==u.user.id){t.next=3;break}return t.abrupt("return");case 3:return r=n._id,s=b("x-auth-token"),t.next=7,fetch("/api/projects/".concat(a,"/user-remove"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({memberId:r})});case 7:t.sent.ok?(te(),c=Object(x.a)(M),i=c.filter((function(e){return e.memberId._id!==r})),L(i)):z.push("/error");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return _(!f),e.abrupt("return");case 3:return n=b("x-auth-token"),e.next=6,fetch("/api/projects/".concat(R,"/user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({member:t,admin:!1})});case 6:if((a=e.sent).ok){e.next=11;break}z.push("/error"),e.next=21;break;case 11:return e.next=13,a.json();case 13:r=e.sent,te(),r.memberId=t,_(!f),(s=Object(x.a)(M)).push(r),L(s),i([]);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a,r,s,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c.length){e.next=14;break}return t="",d.teams.map((function(e){return e.projects.map((function(n){return n._id===R&&(t=e._id),t}))})),n=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(a=e.sent).ok||z.push("/error"),e.next=10,a.json();case 10:r=e.sent,s=r.members,o=s.filter((function(e){return!M.find((function(t){return t.memberId.username===e.username}))})),i(o);case 14:y(!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce={"delete this member":ae};return Object(a.jsxs)("div",{className:Oe.a.container,children:[J&&Object(a.jsx)(ge,{title:Z,hideConfirm:function(){return Y(!1)},onConfirm:function(){return ce[Z]($)}}),Object(a.jsx)("div",{className:Oe.a["big-container"],children:H?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:Oe.a["input-container"],children:[Object(a.jsx)("span",{className:Oe.a["text-invite"],children:"Add Members"}),Object(a.jsxs)("div",{className:Oe.a["invite-input"],children:[Object(a.jsx)("input",{className:Oe.a["members-input"],autoComplete:"off",value:D,onFocus:se,onBlur:function(){setTimeout((function(){return y(!1)}),120)},onChange:function(e){return F(e.target.value)},label:"Invite members",id:"members",placeholder:"Teammate Username"}),Object(a.jsx)("div",{className:Oe.a["select-for-invite"],children:w&&Object(a.jsx)("div",{className:Oe.a.members,children:c.filter((function(e){return e.username.toLowerCase().includes(D.toLowerCase())&&!e.username.includes(u.user.username)})).filter((function(e){return!M.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(a.jsx)(T,{className:Oe.a.user,onClick:function(){re(e)},title:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.username}),Object(a.jsx)("div",{className:Oe.a.email,children:e.email})]})},e._id)}))})})]})]}),Object(a.jsxs)(xe.a,{onDragEnd:function(e){return ne.apply(this,arguments)},children:[Object(a.jsxs)("div",{className:Oe.a["admins-container"],children:[Object(a.jsx)("span",{className:Oe.a.title,children:"Admins:"}),Object(a.jsx)(xe.c,{droppableId:"admins",children:function(e){return Object(a.jsxs)("div",Object(o.a)(Object(o.a)({className:Oe.a.droppable,ref:e.innerRef},e.droppableProps),{},{children:[M.filter((function(e){return!0===e.admin})).map((function(e,t){return Object(a.jsx)(xe.b,{draggableId:e._id,index:t,children:function(t){return Object(a.jsxs)("span",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:[Object(a.jsx)(W,{user:e.memberId,size:40}),t.placeholder]}))}},e.memberId._id)})),e.placeholder]}))}})]}),Object(a.jsxs)("div",{className:Oe.a["members-container"],children:[Object(a.jsx)("span",{className:Oe.a.title,children:"Members:"}),Object(a.jsx)(xe.c,{droppableId:"members",children:function(e){return Object(a.jsxs)("div",Object(o.a)(Object(o.a)({className:Oe.a["droppable-members"],ref:e.innerRef},e.droppableProps),{},{children:[M.filter((function(e){return!0!==e.admin})).map((function(e,t){return Object(a.jsx)(xe.b,{draggableId:e._id,index:t,children:function(t){return Object(a.jsxs)("span",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:[Object(a.jsx)(W,{user:e.memberId,size:40,round:!0,onClick:function(){Y(!0),q("delete this member"),ee(e.memberId)}}),t.placeholder]}))}},e.memberId._id)})),e.placeholder]}))}})]})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:Oe.a["admins-container"],children:[Object(a.jsx)("span",{className:Oe.a.title,children:"Admins:"}),Object(a.jsx)("div",{className:Oe.a.droppable,children:M.filter((function(e){return!0===e.admin})).map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(W,{user:e.memberId,size:40})},t)}))})]}),Object(a.jsxs)("div",{className:Oe.a["admins-container"],children:[Object(a.jsx)("span",{className:Oe.a.title,children:"Members:"}),Object(a.jsx)("div",{className:Oe.a.droppable,children:M.filter((function(e){return!0!==e.admin})).map((function(e,t){return Object(a.jsxs)("span",{children:["                                                                                                ",Object(a.jsx)(W,{user:e.memberId,size:40})]},t)}))})]})]})})]})}var ke=function(e,t){var n=t.find((function(t){return t.memberId._id===e}));return!!n&&n.admin};function Ce(e){var t=Object(r.useState)(e.project.name),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(e.project.description),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(e.project.isFinished),h=Object(l.a)(m,2),O=h[0],f=h[1],x=e.project.membersRoles,_=Object(r.useState)(!1),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(r.useState)(!1),y=Object(l.a)(w,2),T=y[0],S=y[1],P=Object(r.useContext)(p),D=Object(j.g)(),F=I(),E=Object(j.h)(),A=e.project._id,M=Object(r.useCallback)((function(){F.emit("project-update",e.project)}),[F,e]);function L(){return(L=Object(g.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("handle",O),a=b("x-auth-token"),t.next=5,fetch("/api/projects/".concat(A),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({name:s,description:u,isFinished:O})});case 5:t.sent.ok?(M(),e.hideForm(),F.emit("team-update",E.teamid)):D.push("/error");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=Object(g.a)(v.a.mark((function t(){var n,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b("x-auth-token"),t.next=3,fetch("/api/projects/".concat(e.project._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 3:t.sent.ok?(e.hideForm(),a={projectId:e.project._id,teamId:E.teamid},F.emit("project-deleted",a),D.push("/team/".concat(E.teamid))):D.push("/error");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){C(ke(P.user.id,x))}),[x,P.user.id,e]),Object(a.jsxs)("div",{className:pe.a.form,children:[T&&Object(a.jsx)(ge,{title:"delete this project",hideConfirm:function(){return S(!1)},onConfirm:function(){return function(){return H.apply(this,arguments)}()}}),Object(a.jsxs)("div",{className:pe.a.container,children:[Object(a.jsx)("div",{className:pe.a.title,children:"Project"}),Object(a.jsxs)("div",{className:pe.a["input-container"],children:[Object(a.jsx)("span",{children:" Name"}),Object(a.jsx)("input",{className:pe.a["input-pr-name"],value:s,onChange:function(e){return c(e.target.value)},label:"Name",id:"name"})]}),Object(a.jsxs)("div",{className:pe.a["input-container-descr"],children:[Object(a.jsx)("span",{children:" Description"}),Object(a.jsx)("textarea",{className:pe.a["text-area-descr"],value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description",placeholder:"Project Description",spellCheck:"false"})]}),Object(a.jsx)("div",{className:pe.a["edit-members"],children:Object(a.jsx)(Ne,{admin:k,project:e.project,members:x})})]}),Object(a.jsx)("div",{children:k?Object(a.jsxs)("div",{className:pe.a["buttons-div"],children:[Object(a.jsx)(G,{className:pe.a["navigate-buttons"],title:"Edit",onClick:function(e){return function(e){return L.apply(this,arguments)}(e)}}),Object(a.jsx)(G,{className:pe.a["navigate-buttons"],title:O?"Set Current":"Set Finished",onClick:function(){return f(!O)}}),Object(a.jsx)(G,{className:pe.a["navigate-buttons"],title:"Delete Project",onClick:function(){S(!0)}})]}):null})]})}function we(e){var t=e.asideOn,n=e.setAsideOn,s=Object(r.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(r.useContext)(re),N=Object(r.useContext)(p),k=I(),C=N.logIn;Object(r.useEffect)((function(){window.location.href.includes("project")&&(o(!0),x(!0))}),[]);var w=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=m(t),C(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]);return Object(r.useEffect)((function(){if(k)return k.on("message-sent",w),function(){return k.off("message-sent")}}),[k,w]),Object(a.jsxs)("div",{className:q.a.aside,children:[Object(a.jsxs)("aside",{className:q.a.container,children:[Object(a.jsx)("div",{className:q.a["top-left"],children:Object(a.jsx)(T,{className:q.a.hamburger,onClick:function(){return n(!t)},title:Object(a.jsx)("img",{className:q.a.options,src:X,alt:"menu",width:"32",height:"24"})})}),Object(a.jsx)(K,{href:"/",title:Object(a.jsx)("img",{src:$,alt:"home",width:"34",height:"32"})}),Object(a.jsx)(K,{href:"/my-tasks/".concat(N.user.id),title:Object(a.jsx)("img",{src:ee,alt:"my-tasks",width:"30",height:"25"})}),Object(a.jsx)(K,{href:"/inbox/".concat(N.user.id),title:Object(a.jsx)("img",{src:te,alt:"inbox",width:"33",height:"34"})}),f&&Object(a.jsx)(T,{className:q.a.settings,onClick:function(){return b(!j)},title:Object(a.jsx)("img",{className:q.a.options,src:ae,alt:"",width:"40"})}),0!==N.user.inbox.length&&Object(a.jsx)(K,{href:"/inbox/".concat(N.user.id),title:Object(a.jsx)("img",{src:ne,alt:"inbox",width:"33",height:"34"}),className:q.a.bell})]}),t&&Object(a.jsxs)("div",{className:q.a.menu,children:[Object(a.jsxs)("div",{className:q.a["top-right"],children:[Object(a.jsx)("div",{className:q.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"87",height:"65"})}),Object(a.jsx)(K,{href:"/",title:"Home",className:q.a.link}),Object(a.jsx)(K,{href:"/my-tasks/".concat(N.user.id),title:"My Tasks",className:q.a.link}),Object(a.jsx)(K,{href:"/inbox/".concat(N.user.id),title:"Inbox",className:q.a.link}),f&&Object(a.jsx)(T,{className:q.a.link,onClick:function(){return b(!j)},title:"Settings"})]}),i&&Object(a.jsx)("div",{className:q.a["bottom-right"],children:_.lists.map((function(e){return Object(a.jsx)(ue,{list:e,type:"aside"},e._id)}))})]}),j&&Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return b(!j)},children:Object(a.jsx)(Ce,{hideForm:function(){return b(!j)},project:_.project})})})]})}var ye=n(97),Te=n.n(ye),Se=n(252),Pe=n.n(Se);function De(e){for(var t=Object(r.useContext)(p),n=Object(j.g)(),s=Object(r.useContext)(C),c=t.user.teams,i=e.searchInput,o=[],l=0;l<c.length;l++){var u=c[l],d={name:"Team: ".concat(u.name),id:u._id,type:"team"};o.push(d);for(var b=0;b<u.projects.length;b++){var m=u.projects[b],h={name:"Project: ".concat(m.name),id:m._id,type:"project"};o.push(h)}}return Object(a.jsx)("div",{className:Pe.a["search-container"],children:o.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})).map((function(t,r){return Object(a.jsx)("div",{className:Pe.a.result,onClick:function(){!function(t){for(var a=0;a<c.length;a++){var r=c[a];r._id===t&&(n.push("/team/".concat(t)),s.updateSelectedTeam(r._id),e.hideForm());for(var i=0;i<r.projects.length;i++){var o=r.projects[i];o._id===t&&(n.push("/project-board/".concat(r._id,"/").concat(o._id)),s.updateSelectedTeam(r._id),e.hideForm())}}}(t.id)},children:t.name},r)}))})}var Ie=n(72),Fe=n.n(Ie),Ee=n.p+"static/media/search.a87ce9fc.svg",Ae=function(e){var t=e.asideOn,n=Object(r.useRef)(null),s=Object(r.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=fe(n),d=Object(l.a)(u,2),j=d[0],b=d[1],m=Object(r.useState)(!1),p=Object(l.a)(m,2),h=p[0],O=p[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:Fe.a["search-button"],onClick:function(){return O(!h)},children:Object(a.jsx)("img",{className:Fe.a["search-icon"],src:Ee,alt:"search"})}),Object(a.jsxs)("div",{className:h?t?"".concat(Fe.a["new-line"]," ").concat(Fe.a["search-fields"]," ").concat(Fe.a.small," "):"".concat(Fe.a["new-line"]," ").concat(Fe.a["search-fields"]):Fe.a["search-fields"],children:[Object(a.jsx)("input",{className:Fe.a.input,type:"text",placeholder:j?"Enter Project or Team name":"Search...",autoComplete:"off",value:i,onChange:function(e){return o(e.target.value)},onClick:function(){return b(!0)},onBlur:function(){setTimeout((function(){return b(!1)}),120),setTimeout((function(){return O(!h)}),120)}}),i.length>0&&j?Object(a.jsx)("div",{ref:n,children:Object(a.jsx)(De,{searchInput:i,hideForm:function(){b(!j),o("")}})}):null]})]})},Me=n(15),Le=n.n(Me),He=n(360),ze=n.n(He),Re=function(e){var t=e.title,n=e.href,r=e.className,s=e.onClick;return Object(a.jsx)(f.b,{to:n,className:"".concat(ze.a.link," ").concat(r),onClick:s,title:t,children:t})},We=n(361),Be=n.n(We),Ue=function(e){var t=e.title,n=e.onClick,r=e.type,s=e.className,c=e.children,i=e.style;return Object(a.jsxs)("button",{type:r||"button",onClick:n,className:"".concat(Be.a.clean," ").concat(s),style:i,title:t,children:[t,c]})};function Ge(){var e=Object(r.useContext)(C),t=Object(r.useRef)(null),n=Object(r.useState)(!1),s=Object(l.a)(n,2),c=s[0],i=s[1],o=fe(t),u=Object(l.a)(o,2),d=u[0],j=u[1];return Object(a.jsxs)("div",{className:"".concat(Le.a.container," ").concat(Le.a["team-media"]),children:[Object(a.jsx)("div",{className:Le.a.title,children:"Team:"}),Object(a.jsxs)("div",{className:Le.a["dropdown-container"],children:[Object(a.jsx)(Ue,{className:Le.a.button,onClick:function(){return j(!d)},title:e.selectedTeam}),d&&Object(a.jsxs)("div",{className:Le.a.dropdown,ref:t,children:[Object(a.jsx)("div",{className:Le.a["options-container"],children:e.teams.map((function(t){return Object(a.jsx)(Re,{href:"/team/".concat(t._id),title:t.name,onClick:function(){var n,a;n=t._id,a=t.name,e.getCurrentProjects(n),e.setSelectedTeam(a),j(!1)},className:Le.a.options},t._id)}))}),Object(a.jsx)(T,{onClick:function(){return i(!0)},title:"Create Team",className:"".concat(Le.a.options," ").concat(Le.a["last-option"])})]})]}),c&&Object(a.jsx)(be,{hideForm:function(){return i(!1)},children:Object(a.jsx)(J,{hideForm:function(){i(!1)}})})]})}var Je=n(36),Ye=n.n(Je);function Ve(e){var t=e.hideForm,n=Object(r.useState)(""),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(""),u=Object(l.a)(o,2),d=u[0],m=u[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),f=O[0],_=O[1],N=Object(r.useState)([]),k=Object(l.a)(N,2),C=k[0],w=k[1],y=Object(r.useState)(!1),S=Object(l.a)(y,2),P=S[0],D=S[1],F=Object(r.useState)([]),E=Object(l.a)(F,2),A=E[0],M=E[1],L=Object(r.useContext)(p),H=Object(j.g)(),z=Object(j.h)(),R=I(),B=function(){var e=Object(g.a)(v.a.mark((function e(n){var a,r,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==c){e.next=3;break}return e.abrupt("return");case 3:return a=z.teamid,r=b("x-auth-token"),e.next=7,fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:c,description:d,teamId:a,members:C})});case 7:if((s=e.sent).ok){e.next=13;break}return H.push("/error"),e.abrupt("return");case 13:return e.next=15,s.json();case 15:i=e.sent,t&&t(),R.emit("team-update",a),H.push("/project-board/".concat(a,"/").concat(i._id));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),t=z.teamid,0!==A.length){e.next=12;break}return n=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(a=e.sent).ok||H.push("/error"),e.next=10,a.json();case 10:r=e.sent,M(r.members);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:Ye.a.container,children:[Object(a.jsx)("div",{className:Ye.a.title,children:"Create New Project"}),Object(a.jsxs)("div",{className:Ye.a["input-container"],children:[Object(a.jsx)("span",{children:" Name"}),Object(a.jsx)("input",{className:Ye.a["input-name"],value:c,onChange:function(e){return i(e.target.value)},label:"Name",id:"name",placeholder:"Project Name",autoComplete:"off"})]}),Object(a.jsxs)("div",{className:Ye.a["input-container-descr"],children:[Object(a.jsx)("span",{children:" Description"}),Object(a.jsx)("textarea",{className:Ye.a["text-area-descr"],value:d,onChange:function(e){return m(e.target.value)},label:"Description",id:"description",placeholder:"Project Description",spellCheck:"false"})]}),Object(a.jsxs)("div",{className:Ye.a["input-container"],children:[Object(a.jsx)("span",{className:Ye.a["text-invite"],children:"Add Members"}),Object(a.jsxs)("div",{className:Ye.a["invite-input"],children:[Object(a.jsx)("input",{className:Ye.a["members-input"],autoComplete:"off",value:f,onFocus:U,onBlur:function(){setTimeout((function(){return D(!1)}),120)},onChange:function(e){return _(e.target.value)},label:"Invite members",id:"members",placeholder:"Teammate Username"}),Object(a.jsx)("div",{className:Ye.a["select-for-invite"],children:P&&Object(a.jsx)("div",{className:Ye.a.members,children:A.filter((function(e){return e.username.toLowerCase().includes(f.toLowerCase())&&!e.username.includes(L.user.username)})).filter((function(e){return!C.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(a.jsx)(T,{className:Ye.a.user,onClick:function(){return function(e){var t=Object(x.a)(C);t.push(e),w(t),D(!1),_("")}(e)},title:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.username}),Object(a.jsx)("div",{className:Ye.a.email,children:e.email})]})},e._id)}))})})]})]}),Object(a.jsx)("div",{className:Ye.a["members-avatars"],children:C.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(W,{user:e,onClick:function(){return function(e){var t=C.filter((function(t){return t._id!==e._id}));w(t)}(e)},size:40})},t)}))}),Object(a.jsx)("div",{className:Ye.a["button-div"],children:Object(a.jsx)(G,{onClick:function(e){return B(e)},title:"Create",className:Ye.a["create-button"]})})]})}function Ke(){var e=Object(r.useContext)(C),t=Object(r.useContext)(re),n=Object(j.h)(),s=Object(r.useRef)(null),c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)(!1),b=Object(l.a)(d,2),m=b[0],p=b[1],h=fe(s),O=Object(l.a)(h,2),f=O[0],x=O[1];return Object(r.useEffect)((function(){!0===t.project.isFinished?p(!0):p(!1)}),[t.project.isFinished]),Object(a.jsxs)("div",{className:"".concat(Le.a.container," ").concat(Le.a["project-media"]),children:[Object(a.jsx)("div",{className:Le.a.title,children:"Project:"}),Object(a.jsxs)("div",{className:Le.a["dropdown-container"],children:[Object(a.jsx)(Ue,{className:Le.a.button,onClick:function(){return x(!f)},title:t.project.name}),f&&Object(a.jsxs)("div",{ref:s,className:Le.a.dropdown,children:[Object(a.jsx)("div",{className:Le.a["options-container"],children:e.currentProjects.filter(m?function(e){return!0===e.isFinished}:function(e){return!1===e.isFinished||void 0===e.isFinished}).reverse().map((function(e){return Object(a.jsx)(Re,{href:"/project-board/".concat(n.teamid,"/").concat(e._id),title:e.name,onClick:function(){x(!1)},className:Le.a.options},e._id)}))}),Object(a.jsx)(T,{onClick:function(){return u(!0)},title:"Create Project",className:"".concat(Le.a.options," ").concat(Le.a["last-option"])})]})]}),o&&Object(a.jsx)(be,{hideForm:function(){return u(!1)},children:Object(a.jsx)(Ve,{hideForm:function(){return u(!1)}})})]})}function Ze(){var e=Object(j.g)(),t=Object(j.h)(),n=Object(r.useContext)(re),s=Object(r.useRef)(null),c=fe(s),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)(null),b=Object(l.a)(d,2),m=b[0],p=b[1];return Object(r.useEffect)((function(){window.location.href.includes("board")&&p("Board"),window.location.href.includes("list")&&p("List")}),[]),Object(a.jsxs)("div",{className:Le.a.container,children:[Object(a.jsx)("div",{className:Le.a.title,children:"View:"}),Object(a.jsxs)("div",{className:Le.a["dropdown-container"],children:[Object(a.jsx)(T,{className:Le.a.button,onClick:function(){return u(!o)},title:m}),o&&Object(a.jsxs)("div",{ref:s,className:Le.a.dropdown,children:[Object(a.jsx)(T,{title:"Board",className:Le.a.options,onClick:function(){e.push("/project-board/".concat(t.teamid,"/").concat(n.project._id)),u(!1)}}),Object(a.jsx)(T,{title:"List",className:"".concat(Le.a.options," ").concat(Le.a["last-option"]),onClick:function(){e.push("/project-list/".concat(t.teamid,"/").concat(n.project._id)),u(!1)}})]})]})]})}function qe(){var e=Object(r.useRef)(null),t=Object(j.g)(),n=Object(r.useContext)(p),s=fe(e),c=Object(l.a)(s,2),i=c[0],o=c[1];return Object(a.jsxs)("div",{className:Le.a["dropdown-container"],children:[Object(a.jsx)(T,{className:Le.a.avatar,onClick:function(){return o(!i)},title:Object(a.jsx)(W,{user:n.user,size:40})}),i&&Object(a.jsxs)("div",{ref:e,className:"".concat(Le.a.dropdown," ").concat(Le.a.profile),children:[Object(a.jsx)(T,{title:"Profile",className:"".concat(Le.a.options," ").concat(Le.a.profile),onClick:function(){return t.push("/profile/".concat(n.user&&n.user.id))}}),Object(a.jsx)(T,{onClick:n.logOut,title:"Log Out",className:"".concat(Le.a.options," ").concat(Le.a["last-option"]," ").concat(Le.a.profile)})]})]})}var Qe=function(e){var t=e.asideOn,n=Object(r.useState)(!1),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(r.useContext)(re),h=Object(r.useContext)(C),O=Object(j.h)(),f=Object(j.g)(),x=I(),_=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var t,n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.projectid,n=b("x-auth-token"),e.next=4,fetch("/api/projects/info/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 4:if((a=e.sent).ok){e.next=9;break}f.push("/error"),e.next=13;break;case 9:return e.next=11,a.json();case 11:r=e.sent,p.setProject(r);case 13:case"end":return e.stop()}}),e)}))),[f,O,p]),N=Object(r.useCallback)((function(e){e===O.teamid&&f.push("/")}),[f,O.teamid]),k=Object(r.useCallback)((function(e){e===O.projectid&&f.push("/team/".concat(O.teamid))}),[f,O.projectid,O.teamid]);return Object(r.useEffect)((function(){if(window.location.href.includes("team")||window.location.href.includes("project")){if("Select"===h.selectedTeam){var e=O.teamid;h.updateSelectedTeam(e)}window.location.href.includes("project")&&(m(!0),i(!0),h.getCurrentProjects(O.teamid),null!==p.project&&p.project._id===O.projectid||_())}else h.setSelectedTeam("Select")}),[_,O,O.teamid,p.project,h]),Object(r.useEffect)((function(){if((window.location.href.includes("team")||window.location.href.includes("project"))&&null!=x)return x.on("team-deleted",N),function(){return x.off("team-deleted")}}),[N,x]),Object(r.useEffect)((function(){if(window.location.href.includes("project")&&null!=x)return x.on("project-deleted",k),function(){return x.off("project-deleted")}}),[k,x]),window.location.href.includes("project")&&!p.project?null:Object(a.jsx)("header",{className:"".concat(Te.a.navigation," ").concat(t?Te.a.small:""),children:Object(a.jsxs)("div",{className:Te.a.container,children:[Object(a.jsxs)("div",{className:Te.a.links,children:[Object(a.jsx)(Ge,{}),c&&Object(a.jsx)(Ke,{}),d&&Object(a.jsx)(Ze,{})]}),Object(a.jsxs)("div",{className:"".concat(Te.a.links," ").concat(Te.a.font),children:[Object(a.jsx)(Ae,{asideOn:t}),Object(a.jsx)(qe,{})]})]})})},Xe=n(185),$e=n.n(Xe),et=function(e){var t=e.children,n=e.contentClassName,s=Object(r.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1];return Object(a.jsxs)("div",{className:$e.a.app,children:[Object(a.jsx)(we,{asideOn:i,setAsideOn:o}),Object(a.jsx)(Qe,{asideOn:i}),Object(a.jsx)("div",{className:n||"".concat($e.a.content," ").concat(i?$e.a.small:""),children:t})]})},tt=n(362),nt=n.n(tt),at=function(e){var t=e.title;return Object(a.jsx)("div",{className:nt.a.title,children:t})},rt=n(45),st=n.n(rt),ct=n.p+"static/media/home-page-pic.50bdb1b7.svg",it=n(363),ot=n.n(it),lt=function(e){var t=e.title,n=e.onClick,r=e.className;return Object(a.jsx)("button",{onClick:n,className:"".concat(ot.a.button," ").concat(r),title:t,children:t})},ut=function(){var e=Object(r.useRef)(null),t=Object(r.useContext)(p),n=Object(j.g)(),s=Object(r.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1],u=fe(e),d=Object(l.a)(u,2),b=d[0],m=d[1],h=t.user.username,O=t.user.teams,f=t.user._id,x=t.user.recentProjects;return Object(a.jsxs)(et,{children:[Object(a.jsx)("div",{children:i?Object(a.jsx)(be,{hideForm:function(){return o(!1)},children:Object(a.jsx)(J,{hideForm:function(){o(!1)}})}):null}),Object(a.jsx)(at,{title:"Home"}),Object(a.jsxs)("div",{className:st.a.container,children:[Object(a.jsxs)("span",{className:st.a["left-buttons"],children:[Object(a.jsx)("div",{children:Object(a.jsx)(lt,{className:st.a["navigate-buttons"],title:"My Tasks",onClick:function(){return n.push("/my-tasks/".concat(f))}})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(lt,{className:st.a["navigate-buttons"],title:"My Teams",onClick:function(){return m(!b)}}),Object(a.jsx)("span",{children:Object(a.jsx)("div",{className:st.a["select-team-container"],children:b?Object(a.jsx)("div",{className:st.a["teams-home"],ref:e,children:O.length>0?O.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)("div",{className:st.a["navigate-buttons-teams"],onClick:function(){return t=e._id,void n.push("/team/".concat(t));var t},title:e.name,children:e.name})},t)})):"You haven't joined any teams yet"}):null})})]}),Object(a.jsx)("div",{children:Object(a.jsx)(lt,{className:st.a["navigate-buttons"],title:"Create New Team",onClick:function(){return o(!0)}})})]}),Object(a.jsxs)("div",{className:st.a["pic-container"],children:[Object(a.jsx)("img",{className:st.a.pic1,src:ct,alt:""}),Object(a.jsx)("div",{className:st.a["welcome-user"],children:"Welcome ".concat(h,"!")}),Object(a.jsx)(lt,{className:st.a["navigate-buttons"],title:"Get Started",onClick:function(){return n.push("/get-started/")}})]}),Object(a.jsx)("span",{className:st.a["right-buttons"],children:x?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:"Recent projects:"}),x.slice(0).reverse().map((function(e,t){return Object(a.jsx)("div",{children:Object(a.jsx)(lt,{className:st.a["navigate-buttons"],title:e.name,onClick:function(){return t=e._id,void O.map((function(e){return e.projects.forEach((function(a){a._id===t&&n.push("/project-board/".concat(e._id,"/").concat(t))}))}));var t}})},e._id)}))]}):null})]})]})},dt=n(12),jt=n.n(dt),bt=n.p+"static/media/welcome-page-1.346d3517.svg",mt=n.p+"static/media/welcome-page-2.73d5ef5e.svg",pt=n.p+"static/media/welcome-page-3.5a073b3b.svg",ht=n.p+"static/media/welcome-page-4.5b854b1a.svg",Ot=n.p+"static/media/welcome-page-5.a24b3016.svg",ft=n.p+"static/media/welcome-page-6.2c79ee8c.svg",xt=n.p+"static/media/instagram-icon.1043ced2.svg",_t=n.p+"static/media/twitter-icon.0f92d6a5.svg",vt=n.p+"static/media/facebook-icon.529cf39a.svg",gt=n(107),Nt=n.n(gt),kt=n(35),Ct=n.n(kt),wt=function(){var e=Object(g.a)(v.a.mark((function e(t,n,a,r,s){var c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:n,body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 3:return c=e.sent,i=c.headers.get("Authorization"),e.next=7,c.json();case 7:if(!(o=e.sent).needPassword){e.next=11;break}return s(o),e.abrupt("return");case 11:if(!o.wrongPassword){e.next=14;break}return s(o),e.abrupt("return");case 14:if(!o.wrongUser){e.next=17;break}return s(o),e.abrupt("return");case 17:if(!o.exist){e.next=20;break}return s(o),e.abrupt("return");case 20:document.cookie="x-auth-token=".concat(i,";path=/"),o.user.username&&i?r(m(o)):s(o),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),s(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),yt=function(){var e=Object(g.a)(v.a.mark((function e(t,n,a){var r,s,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.tokenId,e.next=4,fetch("/api/user/google-login",{method:"POST",body:JSON.stringify({tokenId:r}),headers:{"Content-Type":"application/json"}});case 4:return s=e.sent,c=s.headers.get("Authorization"),document.cookie="x-auth-token=".concat(c,";path=/"),e.next=9,s.json();case 9:(i=e.sent).user.username&&c?n(m(i)):a(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Tt=n(41),St=n.n(Tt),Pt=n(364),Dt=n.n(Pt);function It(e){return Object(a.jsx)("div",{children:e.alert?Object(a.jsx)("div",{className:Dt.a.alert,children:e.message}):null})}var Ft=function(){var e=Object(g.a)(v.a.mark((function e(t,n,a,r,s){var c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=b("x-auth-token"),e.next=4,fetch(t,{method:n,body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:c}});case 4:return i=e.sent,e.next=7,i.json();case 7:(o=e.sent).user.username?r(m(o)):s(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}();function Et(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(!1),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(!1),x=Object(l.a)(f,2),_=x[0],N=x[1],k=Object(r.useContext)(p),C=Object(j.g)(),w=e.userId,y=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),O(!1),N(!1),s&&u){e.next=6;break}return N(!0),e.abrupt("return");case 6:if(s===u){e.next=9;break}return O(!0),e.abrupt("return");case 9:return e.next=11,Ft("/api/user/addNewPassword/".concat(w),"PUT",{password:s},(function(e){k.logIn(e.user),console.log(k.user),C.push("/")}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C,k,s,u,w]);return Object(a.jsx)("form",{className:St.a.container,children:Object(a.jsxs)("div",{className:St.a["inner-container"],children:[Object(a.jsx)("div",{className:St.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"110",height:"100"})}),Object(a.jsxs)("div",{className:St.a["right-side"],children:[Object(a.jsxs)("div",{className:St.a.alerts,children:[Object(a.jsx)(It,{alert:h,message:"Passwords do not match"}),Object(a.jsx)(It,{alert:_,message:"Please fill all fileds"})]}),Object(a.jsx)("div",{className:St.a.title,children:"Add password to user"}),Object(a.jsxs)("div",{className:St.a["input-container"],children:[Object(a.jsx)("div",{children:" Password:"}),Object(a.jsx)("input",{placeholder:"********",className:St.a["pass-input"],type:"password",value:s,onChange:function(e){return c(e.target.value)},label:"New Password",id:"password"}),Object(a.jsxs)("div",{className:St.a["pass-instructions"],children:[Object(a.jsx)("p",{children:"Use 8 or more characters with a mix "}),Object(a.jsx)("p",{children:"of letters, numbers & symbols. "})]})]}),Object(a.jsxs)("div",{className:St.a["input-container"],children:[Object(a.jsx)("div",{children:" Confirm Password:"}),Object(a.jsx)("input",{placeholder:"********",className:St.a["pass-input"],type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"Confirm Password",id:"rePassword"})]}),Object(a.jsx)("div",{className:St.a["new-pass-alert"],children:"Important!!! You have to activate your new password by following the link sent to your email. You have to do this in the next hour in order for your new password to be activated"}),Object(a.jsx)("div",{className:St.a["button-div-login"],children:Object(a.jsx)("button",{type:"submit",className:St.a["login-button"],onClick:y,children:"Submit"})}),Object(a.jsx)("div",{className:St.a["text-login"],children:"User was registered with Google. Please add password for this Website"})]})]})})}var At=n.p+"static/media/google.2cf12fa6.svg",Mt=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(!1),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),_=x[0],N=x[1],k=Object(r.useContext)(p),C=Object(j.g)(),w=Object(r.useState)(!1),y=Object(l.a)(w,2),T=y[0],S=y[1],P=Object(r.useState)(!1),D=Object(l.a)(P,2),I=D[0],F=D[1],E=Object(r.useState)(!1),A=Object(l.a)(E,2),M=A[0],L=A[1],H=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),S(!1),F(!1),L(!1),s&&u){e.next=7;break}return S(!0),e.abrupt("return");case 7:return e.next=9,wt("/api/user/login","POST",{email:u,password:s},(function(e){k.logIn(e),C.push("/")}),(function(e){e.needPassword&&(N(e.userId),O(!0)),e.wrongPassword&&F(!0),e.wrongUser&&L(!0),console.log("Error",e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){O(!1)};return Object(a.jsxs)("div",{children:[h?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:z,children:Object(a.jsx)(Et,{hideForm:z,userId:_,email:u})})}):null,Object(a.jsx)("form",{className:Ct.a.container,onSubmit:H,children:Object(a.jsxs)("div",{className:Ct.a["inner-container"],children:[Object(a.jsx)("div",{className:Ct.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"110",height:"100"})}),Object(a.jsxs)("div",{className:Ct.a["right-side"],children:[Object(a.jsxs)("div",{className:Ct.a.alerts,children:[Object(a.jsx)(It,{alert:T,message:"Please fill all fileds"}),Object(a.jsx)(It,{alert:I,message:"Wrong Password"}),Object(a.jsx)(It,{alert:M,message:"Please fill valid email address"})]}),Object(a.jsx)("div",{className:Ct.a.title,children:"Log In with E-mail"}),Object(a.jsxs)("div",{className:Ct.a["input-container"],children:[Object(a.jsx)("div",{children:" Email:"}),Object(a.jsx)("input",{className:Ct.a["email-input"],placeholder:"John@example.com",value:u,onChange:function(e){return d(e.target.value)},label:"Email",id:"email"})]}),Object(a.jsxs)("div",{className:Ct.a["input-container"],children:[Object(a.jsx)("div",{children:" Password:"}),Object(a.jsx)("input",{className:Ct.a["pass-input"],placeholder:"********",type:"password",value:s,onChange:function(e){return c(e.target.value)},label:"Password",id:"password"})]}),Object(a.jsx)("div",{className:Ct.a["button-div-login"],children:Object(a.jsx)("button",{type:"submit",className:Ct.a["login-button"],children:"Log In"})}),Object(a.jsxs)("div",{className:Ct.a["text-div"],children:[Object(a.jsx)("p",{className:Ct.a["forgot-pass"],onClick:function(){e.goToForgotPassword(),e.hideForm()},children:"Forgot Password?"}),Object(a.jsxs)("p",{className:Ct.a["new-to-sm"],children:["New to Smart Manager?",Object(a.jsx)("button",{className:Ct.a["sign-up-btn"],onClick:function(){e.goToSignUp(),e.hideForm()},children:"Sign Up"})]}),Object(a.jsx)("h3",{children:"or"})]}),Object(a.jsx)("div",{className:Ct.a["button-div-google-login"],children:Object(a.jsx)(Nt.a,{render:function(e){return Object(a.jsxs)("button",{onClick:e.onClick,className:Ct.a["google-login-btn"],children:[Object(a.jsx)("img",{src:At,alt:"logo",width:"25",height:"25"}),"Log In with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){yt(e,(function(e){k.logIn(e),C.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})})]})]})})]})},Lt=n(24),Ht=n.n(Lt),zt=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(""),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),_=x[0],N=x[1],k=Object(r.useState)(!1),C=Object(l.a)(k,2),w=C[0],y=C[1],T=Object(r.useState)(!1),S=Object(l.a)(T,2),P=S[0],D=S[1],I=Object(r.useState)(!1),F=Object(l.a)(I,2),E=F[0],A=F[1],M=Object(r.useState)(!1),L=Object(l.a)(M,2),H=L[0],z=L[1],R=Object(r.useContext)(p),W=Object(j.g)();function B(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}var U=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),z(!1),y(!1),D(!1),A(!1),B(h)){e.next=9;break}return z(!0),e.abrupt("return");case 9:if(u===_){e.next=12;break}return y(!0),e.abrupt("return");case 12:if(s&&u&&_&&h){e.next=15;break}return D(!0),e.abrupt("return");case 15:return e.next=17,wt("/api/user/register","POST",{email:h,username:s,password:u},(function(e){R.logIn(e),W.push("/")}),(function(e){e.exist&&A(!0)}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("form",{className:Ht.a.container,onSubmit:U,children:Object(a.jsxs)("div",{className:Ht.a["inner-container"],children:[Object(a.jsx)("div",{className:Ht.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"110",height:"100"})}),Object(a.jsxs)("div",{className:Ht.a["right-side"],children:[Object(a.jsxs)("div",{className:Ht.a.alerts,children:[Object(a.jsx)(It,{alert:w,message:"Passwords do not match"}),Object(a.jsx)(It,{alert:E,message:"User with this email already exists"}),Object(a.jsx)(It,{alert:P,message:"Please fill all fileds"}),Object(a.jsx)(It,{alert:H,message:"Please enter valid email address"})]}),Object(a.jsx)("div",{className:Ht.a.title,children:"Sign Up with E-mail"}),Object(a.jsxs)("div",{className:Ht.a["input-container"],children:[Object(a.jsx)("div",{children:" Username:"}),Object(a.jsx)("input",{placeholder:"John Smith",className:Ht.a["sign-up-input"],value:s,onChange:function(e){return c(e.target.value)},label:"Username",id:"username"})]}),Object(a.jsxs)("div",{className:Ht.a["input-container"],children:[Object(a.jsx)("div",{children:" Email:"}),Object(a.jsx)("input",{placeholder:"John@example.com",className:Ht.a["sign-up-input"],value:h,onChange:function(e){return O(e.target.value)},label:"Email",id:"email"})]}),Object(a.jsxs)("div",{className:Ht.a["input-container"],children:[Object(a.jsx)("div",{children:" Password:"}),Object(a.jsx)("input",{placeholder:"********",className:Ht.a["sign-up-input"],type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"Password",id:"password"}),Object(a.jsxs)("div",{className:Ht.a["pass-instructions"],children:[Object(a.jsx)("p",{children:"Use 8 or more characters with a"}),Object(a.jsx)("p",{children:"mix of letters, numbers & symbols. "})]})]}),Object(a.jsxs)("div",{className:Ht.a["input-container"],children:[Object(a.jsx)("div",{children:" Re-type Password:"}),Object(a.jsx)("input",{placeholder:"********",className:Ht.a["sign-up-input"],type:"password",value:_,onChange:function(e){return N(e.target.value)},label:"Re-Password",id:"re-password"})]}),Object(a.jsx)("div",{className:Ht.a["button-div-login"],children:Object(a.jsx)("button",{type:"submit",className:Ht.a["sign-up-button"],children:"Get Started"})}),Object(a.jsx)("div",{className:Ht.a["text-div"],children:Object(a.jsx)("h3",{children:"or"})}),Object(a.jsx)("div",{className:Ht.a["button-div-google-login"],children:Object(a.jsx)(Nt.a,{render:function(e){return Object(a.jsxs)("button",{onClick:e.onClick,className:Ht.a["google-login-btn"],children:[Object(a.jsx)("img",{src:At,alt:"logo",width:"25",height:"25"}),"Sign Up with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Sign up with Google",onSuccess:function(e){yt(e,(function(e){R.logIn(e),W.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})}),Object(a.jsx)("div",{className:Ht.a["text-div"],children:Object(a.jsxs)("p",{className:Ht.a["already-sign-up"],children:["Already Sign Up?",Object(a.jsx)("button",{className:Ht.a["sign-up-btn"],onClick:function(){e.goToLogin(),e.hideForm()},children:"Log In"})]})})]})]})})},Rt=n(33),Wt=n.n(Rt),Bt=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(""),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useContext)(p),x=Object(j.g)(),_=Object(r.useState)(!1),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(r.useState)(!1),y=Object(l.a)(w,2),T=y[0],S=y[1],P=Object(r.useState)(!1),D=Object(l.a)(P,2),I=D[0],F=D[1],E=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C(!1),S(!1),F(!1),s&&u){e.next=7;break}return C(!0),e.abrupt("return");case 7:if(s===h){e.next=10;break}return S(!0),e.abrupt("return");case 10:return e.next=12,fetch("/api/user/login",{method:"POST",body:JSON.stringify({email:u,password:s}),headers:{"Content-Type":"application/json"}});case 12:return n=e.sent,e.next=15,n.json();case 15:if(!(a=e.sent).wrongUser){e.next=19;break}return F(!0),e.abrupt("return");case 19:console.log("Error",a),a.user?r=a.user._id:a.userId&&(r=a.userId),Ft("/api/user/addNewPassword/".concat(r),"PUT",{password:s},(function(e){f.logIn(e.user),x.push("/")}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{className:Wt.a.container,onSubmit:E,children:[Object(a.jsxs)("div",{className:Wt.a.alerts,children:[Object(a.jsx)(It,{alert:k,message:"Please fill all fileds"}),Object(a.jsx)(It,{alert:T,message:"Passwords do not match"}),Object(a.jsx)(It,{alert:I,message:"Please fill valid email address"})]}),Object(a.jsxs)("div",{className:Wt.a["inner-container"],children:[Object(a.jsx)("div",{className:Wt.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"110",height:"100"})}),Object(a.jsxs)("div",{className:Wt.a["right-side"],children:[Object(a.jsx)("div",{className:Wt.a.title,children:"Forgot Password Form"}),Object(a.jsxs)("div",{className:Wt.a["input-container"],children:[Object(a.jsx)("div",{children:" Email:"}),Object(a.jsx)("input",{className:Wt.a.emailInput,placeholder:"John@example.com",value:u,onChange:function(e){return d(e.target.value)},label:"Email",id:"email"})]}),Object(a.jsxs)("div",{className:Wt.a["input-container"],children:[Object(a.jsx)("div",{children:"New Password:"}),Object(a.jsx)("input",{className:Wt.a.passInput,placeholder:"********",type:"password",value:s,onChange:function(e){return c(e.target.value)},label:"Password",id:"password"})]}),Object(a.jsxs)("div",{className:Wt.a["input-container"],children:[Object(a.jsx)("div",{children:"Re-type New Password:"}),Object(a.jsx)("input",{className:Wt.a.passInput,placeholder:"********",type:"password",value:h,onChange:function(e){return O(e.target.value)},label:"Confirm Password",id:"rePassword"})]}),Object(a.jsx)("div",{className:Wt.a.buttonDivLogin,children:Object(a.jsx)("button",{type:"submit",className:Wt.a.loginButton,children:"Submit"})}),Object(a.jsxs)("div",{className:Wt.a.textDiv,children:[Object(a.jsxs)("p",{className:Wt.a.newToSmM,children:["New to Smart Manager?",Object(a.jsx)("button",{className:Wt.a.signUpBtn,onClick:function(){e.goToSignUp(),e.hideForm()},children:"Sign Up"})]}),Object(a.jsx)("h3",{children:"or"})]}),Object(a.jsx)("div",{className:Wt.a.buttonDivGoogleLogin,children:Object(a.jsx)(Nt.a,{render:function(e){return Object(a.jsxs)("button",{onClick:e.onClick,className:Wt.a.googleLoginBtn,children:[Object(a.jsx)("img",{src:At,alt:"logo",width:"25",height:"25"}),"Log In with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){yt(e,(function(e){f.logIn(e),x.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})})]})]})]})})},Ut=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)(!1),j=Object(l.a)(d,2),b=j[0],m=j[1];return Object(a.jsxs)("div",{className:jt.a.container,children:[n?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return s(!n)},children:Object(a.jsx)(Mt,{hideForm:function(){return s(!n)},goToSignUp:function(){return u(!o)},goToForgotPassword:function(){return m(!b)}})})}):null,o?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return u(!o)},children:Object(a.jsx)(zt,{hideForm:function(){return u(!o)},goToLogin:function(){return s(!n)}})})}):null,b?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return m(!b)},children:Object(a.jsx)(Bt,{hideForm:function(){return m(!b)},goToSignUp:function(){return u(!o)}})})}):null,Object(a.jsxs)("div",{className:jt.a["content-wrap"],children:[Object(a.jsxs)("div",{className:jt.a["top-container"],children:[Object(a.jsxs)("div",{className:jt.a["top-div-container"],children:[Object(a.jsxs)("div",{className:jt.a["header-nav"],children:[Object(a.jsx)("span",{className:jt.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"100%",height:"100%"})}),Object(a.jsxs)("span",{className:jt.a["first-buttons"],children:[Object(a.jsx)("button",{className:jt.a["login-button"],onClick:function(){return s(!n)},children:"Log In"}),Object(a.jsx)("button",{className:jt.a["sign-up-button"],onClick:function(){return u(!o)},children:"Sign Up"})]})]}),Object(a.jsx)("div",{className:jt.a.pic1,children:Object(a.jsx)("img",{src:bt,alt:"",width:"100%"})}),Object(a.jsx)("div",{className:jt.a.pic2,children:Object(a.jsx)("img",{src:mt,alt:"",width:"100%"})})]}),Object(a.jsx)("div",{className:jt.a["lower-div-container"],children:Object(a.jsxs)("div",{className:jt.a["first-text"],children:[Object(a.jsxs)("p",{className:jt.a.headers,children:["Manage your work in a ",Object(a.jsx)("span",{className:jt.a.lucida,children:"Smart"})," way! "]}),Object(a.jsxs)("div",{className:jt.a.paragraph,children:[Object(a.jsx)("p",{children:"The ideas get more clear, organized and focused on."}),Object(a.jsx)("p",{children:"Flexible and time saving for the whole team. "}),Object(a.jsx)("button",{className:jt.a["second-sign-up-button"],onClick:function(){return u(!o)},children:"Free Sign Up"})]})]})})]}),Object(a.jsxs)("div",{className:jt.a["second-container"],children:[Object(a.jsxs)("div",{className:jt.a["first-row"],children:[Object(a.jsxs)("div",{className:jt.a["second-text"],children:[Object(a.jsx)("p",{className:jt.a.headers,children:"Work and participate in different teams "}),Object(a.jsxs)("div",{className:jt.a.paragraph,children:[Object(a.jsx)("p",{children:"Follow who and when is doing tasks. Be always"}),Object(a.jsx)("p",{children:"informed with the accomplishment of the projects. "}),Object(a.jsx)("button",{className:jt.a["third-sign-up-button"],onClick:function(){return u(!o)},children:"Try It Now"})]})]}),Object(a.jsx)("div",{className:jt.a["pic3-container"],children:Object(a.jsx)("img",{className:jt.a.picture,src:pt,alt:""})})]}),Object(a.jsxs)("div",{className:jt.a["second-row"],children:[Object(a.jsx)("div",{className:jt.a["pic4-container"],children:Object(a.jsx)("img",{className:jt.a.picture,src:ht,alt:""})}),Object(a.jsxs)("div",{className:jt.a["second-row-colum"],children:[Object(a.jsxs)("div",{className:jt.a["second-text"],children:[Object(a.jsx)("p",{className:jt.a.headers,children:"\u0415\u0430sy to manage all the information"}),Object(a.jsxs)("div",{className:jt.a.paragraph,children:[Object(a.jsx)("p",{children:"Add stickers, notes, comments, attachments in your"}),Object(a.jsx)("p",{children:"  Smart Manager."}),Object(a.jsx)("p",{children:"Collaborate with others in your Team."})]})]}),Object(a.jsx)("div",{className:jt.a["second-row-pic"],children:Object(a.jsx)("img",{className:jt.a.picture,src:Ot,alt:""})})]})]}),Object(a.jsxs)("div",{className:jt.a["third-row"],children:[Object(a.jsxs)("div",{className:jt.a["second-text"],children:[Object(a.jsxs)("p",{className:jt.a.headers,children:["Start your ",Object(a.jsx)("span",{className:jt.a.lucida,children:"Smart Manager"})," Now "]}),Object(a.jsxs)("div",{className:jt.a.paragraph,children:[Object(a.jsxs)("p",{children:["Connect with other teams from ",Object(a.jsx)("span",{className:jt.a.lucida,children:"The Smart Family"}),","]}),Object(a.jsx)("p",{children:" save time with more work done."}),Object(a.jsx)("button",{className:jt.a["second-sign-up-button"],onClick:function(){return u(!o)},children:"Get Started"})]})]}),Object(a.jsx)("div",{className:jt.a["pic6-container"],children:Object(a.jsx)("img",{className:jt.a.picture,src:ft,alt:""})})]})]})]}),Object(a.jsxs)("footer",{className:jt.a.footer,children:[Object(a.jsxs)("div",{className:jt.a["footer-column"],children:[Object(a.jsx)("div",{className:jt.a["footer-headers"],children:Object(a.jsx)("p",{children:"Contact Us"})}),Object(a.jsxs)("div",{className:jt.a["footer-info"],children:[Object(a.jsx)("p",{children:"+359 52 317 395"}),Object(a.jsx)("p",{children:"smartmanager@gmail.com"})]})]}),Object(a.jsxs)("div",{className:jt.a["footer-column"],children:[Object(a.jsx)("div",{className:jt.a["footer-headers"],children:Object(a.jsx)("p",{children:"SERVICES"})}),Object(a.jsxs)("div",{className:jt.a["footer-info"],children:[Object(a.jsx)("p",{children:"Contact Us"}),Object(a.jsx)("p",{children:"Ordering & Payment FAQ"})]})]}),Object(a.jsxs)("div",{className:jt.a["footer-column"],children:[Object(a.jsx)("div",{className:jt.a["footer-headers"],children:Object(a.jsx)("p",{children:"INFORMATION"})}),Object(a.jsxs)("div",{className:jt.a["footer-info"],children:[Object(a.jsx)("p",{children:"About SMART MANAGER"}),Object(a.jsx)("p",{children:"Work With US"}),Object(a.jsx)("p",{children:"Privacy Policy"}),Object(a.jsx)("p",{children:"Terms & Conditions"})]})]}),Object(a.jsxs)("div",{className:jt.a["last-column"],children:[Object(a.jsxs)("div",{className:jt.a["social-media-container"],children:[Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:jt.a["social-media"],src:xt,alt:""})}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:jt.a["social-media"],src:_t,alt:""})}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:jt.a["social-media"],src:vt,alt:""})})]}),Object(a.jsx)("div",{className:jt.a.sd2006,children:"SD2006"})]})]})]})},Gt=n(16),Jt=n.n(Gt),Yt=n.p+"static/media/profile-page-pic.2c3455c2.svg",Vt=n.p+"static/media/pen.4b4021f9.svg",Kt=n(134),Zt=function(){var e=Object(r.useRef)(null),t=Object(r.useContext)(p),n=Object(r.useState)(null),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),b=u[0],m=u[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(r.useState)(t.user.username),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(r.useState)(null),y=Object(l.a)(w,2),T=y[0],S=y[1],P=Object(r.useState)(null),D=Object(l.a)(P,2),I=D[0],F=D[1],E=Object(r.useState)(!1),A=Object(l.a)(E,2),M=A[0],L=A[1],H=fe(e),z=Object(l.a)(H,2),R=z[0],W=z[1],B=fe(e),U=Object(l.a)(B,2),J=U[0],Y=U[1],V=Object(r.useState)(!1),K=Object(l.a)(V,2),Z=K[0],q=K[1],Q=Object(j.h)(),X=Object(j.g)(),$=t.user.username,ee=t.user.teams,te=Q.userid,ne=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(te));case 2:if((t=e.sent).ok){e.next=7;break}X.push("/error"),e.next=11;break;case 7:return e.next=9,t.json();case 9:n=e.sent,i(n.email);case 11:case"end":return e.stop()}}),e)}))),[X,te]),ae=function(){var e=Object(g.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),L(!1),m(!1),x(!1),k||T){e.next=6;break}return e.abrupt("return");case 6:if(T===I){e.next=9;break}return L(!0),e.abrupt("return");case 9:return e.next=11,Ft("/api/user/".concat(te),"PUT",{username:k,password:T},(function(e){t.logIn(e)}),(function(e){console.log("Error",e)}));case 11:ne();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){ne()}),[ne]),!$)return Object(a.jsx)(et,{children:Object(a.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})});function re(){window.cloudinary.createUploadWidget({cloudName:"do7mce7ni",uploadPreset:"uo9ubii7"},(function(e,n){if("success"===n.event){var a={path:n.info.path,publicId:n.info.public_id};Ft("/api/user/image/".concat(te),"PUT",{newImage:a,oldImage:t.user.image},(function(e){t.logIn(e)}),(function(e){console.log("Error",e)})),ne()}})).open()}var se=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft("/api/user/image/".concat(te),"PUT",{oldImage:t.user.image},(function(e){t.logIn(e)}),(function(e){console.log("Error",e)}));case 2:ne();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(et,{children:[Z&&Object(a.jsx)(ge,{title:"delete this picture",hideConfirm:function(){return q(!1)},onConfirm:function(){return se()}}),Object(a.jsx)(at,{title:"Profile"}),Object(a.jsxs)("div",{className:Jt.a.container,children:[Object(a.jsxs)("div",{className:Jt.a["left-container"],children:[Object(a.jsxs)("div",{className:Jt.a["button-input-div"],children:[Object(a.jsx)(G,{title:"Username:",className:Jt.a["navigate-buttons"],onClick:function(){x(!f)}}),Object(a.jsx)("input",{ref:function(e){null!==e&&e.focus()},value:k,onChange:function(e){return C(e.target.value)},className:Jt.a["input-fields-profile"],placeholder:$,disabled:!f})]}),Object(a.jsxs)("div",{className:Jt.a["button-input-div"],children:[Object(a.jsx)(G,{title:"Change Password",className:Jt.a["navigate-buttons"],onClick:function(){m(!b)}}),Object(a.jsx)("input",{onChange:function(e){return S(e.target.value)},className:Jt.a["input-fields-profile"],placeholder:"********",disabled:!b,type:"password"})]}),Object(a.jsx)("div",{className:Jt.a.alerts,children:Object(a.jsx)(It,{alert:M,message:"Passwords do not match"})}),b?Object(a.jsx)("div",{className:Jt.a["new-pass-alert"],children:"Important!!! You have to activate your new password by following the link sent to your email. You have to do this in the next hour in order for your new password to be activated"}):null,Object(a.jsxs)("div",{className:Jt.a["button-input-div"],children:[Object(a.jsx)(G,{title:"Confirm Password",className:Jt.a["navigate-buttons"],onClick:function(){m(!b)}}),Object(a.jsx)("input",{onChange:function(e){return F(e.target.value)},className:Jt.a["input-fields-profile"],placeholder:"********",disabled:!b,type:"password"})]}),Object(a.jsxs)("div",{className:Jt.a["button-input-div"],children:[Object(a.jsx)(G,{title:"Email:",className:Jt.a["navigate-buttons"]}),Object(a.jsx)("input",{className:Jt.a["input-fields-profile"],value:c,disabled:!0})]}),Object(a.jsxs)("div",{className:Jt.a["button-input-div-tasks"],children:[Object(a.jsx)(G,{title:"My Tasks",className:Jt.a["navigate-buttons"],onClick:function(){return X.push("/my-tasks/".concat(te))}}),Object(a.jsx)("input",{className:Jt.a["input-fields-tasks"],value:"",disabled:!0})]}),Object(a.jsxs)("div",{className:Jt.a["button-input-div"],children:[Object(a.jsxs)("div",{className:Jt.a.myTeamsContainer,children:[Object(a.jsx)(G,{title:"My Teams",className:Jt.a["navigate-buttons"],onClick:function(){return W(!R)}}),Object(a.jsx)("div",{className:Jt.a["select-team-container"],children:R?Object(a.jsx)("div",{className:Jt.a["teams-home"],ref:e,children:ee.length>0?ee.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)("div",{className:Jt.a["navigate-buttons-teams"],onClick:function(){return t=e._id,void X.push("/team/".concat(t));var t},title:e.name,children:e.name})},t)})):"You haven't joined any teams yet"}):null})]}),Object(a.jsx)("div",{className:Jt.a["button-div-save"],children:Object(a.jsx)(G,{title:"SAVE",className:Jt.a["save-button"],onClick:function(e){return ae(e)}})})]})]}),Object(a.jsxs)("div",{className:Jt.a["pic-container"],children:[Object(a.jsxs)("div",{className:Jt.a["profile-pic-container"],children:[Object(a.jsx)("div",{className:Jt.a["profile-pic"],onClick:function(){t.user.image?Y(!J):re()},children:t.user.image?Object(a.jsxs)("div",{className:Jt.a["profile-picture"],children:[Object(a.jsx)(Kt.Image,{publicId:t.user.image.publicId,className:Jt.a["profile-picture-pic"],children:Object(a.jsx)(Kt.Transformation,{width:"200",height:"200",gravity:"faces",crop:"fill"})}),Object(a.jsx)("div",{className:Jt.a.relative,children:J&&Object(a.jsxs)("div",{ref:e,className:"".concat(Jt.a.menu),children:[Object(a.jsx)(G,{onClick:re,title:"Edit",className:Jt.a.edit}),Object(a.jsx)(G,{onClick:function(){q(!0)},title:"Delete",className:Jt.a.delete})]})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:Jt.a["load-pic-text"],children:"Load a profile picture"}),Object(a.jsx)("img",{className:Jt.a.pen,src:Vt,alt:""})]})}),Object(a.jsx)("p",{children:$})]}),Object(a.jsx)("img",{className:Jt.a.pic1,src:Yt,alt:""})]})]})]})},qt=n(22),Qt=n.n(qt),Xt=n(253),$t=n.n(Xt);function en(e){var t=e.members,n=e.invited;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:$t.a["members-avatars"],children:[Object(a.jsx)("div",{children:"Team Members:"}),t.map((function(e,t){return Object(a.jsx)(T,{title:Object(a.jsx)(W,{user:e,size:40})},t)}))]}),0!==n.length&&Object(a.jsxs)("div",{className:$t.a["members-avatars"],children:[Object(a.jsx)("div",{children:"Invited Members:"}),n.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(W,{user:e,size:40})},t)}))]})]})}function tn(e){var t=Object(r.useState)(e.currTeam),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(s.name),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(s.description),h=Object(l.a)(m,2),O=h[0],f=h[1],_=Object(r.useState)(""),N=Object(l.a)(_,2),k=N[0],w=N[1],y=Object(r.useState)(s.members),S=Object(l.a)(y,2),P=S[0],D=S[1],F=Object(r.useState)(s.requests),E=Object(l.a)(F,2),A=E[0],M=E[1],L=Object(r.useState)([]),H=Object(l.a)(L,2),z=H[0],R=H[1],B=Object(r.useState)(!1),U=Object(l.a)(B,2),J=U[0],Y=U[1],V=Object(r.useState)([]),K=Object(l.a)(V,2),Z=K[0],q=K[1],Q=Object(r.useState)(!1),X=Object(l.a)(Q,2),$=X[0],ee=X[1],te=Object(r.useState)(!1),ne=Object(l.a)(te,2),ae=ne[0],re=ne[1],se=Object(r.useState)(""),ce=Object(l.a)(se,2),ie=ce[0],oe=ce[1],le=Object(r.useState)(""),ue=Object(l.a)(le,2),de=ue[0],je=ue[1],be=Object(j.g)(),me=Object(r.useContext)(C),pe=Object(r.useContext)(p),he=I(),Oe=Object(j.h)().teamid,fe=Object(r.useCallback)((function(){pe.user.teams.forEach((function(e){e._id===Oe&&c(e)}));var e=s.author;D(s.members),M(s.requests),f(s.description),d(s.name),pe.user.id===e&&ee(!0)}),[pe.user.id,s.author,s.description,s.members,s.name,s.requests,pe.user.teams,Oe]);Object(r.useEffect)((function(){fe()}),[fe]);var xe=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(t.target.value),Y(!1),0!==Z.length){e.next=12;break}return n=b("x-auth-token"),e.next=6,fetch("/api/user/get-all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(a=e.sent).ok||be.push("/error"),e.next=10,a.json();case 10:r=e.sent,q(r);case 12:k.length>=2&&Y(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.filter((function(e){return e._id!==t._id})).filter((function(e){return e._id!==t.id}));case 2:return n=e.sent,a=b("x-auth-token"),e.next=6,fetch("/api/teams/".concat(Oe),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({name:u,description:O,members:n})});case 6:if(e.sent.ok){e.next=12;break}return be.push("/error"),e.abrupt("return");case 12:he.emit("team-update",Oe),t.id===pe.user.id&&be.push("/");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b("x-auth-token"),e.next=3,fetch("/api/teams/".concat(Oe),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({removeInvitation:t})});case 3:if(e.sent.ok){e.next=9;break}return be.push("/error"),e.abrupt("return");case 9:fe(),he.emit("team-update",Oe),he.emit("message-sent",t._id);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var t=Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b("x-auth-token"),t.next=3,fetch("/api/teams/".concat(Oe),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:u,description:O,members:P,requests:z})});case 3:if(t.sent.ok){t.next=9;break}return be.push("/error"),t.abrupt("return");case 9:me.setSelectedTeam(u),fe(),he.emit("team-update",Oe),he.emit("multiple-messages-sent",z),e.hideForm();case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function ke(){return(ke=Object(g.a)(v.a.mark((function t(){var n,a,r,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("You will lost all team information - projects, lists and tasks")){t.next=2;break}return t.abrupt("return");case 2:return n=b("x-auth-token"),t.next=5,fetch("/api/teams/".concat(Oe),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 5:if((a=t.sent).ok){t.next=10;break}be.push("/error"),t.next=17;break;case 10:return t.next=12,a.json();case 12:r=t.sent,s=[].concat(Object(x.a)(r.members),Object(x.a)(r.requests)),he.emit("team-deleted",{id:Oe,recievers:s}),be.push("/"),e.hideForm();case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ce={"remove this member":function(e){var t=z.filter((function(t){return t._id!==e._id}));R(t)},"leave this team":_e,"delete this member from team":_e,"delete this member from invited":ve,"delete this team":function(){return ke.apply(this,arguments)}};return Object(a.jsxs)("div",{children:[ae&&Object(a.jsx)(ge,{title:ie,hideConfirm:function(){return re(!1)},onConfirm:function(){return Ce[ie](de)}}),Object(a.jsx)("div",{className:Qt.a.form,children:Object(a.jsxs)("div",{className:Qt.a.container,children:[Object(a.jsx)("div",{className:Qt.a.title,children:"Team"}),Object(a.jsxs)("div",{className:Qt.a["input-container"],children:[Object(a.jsx)("span",{children:" Name"}),Object(a.jsx)("input",{className:Qt.a["input-name"],value:u,onChange:function(e){return d(e.target.value)},label:"Name",id:"name"})]}),Object(a.jsxs)("div",{className:Qt.a["input-container-descr"],children:[Object(a.jsx)("span",{children:" Description"}),Object(a.jsx)("textarea",{className:Qt.a["text-area-descr"],value:O,onChange:function(e){return f(e.target.value)},label:"Description",id:"description",spellCheck:"false"})]}),$?Object(a.jsxs)("div",{className:Qt.a["input-container-invite"],children:[Object(a.jsx)("span",{className:Qt.a["text-invite"],children:" Invite Members"}),Object(a.jsxs)("div",{className:Qt.a["invite-input"],children:[Object(a.jsx)("input",{className:Qt.a["input-invite"],autoComplete:"off",value:k,onChange:xe,label:"Invite members",id:"members",placeholder:"username",onBlur:function(){setTimeout((function(){return Y(!1)}),120)}}),Object(a.jsx)("div",{className:Qt.a["select-for-invite"],children:J?Object(a.jsx)("div",{className:Qt.a.members,children:Z.filter((function(e){return e.username.toLowerCase().includes(k.toLowerCase())&&!e.username.includes(pe.user.username)})).filter((function(e){return!P.find((function(t){return t.username===e.username}))})).filter((function(e){return!A.find((function(t){return t.username===e.username}))})).filter((function(e){return!z.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e,t){return Object(a.jsx)(T,{className:Qt.a.user,onClick:function(){return function(e){var t=Object(x.a)(z);t.push(e),R(t),Y(!1),w("")}(e)},title:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.username}),Object(a.jsx)("div",{className:Qt.a.email,children:e.email})]})},t)}))}):null})]})]}):null,$?Object(a.jsxs)("div",{className:Qt.a["members-div"],children:[Object(a.jsx)("div",{className:Qt.a["members-avatars"],children:Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:"Send Invitation:"}),z.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(W,{user:e,size:40,onClick:function(){re(!0),oe("remove this member"),je(e)}})},t)}))]})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:Qt.a.membersAvatars,children:[Object(a.jsx)("div",{children:"Team Members:"}),P.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(W,{user:e,size:40,onClick:function(){re(!0),oe("delete this member from team"),je(e)}})},t)}))]}),0!==A.length?Object(a.jsxs)("div",{className:Qt.a.membersAvatars,children:[Object(a.jsx)("div",{children:"Invited Members:"}),A.map((function(e,t){return Object(a.jsx)("span",{children:Object(a.jsx)(W,{user:e,size:40,onClick:function(){re(!0),oe("delete this member from invited"),je(e)}})},t)}))]}):null]}),Object(a.jsxs)("div",{className:Qt.a["button-div"],children:[Object(a.jsx)(G,{className:Qt.a["create-button"],onClick:function(){return Ne()},title:"Submit Changes"}),Object(a.jsx)(G,{className:Qt.a["create-button"],title:"Delete Team",onClick:function(){re(!0),oe("delete this team"),je("")}})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(en,{members:P,invited:A}),!e.isMessage&&Object(a.jsx)("div",{className:Qt.a["leave-team-btn-div"],children:Object(a.jsx)(G,{title:"Leave Team",className:Qt.a["leave-team-btn"],onClick:function(){re(!0),oe("leave this team"),je(pe.user)}})})]})]})})]})}var nn=n(8),an=n.n(nn);function rn(){var e=Object(j.g)(),t=I(),n=b("x-auth-token"),a=Object(j.h)().userid,s=Object(r.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1];return{moveToHistory:function(){var r=Object(g.a)(v.a.mark((function r(s){var c;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i){r.next=2;break}return r.abrupt("return");case 2:return o(!0),r.next=5,fetch("/api/user/inbox",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({message:s})});case 5:if((c=r.sent).ok){r.next=11;break}return e.push("/error"),r.abrupt("return");case 11:return r.next=13,c.json();case 13:t.emit("message-sent",a);case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),deleteMessage:function(){var t=Object(g.a)(v.a.mark((function t(a,r){var s,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/user/message/".concat(a._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 2:if((s=t.sent).ok){t.next=8;break}return e.push("/error"),t.abrupt("return");case 8:return t.next=10,s.json();case 10:c=t.sent,r(c.inboxHistory);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),viewTeam:function(){var t=Object(g.a)(v.a.mark((function t(a,r,s){var c,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/teams/".concat(a.team.id),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 2:if((c=t.sent).ok){t.next=8;break}return e.push("/error"),t.abrupt("return");case 8:return t.next=10,c.json();case 10:i=t.sent,r(i),s(!0);case 13:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}}function sn(e){var t=e.message,n=e.setInbox,s=e.setInboxHistory,c=e.options,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)({}),p=Object(l.a)(m,2),h=p[0],O=p[1],f=Object(j.g)(),x=b("x-auth-token"),_=I(),N=Object(j.h)().userid,k=rn();function C(e,t){return w.apply(this,arguments)}function w(){return(w=Object(g.a)(v.a.mark((function e(t,a){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/teams/invitations/".concat(t.team.id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:x},body:JSON.stringify({message:t,accepted:a})});case 2:if((r=e.sent).ok){e.next=8;break}return f.push("/error"),e.abrupt("return");case 8:return e.next=10,r.json();case 10:c=e.sent,_.emit("team-update",t.team.id),n(c.inbox),s(c.inboxHistory),_.emit("message-sent",N),_.emit("message-sent",t.sendFrom._id);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:an.a.message,children:[Object(a.jsxs)("div",{className:an.a.container,children:[Object(a.jsx)("div",{className:an.a.bold,children:t.subject}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",c)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Team name:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.team.name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Invited by:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.sendFrom.username})]}),t.team.isDeleted?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:an.a.bold,children:"Team deleted"}),Object(a.jsx)(G,{className:an.a.button,onClick:function(){return k.moveToHistory(t)},title:"Move to History"})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(G,{className:an.a.button,onClick:function(){return C(t,!0)},title:"Accept"}),Object(a.jsx)(G,{className:an.a.button,onClick:function(){return C(t,!1)},title:"Decline"}),Object(a.jsx)(G,{className:an.a.button,onClick:function(){return k.viewTeam(t,O,d)},title:"View Team"})]}),u&&Object(a.jsx)(be,{hideForm:function(){return d(!1)},children:Object(a.jsx)(tn,{currTeam:h,isMessage:!0,hideForm:function(){d(!1)}})})]})}function cn(e){var t=e.message,n=e.options,s=e.setInboxHistory,c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)({}),j=Object(l.a)(d,2),b=j[0],m=j[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),O=h[0],f=h[1],x=rn();return Object(a.jsxs)(a.Fragment,{children:[O&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return f(!1)},onConfirm:function(){return x.deleteMessage(t,s)}}),Object(a.jsxs)("div",{className:an.a.message,children:[Object(a.jsxs)("div",{className:an.a.container,children:[void 0===t.accepted?Object(a.jsx)("div",{className:an.a.container,children:Object(a.jsx)("div",{className:an.a.bold,children:t.subject})}):Object(a.jsxs)("div",{className:an.a.container,children:[Object(a.jsxs)("div",{className:an.a.bold,children:[t.subject,":"]}),t.accepted?Object(a.jsx)("div",{children:"Accepted"}):Object(a.jsx)("div",{children:"Declined"})]}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",n)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Team name:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.team.name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Invited by:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.sendFrom.username})]}),t.team.isDeleted&&Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Team deleted"}),Object(a.jsxs)("div",{children:[!t.team.isDeleted&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return x.viewTeam(t,m,u)},title:"View Team"}),Object(a.jsx)(G,{className:an.a.button,onClick:function(){return f(!0)},title:"Delete Message"}),o&&Object(a.jsx)(be,{hideForm:function(){return u(!1)},children:Object(a.jsx)(tn,{currTeam:b,isMessage:!0,hideForm:function(){u(!1)}})})]})]})]})}function on(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=rn();return Object(a.jsxs)(a.Fragment,{children:[u&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return d(!1)},onConfirm:function(){return j.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:an.a.message,children:[Object(a.jsxs)("div",{className:an.a.container,children:[Object(a.jsxs)("div",{className:an.a.container,children:[Object(a.jsxs)("div",{className:an.a.bold,children:[t.subject,":"]}),Object(a.jsxs)("span",{children:[t.sendFrom.username,t.accepted?Object(a.jsx)("span",{children:" accepted"}):Object(a.jsx)("span",{children:" declined"})]})]}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Team name:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.team.name})]}),Object(a.jsxs)("div",{children:[c&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return j.moveToHistory(t)},title:"Move to History"}),!c&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return d(!0)},title:"Delete Message"})]})]})]})}function ln(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(j.g)(),o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],m=rn();return Object(a.jsxs)(a.Fragment,{children:[d&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return b(!1)},onConfirm:function(){return m.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:an.a.message,children:[Object(a.jsxs)("div",{className:an.a.container,children:[Object(a.jsx)("div",{className:an.a.bold,children:t.subject}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"".concat(an.a.inline," ").concat(an.a.margin),children:[Object(a.jsx)("span",{className:an.a.bold,children:"Project:"}),t.project.name]}),Object(a.jsxs)("div",{className:"".concat(an.a.inline," ").concat(an.a.margin),children:[Object(a.jsx)("span",{className:an.a.bold,children:"List:"}),t.list.name]}),Object(a.jsxs)("div",{className:"".concat(an.a.inline," ").concat(an.a.margin),children:[Object(a.jsx)("span",{className:an.a.bold,children:"Task:"}),t.card.name]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Assigned by:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.sendFrom.username})]}),(t.team.isDeleted||t.project.isDeleted)&&Object(a.jsx)("div",{className:an.a.bold,children:"Project deleted"}),Object(a.jsxs)("div",{children:[!t.team.isDeleted&&!t.project.isDeleted&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return i.push("/project-board/".concat(t.team.id,"/").concat(t.project.id))},title:"Go to Project"}),c?Object(a.jsx)(G,{className:an.a.button,onClick:function(){return m.moveToHistory(t)},title:"Move to History"}):Object(a.jsx)(G,{className:an.a.button,onClick:function(){return b(!0)},title:"Delete Message"})]})]})]})}var un=n(365),dn=n.n(un);function jn(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=rn();return Object(a.jsxs)(a.Fragment,{children:[u&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return d(!1)},onConfirm:function(){return j.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:an.a.message,children:[Object(a.jsxs)("div",{className:an.a.container,children:[Object(a.jsx)("div",{className:an.a.container,children:Object(a.jsxs)("div",{className:an.a.bold,children:["Team ",t.team.name," deleted"]})}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Deleted by:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.sendFrom.username})]}),Object(a.jsxs)("div",{children:[c&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return j.moveToHistory(t)},title:"Move to History"}),!c&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return d(!0)},title:"Delete Message"})]})]})]})}function bn(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=rn();return Object(a.jsxs)(a.Fragment,{children:[u&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return d(!1)},onConfirm:function(){return j.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:an.a.message,children:[Object(a.jsxs)("div",{className:an.a.container,children:[Object(a.jsx)("div",{className:an.a.container,children:Object(a.jsxs)("div",{className:an.a.bold,children:["Project ",t.project.name," deleted"]})}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Deleted by:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.sendFrom.username})]}),Object(a.jsxs)("div",{children:[c&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return j.moveToHistory(t)},title:"Move to History"}),!c&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return d(!0)},title:"Delete Message"})]})]})]})}function mn(e){var t=e.message,n=e.setInboxHistory,s=e.options,c=e.isInbox,i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=Object(r.useState)({}),b=Object(l.a)(j,2),m=b[0],p=b[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),f=O[0],x=O[1],_=rn();return Object(a.jsxs)(a.Fragment,{children:[f&&Object(a.jsx)(ge,{title:"delete this message",hideConfirm:function(){return x(!1)},onConfirm:function(){return _.deleteMessage(t,n)}}),Object(a.jsxs)("div",{className:an.a.message,children:[Object(a.jsxs)("div",{className:an.a.container,children:[Object(a.jsx)("div",{className:an.a.bold,children:t.subject}),Object(a.jsx)("div",{children:new Date(t.createdAt).toLocaleDateString("en-US",s)})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Team name:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.team.name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"".concat(an.a.bold," ").concat(an.a.inline),children:"Invited by:"}),Object(a.jsx)("div",{className:an.a.inline,children:t.sendFrom.username})]}),t.team.isDeleted&&Object(a.jsx)("div",{className:an.a.bold,children:"Team deleted"}),!t.team.isDeleted&&Object(a.jsx)(G,{className:an.a.button,onClick:function(){return _.viewTeam(t,p,d)},title:"View Team"}),c?Object(a.jsx)(G,{className:an.a.button,onClick:function(){return _.moveToHistory(t)},title:"Move to History"}):Object(a.jsx)(G,{className:an.a.button,onClick:function(){return x(!0)},title:"Delete Message"}),u&&Object(a.jsx)(be,{hideForm:function(){return d(!1)},children:Object(a.jsx)(tn,{currTeam:m,isMessage:!0,hideForm:function(){d(!1)}})})]})]})}var pn=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)([]),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(j.g)(),m=I(),p=b("x-auth-token"),h={weekday:"short",year:"numeric",month:"short",day:"numeric"},O=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/inbox",{method:"GET",headers:{"Content-Type":"application/json",Authorization:p}});case 2:if((t=e.sent).ok){e.next=8;break}return d.push("/error"),e.abrupt("return");case 8:return e.next=10,t.json();case 10:n=e.sent,s(n.inbox),u(n.inboxHistory);case 13:case"end":return e.stop()}}),e)}))),[d,p]);Object(r.useEffect)((function(){O()}),[O]);var f=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.inboxUser.inbox),u(t.inboxUser.inboxHistory);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.useEffect)((function(){if(m)return m.on("message-sent",f),function(){return m.off("message-sent")}}),[m,f]),Object(a.jsxs)(et,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(at,{title:"Inbox"}),0===n.length&&Object(a.jsx)("div",{className:dn.a.title,children:"Inbox is empty"}),Object(x.a)(n).reverse().map((function(e){switch(e.subject){case"Team invitation":return Object(a.jsx)(sn,{message:e,setInbox:s,setInboxHistory:u,options:h},e._id);case"Team invitation response":return Object(a.jsx)(on,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id);case"Team invitation canceled":return Object(a.jsx)(mn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id);case"Task assignment":return Object(a.jsx)(ln,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id);case"Team deleted":return Object(a.jsx)(jn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id);case"Project deleted":return Object(a.jsx)(bn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!0},e._id)}return""}))]}),0!==o.length&&Object(a.jsxs)("div",{children:[Object(a.jsx)(at,{title:"History"}),Object(x.a)(o).reverse().map((function(e){switch(e.subject){case"Team invitation":return Object(a.jsx)(cn,{message:e,setInbox:s,setInboxHistory:u,options:h},e._id);case"Team invitation response":return Object(a.jsx)(on,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id);case"Team invitation canceled":return Object(a.jsx)(mn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id);case"Task assignment":return Object(a.jsx)(ln,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id);case"Team deleted":return Object(a.jsx)(jn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id);case"Project deleted":return Object(a.jsx)(bn,{message:e,setInbox:s,setInboxHistory:u,options:h,isInbox:!1},e._id)}return""}))]})]})},hn=n(20),On=n.n(hn),fn=n.p+"static/media/my-tasks.a0bdac2a.svg",xn=n(56),_n=n.n(xn),vn=n(39),gn=n.n(vn),Nn=n.p+"static/media/pic1.06557b43.svg",kn=n.p+"static/media/pic12.cb5bf992.svg",Cn=n(21),wn=n.n(Cn),yn=n.p+"static/media/pic10.b95e708c.svg",Tn=n(89),Sn=n.n(Tn);function Pn(e){var t=e.members,n=e.deleteMemberOption,s=e.deleteMemberObj,c=b("x-auth-token"),i=Object(j.g)(),o=I(),u=Object(r.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),f=O[0],_=O[1];var N=function(){var e=s.project,t=s.teamId;o.emit("project-update",e),o.emit("task-team-update",t)},k=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r,o,l,u,d,j;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.cardMembers,a=s.setCardMembers,r=s.cardId,o=s.listId,l=n.indexOf(t),u=Object(x.a)(n),-1!==l&&u.splice(l,1),e.next=9,fetch("/api/projects/lists/cards/".concat(o,"/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({members:u})});case 9:if((d=e.sent).ok){e.next=14;break}i.push("/error"),e.next=20;break;case 14:return e.next=16,d.json();case 16:j=e.sent,s.setCurrCard(j),N(),a(u);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[m&&Object(a.jsx)(ge,{title:"delete this member",hideConfirm:function(){return p(!1)},onConfirm:function(){return k(f)}}),Object(a.jsx)("div",{className:Sn.a["all-card-members"],children:t.map((function(e,t){return Object(a.jsxs)("div",{className:Sn.a["each-member"],onClick:function(){return function(e){n&&(p(!0),_(e))}(e)},children:[Object(a.jsxs)("div",{className:Sn.a.name,children:[Object(a.jsx)("span",{className:Sn.a.avatar,children:Object(a.jsx)(W,{user:e,size:30,className:Sn.a.avatar})},e._id),Object(a.jsx)("span",{className:Sn.a.username,children:e.username})]}),n?Object(a.jsx)("span",{className:Sn.a["delete-icon"],children:"x"}):null]},t)}))})]})}var Dn=n(98),In=n.n(Dn),Fn=function(e){var t=e.members,n=e.maxLength,s=e.deleteMemberOption,c=e.deleteMemberObj,i=Object(r.useRef)(null),o=fe(i),u=Object(l.a)(o,2),d=u[0],j=u[1];return n=Math.min(n,t.length),Object(a.jsxs)("div",{className:In.a.members,onClick:function(){return j(!0)},ref:i,children:[d&&Object(a.jsx)(Pn,{members:t,deleteMemberOption:s,deleteMemberObj:c,setCurrCard:!0}),t.length>n?Object(a.jsxs)(a.Fragment,{children:[t.slice(0,n-1).map((function(e){return Object(a.jsx)("span",{className:In.a.avatar,children:Object(a.jsx)(W,{user:e,size:30,className:In.a.avatar})},e._id)})),Object(a.jsx)("span",{className:In.a.avatar,children:Object(a.jsx)(R.a,{color:"grey",name:["+"].concat(Object(x.a)("".concat(t.length-n+1).split(""))).join(" "),size:30,round:!0,maxInitials:3,className:In.a.avatar})})]}):Object(a.jsx)(a.Fragment,{children:t.map((function(e){return Object(a.jsx)("span",{className:In.a.avatar,children:Object(a.jsx)(W,{user:e,size:30})},e._id)}))})]})};function En(e){var t=e.card,n=e.listId,s=e.project,c=e.teamId,i=e.setCurrCard,o=Object(r.useRef)(null),u=Object(r.useState)(null),d=Object(l.a)(u,2),m=d[0],p=d[1],h=fe(o),O=Object(l.a)(h,2),f=O[0],_=O[1],N=Object(r.useState)([]),k=Object(l.a)(N,2),C=k[0],w=k[1],y=Object(j.g)(),T=I(),S=b("x-auth-token");Object(r.useEffect)((function(){p(t.members)}),[t.members]);var P=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/teams/get-users/".concat(c),{method:"GET",headers:{"Content-Type":"application/json",Authorization:S}});case 2:return(t=e.sent).ok||y.push("/error"),e.next=6,t.json();case 6:for(s in n=e.sent,a=n.members,r=function(e){a=a.filter((function(t){return t._id!==m[e]._id}))},m)r(s);w(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(v.a.mark((function e(a){var r,o,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("select"!==a){e.next=2;break}return e.abrupt("return");case 2:if(r=C.filter((function(e){return e._id===a}))[0],s.membersRoles.filter((function(e){return e.memberId._id===r._id}))[0]){e.next=11;break}if(window.confirm("Do you want to add ".concat(r.username," to project?"))){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,fetch("/api/projects/".concat(s._id,"/user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:S},body:JSON.stringify({member:r,admin:!1})});case 9:e.sent.ok||y.push("/error");case 11:return(o=Object(x.a)(m)).push(r),e.next=15,fetch("/api/projects/lists/cards/".concat(n,"/").concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:S},body:JSON.stringify({members:o,newMember:r,teamId:c,projectId:s._id,cardId:t._id,listId:n})});case 15:if((l=e.sent).ok){e.next=20;break}y.push("/error"),e.next=29;break;case 20:return e.next=22,l.json();case 22:u=e.sent,i&&i(u),_(!f),p(o),T.emit("project-update",s),T.emit("task-team-update",c),T.emit("message-sent",r._id);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:wn.a["small-buttons"],onClick:function(){P(),_(!f)},children:[Object(a.jsx)("img",{className:wn.a.pics,src:yn,alt:"pic10"}),"Add Teammate"]}),f&&Object(a.jsx)("form",{ref:o,children:Object(a.jsxs)("select",{className:wn.a.select,onChange:function(e){D(e.target.value)},children:[Object(a.jsx)("option",{value:"select",children:"Select"}),C.map((function(e){return Object(a.jsx)("option",{value:e._id,children:e.username},e._id)}))]})}),!f&&t.members.length>0&&Object(a.jsx)("div",{className:wn.a.members,children:Object(a.jsx)(Fn,{members:t.members,maxLength:4,deleteMemberOption:!0,deleteMemberObj:{cardMembers:m,setCardMembers:p,cardId:t._id,listId:n,project:s,teamId:c,setCurrCard:i}})})]})}var An=n(88),Mn=n.n(An),Ln=/%[aAbBdmwyY]/g,Hn=["January","February","March","April","May","June","July","August","September","October","November","December"],zn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Rn=864e5,Wn={y:function(e){return e.getUTCFullYear().toString().slice(-2)},Y:function(e){return e.getUTCFullYear()},m:function(e){return"0".concat(e.getMonth()+1).slice(-2)},b:function(e){return Hn[e.getMonth()].slice(0,3)},B:function(e){return Hn[e.getMonth()]},d:function(e){return"0".concat(e.getDate()).slice(-2)},a:function(e){return zn[e.getDay()].slice(0,3)},A:function(e){return zn[e.getDay()]},w:function(e){return Gn(e)}},Bn=function(e,t){return new Date(e.getTime()+t*Rn)},Un=function(e){var t=(e=e||new Date).getDay()||7,n=new Date(e);return n.setDate(e.getDate()-(t-1)),n},Gn=function(e){var t=Bn(Un(e),3),n=new Date(e.getFullYear(),0,4),a=Bn(Un(n),3);return 1+Math.round((t.getTime()-a.getTime())/6048e5)},Jn=function(e,t){return t.replace(Ln,(function(t){var n=t[1];return Wn[n](e)}))},Yn=function(e,t){return e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},Vn=function(e,t){var n=e.getYear(),a=t.getYear();if(n!==a)return 1-2*(a>n);var r=e.getMonth(),s=t.getMonth();if(r!==s)return 1-2*(s>r);var c=e.getDate(),i=t.getDate();return c!==i?1-2*(i>c):0},Kn=n.p+"static/media/pic5.e6817eda.svg";function Zn(e){var t=e.dueDate,n=e.card,s=e.listId,c=e.project,i=e.teamId,o=e.setCurrCard,u=Object(r.useState)(null),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(r.useState)(null),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(r.useState)(0),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(j.g)(),y=I(),T=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());Object(r.useEffect)((function(){return S(),window.addEventListener("resize",S),function(){return window.removeEventListener("resize",S)}}),[]);var S=function(){var e=window.innerWidth;C(e)};Object(r.useEffect)((function(){if(p(t),m){var e=m.getTime()?Jn(m,"%d-%m-%Y"):"";x(e)}}),[t,m]);var P,D=Object(r.useCallback)((function(){y.emit("project-update",c),y.emit("task-team-update",i)}),[y,c,i]),F=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==m||""!==t){e.next=3;break}return console.log("return"),e.abrupt("return");case 3:return a=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/cards/".concat(s,"/").concat(n._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({dueDate:t,teamId:i})});case 6:if((r=e.sent).ok){e.next=12;break}return w.push("/error"),e.abrupt("return");case 12:return e.next=14,r.json();case 14:c=e.sent,o&&o(c),D();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(Mn.a,{customInput:Object(a.jsxs)("div",{className:wn.a["small-buttons"],children:[Object(a.jsx)("img",{className:wn.a.pics,src:Kn,alt:"pic5"}),"Due Date"]}),selected:f?m:T,onChange:function(e){p(e),F(e)},label:"Go to date",popperPlacement:(P=k,P>750?"bottom-end":"bottom-start")}),f&&Object(a.jsx)("div",{className:wn.a.date,children:f})]})}function qn(e){var t=e.taskHistory,n=[];if(t)for(var r=0;r<t.length;r++){var s=t[r];if(r===t.length-1){n.push(s);break}s.event.slice(0,8)===t[r+1].event.slice(0,8)&&s.date===t[r+1].date||n.push(s)}function c(e){var t=new Date(e);return("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear()}return Object(a.jsx)("div",{className:wn.a.history,children:t?n.reverse().map((function(e,t){return Object(a.jsx)("div",{children:"".concat(c(e.date)," - ").concat(e.event)},t)})):null})}var Qn=n.p+"static/media/pic2.da7b02c6.svg",Xn=n(256),$n=n.n(Xn);function ea(e){var t,n=e.progress;return Object(a.jsx)("div",{className:$n.a.bar,children:Object(a.jsx)("div",{style:{width:"".concat(n,"%"),backgroundColor:(t=n,Number(t)<=20?"red":Number(t)<=40?"orange":Number(t)<=80?"blue":Number(t)>80?"green":void 0)},className:$n.a.progress})})}function ta(e){var t=e.card,n=e.listId,s=e.project,c=e.teamId,i=e.taskHistory,o=e.setTaskHistory,u=e.setCurrCard,d=b("x-auth-token"),m=Object(j.g)(),p=I(),h=Object(r.useRef)(null),O=Object(r.useState)(null),f=Object(l.a)(O,2),_=f[0],N=f[1],k=Object(r.useState)(null),C=Object(l.a)(k,2),w=C[0],y=C[1],T=Object(r.useState)(!0),S=Object(l.a)(T,2),P=S[0],D=S[1],F=fe(h),E=Object(l.a)(F,2),A=E[0],M=E[1],L=Object(r.useState)(!1),H=Object(l.a)(L,2),z=H[0],R=H[1],W=Object(r.useMemo)((function(){return new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())}),[]);Object(r.useEffect)((function(){R(null!==t.progress),N(t.progress)}),[t.progress]);var B=function(){var e=Object(g.a)(v.a.mark((function e(){var a,r,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==_){e.next=4;break}return R(!1),M(!1),e.abrupt("return");case 4:if(w!==_&&P){e.next=8;break}return N(w),D(!0),e.abrupt("return");case 8:return(a=Object(x.a)(i)).push({event:"Progress ".concat(_,"%"),date:W}),o(a),e.next=13,fetch("/api/projects/lists/cards/".concat(n,"/").concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:d},body:JSON.stringify({progress:_,history:a})});case 13:if((r=e.sent).ok){e.next=18;break}m.push("/error"),e.next=24;break;case 18:return e.next=20,r.json();case 20:l=e.sent,u&&u(l),p.emit("project-update",s),p.emit("task-team-update",c);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function U(){R(!0),M(!0),y(_)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:wn.a["small-buttons"],onClick:U,children:[Object(a.jsx)("img",{className:wn.a.pics,src:Qn,alt:""}),"Progress"]}),null!==t.progress&&Object(a.jsx)("div",{className:wn.a["progress-bar"],children:Object(a.jsx)(ea,{progress:t.progress})}),z&&Object(a.jsx)("div",{className:wn.a["progress-input-container"],children:A?Object(a.jsxs)("span",{ref:h,children:[Object(a.jsx)("input",{ref:function(e){null!=e&&e.focus()},id:"progress",type:"number",min:"0",max:"100",className:"".concat(wn.a["progress-input"]," ").concat(!P&&wn.a["bad-input"]),value:_,onKeyDown:function(e){27===e.keyCode&&(N(w),M(!1),D(!0),null===_&&R(!1))},onKeyUp:function(){!_||Number(_)<0||Number(_)>100?D(!1):D(!0)},onChange:function(e){return N(e.target.value)},onBlur:B}),Object(a.jsx)("span",{children:"%"})]}):Object(a.jsxs)("div",{className:wn.a.progress,onClick:U,children:[_,"%"]})})]})}var na=n.p+"static/media/pic6.68bb366f.svg",aa=n(186),ra=n.n(aa),sa=n(99),ca=n.n(sa),ia=n.p+"static/media/download.1cad53f3.svg",oa=n.p+"static/media/remove.3a2c6cb2.svg";function la(e){var t=e.attachments,n=e.listRef,s=e.card,c=e.project,i=e.teamId,o=e.setCurrCard,u=I(),d=Object(j.g)(),m=b("x-auth-token"),p=Object(r.useState)([]),h=Object(l.a)(p,2),O=h[0],f=h[1],x=Object(r.useState)(!1),_=Object(l.a)(x,2),N=_[0],k=_[1],C=Object(r.useState)(""),w=Object(l.a)(C,2),y=w[0],S=w[1];Object(r.useEffect)((function(){f(t)}),[t]);function P(){return(P=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/projects/lists/cards/attachments/".concat(s._id,"/").concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:m}});case 2:if((n=e.sent).ok){e.next=8;break}return d.push("/error"),e.abrupt("return");case 8:return e.next=10,n.json();case 10:a=e.sent,o&&o(a),f(a.attachments),u.emit("project-update",c),u.emit("task-team-update",i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(a.Fragment,{children:[N&&Object(a.jsx)(ge,{title:"remove this attachment",hideConfirm:function(){return k(!1)},onConfirm:function(){return function(e){return P.apply(this,arguments)}(y)}}),Object(a.jsxs)("div",{ref:n,className:ca.a.container,children:[Object(a.jsx)("div",{className:ca.a.title,children:"Task Attachments"}),O.map((function(e,t){return Object(a.jsxs)("div",{className:ca.a.attachment,children:[Object(a.jsxs)("div",{className:ca.a.name,children:[e.name,".",e.format]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(T,{title:Object(a.jsx)("img",{className:ca.a.button,src:ia,alt:"Download"}),onClick:function(){return window.open(function(e){return"https://res.cloudinary.com/".concat("do7mce7ni","/raw/upload/fl_attachment/").concat(e.path)}(e),"_blank")}}),Object(a.jsx)(T,{title:Object(a.jsx)("img",{className:ca.a.button,src:oa,alt:"Remove"}),onClick:function(){k(!0),S(e)}})]})]},t)}))]})]})}function ua(e){var t=e.att,n=e.attachments,s=e.card,c=e.project,i=e.teamId,o=e.setCurrCard,u=Object(r.useRef)(null),d=fe(u),j=Object(l.a)(d,2),b=j[0],m=j[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:ra.a.attachment,onClick:function(){return m(!0)},title:t.name,children:[Object(a.jsx)("img",{src:Nn,alt:"",className:ra.a["att-picture"]}),Object(a.jsx)("div",{className:ra.a.format,children:t.format})]}),b&&Object(a.jsx)(be,{hideForm:function(){return m(!1)},children:Object(a.jsx)(la,{listRef:u,attachments:n,card:s,project:c,teamId:i,setCurrCard:o})})]})}function da(e){var t=e.card,n=e.project,s=e.teamId,c=e.setCurrCard,i=b("x-auth-token"),o=Object(j.g)(),u=I(),d=Object(r.useState)(null),m=Object(l.a)(d,2),p=m[0],h=m[1];return Object(r.useEffect)((function(){h(t.attachments)}),[t.attachments]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:wn.a["small-buttons"],onClick:function(){window.cloudinary.createUploadWidget({cloudName:"do7mce7ni",uploadPreset:"uo9ubii7",resourceType:"raw"},function(){var e=Object(g.a)(v.a.mark((function e(a,r){var c,l,d,j,b,m,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==r.event){e.next=20;break}return c=r.info.path,l=r.info.original_filename,(d=r.info.format)||(d=c.split(".")[1]),j=r.info.public_id,b={path:c,name:l,format:d,publicId:j},e.next=9,fetch("/api/projects/lists/cards/attachments/".concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({attachment:b})});case 9:if((m=e.sent).ok){e.next=14;break}o.push("/error"),e.next=20;break;case 14:return e.next=16,m.json();case 16:p=e.sent,h(p.attachments),u.emit("project-update",n),u.emit("task-team-update",s);case 20:if(!a){e.next=22;break}return e.abrupt("return");case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).open()},children:[Object(a.jsx)("img",{className:wn.a.pics,src:na,alt:"pic6"}),"Attach File"]}),p&&Object(a.jsx)("div",{className:wn.a["att-container"],children:p.length<=4?p.map((function(e){return Object(a.jsx)(ua,{att:e,attachments:p,card:t,project:n,teamId:s,setCurrCard:c},e._id)})):Object(a.jsxs)(a.Fragment,{children:[p.slice(0,3).map((function(e){return Object(a.jsx)(ua,{att:e,attachments:p,card:t,project:n,teamId:s,setCurrCard:c},e._id)})),Object(a.jsxs)("div",{className:"".concat(wn.a.remaining," ").concat(wn.a.attachment),children:["+",p.length-3]})]})})]})}function ja(e){var t=e.listId,n=e.initialCard,s=e.project,c=e.teamId,i=e.hideForm,o=e.setCurrCard,u=Object(r.useRef)(null),d=Object(r.useRef)(null),m=Object(r.useState)(null),p=Object(l.a)(m,2),h=p[0],O=p[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),_=x[0],N=x[1],k=Object(r.useState)(""),C=Object(l.a)(k,2),w=C[0],y=C[1],T=Object(r.useState)(null),S=Object(l.a)(T,2),P=S[0],D=S[1],F=Object(j.g)(),E=I(),A=Object(r.useState)(null),M=Object(l.a)(A,2),L=M[0],H=M[1],z=Object(r.useState)(null),R=Object(l.a)(z,2),W=R[0],B=R[1],U=Object(r.useMemo)((function(){return new Date(n.dueDate)}),[n.dueDate]),G=b("x-auth-token"),J=Object(r.useState)(!1),Y=Object(l.a)(J,2),V=Y[0],K=Y[1];Object(r.useEffect)((function(){O(n),N(n.name),y(n.description),D(n.history)}),[n]);var Z=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/projects/lists/cards/".concat(t,"/").concat(h._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:G}});case 2:e.sent.ok?(E.emit("project-update",s),E.emit("task-team-update",c),i()):F.push("/error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/projects/lists/cards/".concat(t,"/").concat(h._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:G},body:JSON.stringify({name:_,description:w})});case 2:e.sent.ok?(E.emit("project-update",s),E.emit("task-team-update",c)):F.push("/error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Q(e,t,n){27===e.keyCode&&(t(W),setTimeout((function(){n.current.blur()}),1))}return Object(r.useEffect)((function(){setTimeout((function(){H(u.current.scrollHeight+2)}),1)}),[]),Object(a.jsxs)("div",{className:gn.a.menu,children:[V&&Object(a.jsx)(ge,{title:"delete this task",hideConfirm:function(){return K(!1)},onConfirm:function(){return Z()}}),Object(a.jsxs)("div",{className:gn.a.container,children:[Object(a.jsxs)("div",{className:gn.a["task-name"],children:[Object(a.jsx)("span",{children:Object(a.jsx)("img",{src:Nn,alt:"pic1"})}),Object(a.jsx)("textarea",{ref:u,className:"".concat(gn.a["name-input"]," ").concat(gn.a.text),style:{height:L},value:_,onFocus:function(){return B(_)},onKeyDown:function(e){return Q(e,N,u)},onChange:function(e){N(e.target.value),H(u.current.scrollHeight+2)},onBlur:function(){W!==_&&q()}})]}),Object(a.jsxs)("div",{className:gn.a["task-body"],children:[Object(a.jsxs)("div",{className:gn.a["left-side"],children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:gn.a.text,children:"Description"}),Object(a.jsx)("textarea",{className:gn.a["description-input"],ref:d,value:w,onFocus:function(){return B(w)},onKeyDown:function(e){return Q(e,y,d)},onChange:function(e){return y(e.target.value)},onBlur:function(){W!==w&&q()}})]}),Object(a.jsxs)("div",{className:gn.a["task-component"],children:[Object(a.jsx)("div",{className:gn.a.text,children:"History"}),Object(a.jsx)(qn,{taskHistory:P})]})]}),Object(a.jsx)("div",{className:gn.a["right-side"],children:Object(a.jsxs)("div",{className:gn.a["task-component"],children:[Object(a.jsx)("div",{className:gn.a.text,children:"Manage"}),Object(a.jsx)(Zn,{dueDate:U,card:n,listId:t,project:s,teamId:c,setCurrCard:o}),Object(a.jsx)(En,{card:n,listId:t,project:s,teamId:c,setCurrCard:o}),Object(a.jsx)(ta,{card:n,listId:t,project:s,teamId:c,taskHistory:P,setTaskHistory:D,setCurrCard:o}),Object(a.jsx)(da,{card:n,project:s,teamId:c,setCurrCard:o}),Object(a.jsxs)("button",{className:gn.a["small-buttons"],onClick:function(){K(!0)},title:"Delete Task",children:[Object(a.jsx)("img",{className:gn.a.pics,src:kn,alt:"pic12"}),"Delete Task"]})]})})]})]})]})}var ba=n(257),ma=n.n(ba),pa=function(e){var t=e.card,n=e.project,s=e.teamId,c=Object(r.useRef)(null),i=fe(c),o=Object(l.a)(i,2),u=o[0],d=o[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(T,{className:"".concat(ma.a.attachments," ").concat(ma.a.button),onClick:function(){return d(!0)},title:Object(a.jsx)("img",{src:na,alt:"",width:"14px"})}),u&&Object(a.jsx)(be,{hideForm:function(){return d(!1)},children:Object(a.jsx)(la,{listRef:c,attachments:t.attachments,card:t,project:n,teamId:s})})]})};function ha(e){var t=e.teamId,n=e.project,s=e.list,c=e.card,i=Object(r.useRef)(null),o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),O=h[0],f=h[1],_=Object(r.useState)(""),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(r.useState)(!0),y=Object(l.a)(w,2),S=y[0],P=y[1],D=Object(j.g)(),F=I(),E=Math.ceil((Date.parse(c.dueDate)-Date.now())/1e3/3600/24);function A(){return(A=Object(g.a)(v.a.mark((function e(){var a,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!1),S&&Number(k)!==c.progress){e.next=5;break}return C(c.progress+"%"),P(!0),e.abrupt("return");case 5:if(""!==k){e.next=10;break}if(null!==c.progress){e.next=9;break}return C("Add"),e.abrupt("return");case 9:C(c.progress+"%");case 10:return a=new Date(Date.now()),(r=Object(x.a)(c.history)).push({event:"Progress ".concat(k,"%"),date:a}),i=b("x-auth-token"),e.next=16,fetch("/api/projects/lists/cards/".concat(s._id,"/").concat(c._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({progress:k,history:r})});case 16:if(e.sent.ok){e.next=22;break}return D.push("/error"),e.abrupt("return");case 22:F.emit("project-update",n),F.emit("task-team-update",t);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){null!==c.progress?C(c.progress+"%"):C("Add")}),[C,c.progress]),Object(a.jsxs)("div",{className:_n.a.card,children:[Object(a.jsx)("div",{className:_n.a.task,children:c.name}),Object(a.jsx)("div",{className:_n.a.progress,children:Object(a.jsx)("input",{ref:i,type:"text",className:"".concat(_n.a.input," ").concat(!S&&_n.a["bad-input"]," ").concat(!d&&_n.a["no-border"]),autoComplete:"off",value:k,onFocus:function(){m(!0),C("Add"!==k?Number(k.slice(0,-1)):"")},onBlur:function(){return A.apply(this,arguments)},onKeyUp:function(){Number.isNaN(Number(k))||Number(k)<0||Number(k)>100?P(!1):P(!0)},onChange:function(e){return C(e.target.value)}})}),Object(a.jsx)("div",{className:_n.a.days,children:100===c.progress?Object(a.jsx)("div",{children:"Done"}):0===Date.parse(c.dueDate)||null===c.dueDate?Object(a.jsx)("div",{children:"No Deadline"}):E<0?Object(a.jsx)("div",{className:_n.a.deadline,children:"Deadline Passed"}):Object(a.jsx)("div",{children:E})}),Object(a.jsxs)("div",{className:_n.a["buttons-container"],children:[c.attachments.length>0&&Object(a.jsx)(pa,{card:c,project:n,teamId:t}),Object(a.jsx)(T,{className:_n.a.button,onClick:function(){return f(!0)},title:Object(a.jsx)("img",{src:Vt,alt:"",width:"14"})})]}),O&&Object(a.jsx)("div",{className:_n.a.edit,children:Object(a.jsx)(be,{hideForm:function(){return f(!O)},children:Object(a.jsx)(ja,{hideForm:function(){return f(!O)},initialCard:c,listId:s._id,project:n,teamId:t})})})]},c._id)}var Oa=function(){var e=Object(r.useContext)(p),t=Object(r.useState)([]),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(!1),u=Object(l.a)(i,2),d=u[0],m=u[1],h=Object(j.g)(),O=I(),x=Object(r.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(n){var a,r,s,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b("x-auth-token"),t.next=3,fetch("/api/user/tasks/".concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 3:if((r=t.sent).ok){t.next=8;break}h.push("/error"),t.next=15;break;case 8:return t.next=10,r.json();case 10:if("Team not found"!==(s=t.sent)){t.next=13;break}return t.abrupt("return");case 13:c(s),n!==e.user.lastTeamSelected&&((i=Object(o.a)({},e.user)).lastTeamSelected=n,e.setUser(Object(o.a)(Object(o.a)({},i),{},{loggedIn:!0})));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[h,e]);function _(e){c(e)}return Object(r.useEffect)((function(){if(e.user.lastTeamSelected&&null!=O){var t=e.user.lastTeamSelected;return O.on("task-team-updated",_),O.on("task-update-team",(function(e){e===t&&x(e)})),O.emit("task-team-join",t),function(){O.off("task-team-updated"),O.off("task-update-team")}}}),[O,x,e.user.lastTeamSelected]),Object(r.useEffect)((function(){e.user.lastTeamSelected&&x(e.user.lastTeamSelected)}),[x,e.user.lastTeamSelected]),Object(a.jsxs)(et,{children:[Object(a.jsx)(at,{title:"My Tasks"}),Object(a.jsxs)("div",{className:On.a["button-container"],children:[Object(a.jsxs)("div",{className:On.a["team-buttons"],children:[Object(a.jsx)("span",{className:On.a.title,children:"Teams:"}),e.user.teams.map((function(t){return Object(a.jsx)(Ue,{title:t.name,onClick:function(){return x(t._id)},className:"".concat(On.a.teams," ").concat(e.user.lastTeamSelected===t._id&&On.a.selected)},t._id)}))]}),Object(a.jsx)(T,{className:"".concat(On.a.teams," ").concat(On.a["projects-button"]),title:d?"Current Projects":"Old Projects",onClick:function(){return m(!d)}})]}),e.user.lastTeamSelected?Object(a.jsx)("div",{className:On.a.box,children:0===s.length?Object(a.jsx)("div",{className:On.a.title,children:"There is no current tasks"}):s.filter(d?function(e){return!0===e.isFinished}:function(e){return!1===e.isFinished||void 0===e.isFinished}).reverse().map((function(t){return Object(a.jsxs)("div",{className:On.a.project,children:[Object(a.jsx)("div",{className:On.a["project-name"],children:Object(a.jsxs)(f.b,{to:"/project-board/".concat(e.user.lastTeamSelected,"/").concat(t._id),className:On.a.link,children:[Object(a.jsx)("span",{className:On.a.bold,children:"Project:"})," ",t.name]})}),Object(a.jsxs)("div",{className:"".concat(On.a.header," ").concat(On.a.raw),children:[Object(a.jsx)("div",{className:On.a.list,children:"List:"}),Object(a.jsxs)("div",{className:On.a.container,children:[Object(a.jsx)("div",{className:On.a.task,children:"Task:"}),Object(a.jsx)("div",{className:On.a.progress,children:"Progress (%):"}),Object(a.jsx)("div",{className:On.a.days,children:"Days Till End:"})]})]}),t.lists.map((function(n){return Object(a.jsxs)("div",{className:On.a.raw,children:[Object(a.jsx)("div",{className:On.a.list,children:n.name}),Object(a.jsx)("div",{className:On.a["task-container"],children:n.cards.map((function(r){return Object(a.jsx)(ha,{teamId:e.user.lastTeamSelected,project:t,list:n,card:r},r._id)}))})]},n._id)}))]},t._id)}))}):Object(a.jsx)("div",{className:On.a.title,children:"Select a team"}),(!e.user.lastTeamSelected||0===s.length)&&Object(a.jsx)("div",{className:On.a.pic,children:Object(a.jsx)("img",{src:fn,alt:""})})]})},fa=n(187),xa=n.n(fa),_a=n.p+"static/media/error-page.cdc8a8bc.svg",va=function(){return Object(a.jsxs)(et,{children:[Object(a.jsx)("div",{className:xa.a.title,children:"Error Page"}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{className:xa.a.pic1,src:_a,alt:""})}),Object(a.jsx)("div",{className:xa.a.text,children:"Something went wrong."})]})},ga=n(29),Na=n.n(ga),ka=n.p+"static/media/pic1.be7eba24.svg",Ca=n.p+"static/media/pic2.7c366339.svg",wa=n.p+"static/media/pic3.1bb7af5a.svg",ya=n.p+"static/media/pic4.a58683e8.svg",Ta=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(a.jsxs)(et,{children:[Object(a.jsx)("div",{children:n?Object(a.jsx)(be,{hideForm:function(){return s(!1)},children:Object(a.jsx)(J,{hideForm:function(){s(!1)}})}):null}),Object(a.jsxs)("div",{className:Na.a.container,children:[Object(a.jsx)("div",{className:Na.a["logo-div"],children:Object(a.jsx)("img",{className:Na.a.logo,src:Q,alt:""})}),Object(a.jsx)("div",{className:Na.a.title,children:"Welcome to Smart Manager"}),Object(a.jsx)("div",{className:Na.a.title,children:"Get to know how to use Smart Manager in few quick steps:"}),Object(a.jsxs)("div",{className:Na.a.paragraph,children:["1. - In order to start using Smart Manager you have to be part of a team - you can create your own and work by yourself,  invite your colleagues and friends or can be invited in others by other smart manager users. You can create and join as many teams you want.",Object(a.jsx)("div",{className:Na.a["pic-div"],children:Object(a.jsx)("img",{className:Na.a.pic,src:ka,alt:""})})]}),Object(a.jsxs)("div",{className:Na.a.paragraph,children:["2. - When you are already part of a team you can create and join different projects - again as many as you need. In your projects you can add your teammates and work together or you can organize your tasks by yourself.",Object(a.jsx)("div",{className:Na.a["pic-div"],children:Object(a.jsx)("img",{className:Na.a.pic,src:Ca,alt:""})})]}),Object(a.jsxs)("div",{className:Na.a.paragraph,children:["3. - In each project you can organize your tasks by separating them into different lists - for example - To Do, Doing and Done or any other way. You can create as many lists you need. The tasks can be moved from one list to another or within the lists.",Object(a.jsx)("div",{className:Na.a["pic-div"],children:Object(a.jsx)("img",{className:Na.a.pic3,src:wa,alt:""})})]}),Object(a.jsxs)("div",{className:Na.a.paragraph,children:["4. - You can create as many tasks you need which gives you endless opportunities to keep track of the work you are doing. You can assign people for each task, select a due date and fill the progress as you work. You can attach files for each task and also keep track of the progress with task history.",Object(a.jsx)("div",{className:Na.a["pic-div"],children:Object(a.jsx)("img",{className:Na.a.pic,src:ya,alt:""})})]}),Object(a.jsxs)("div",{className:Na.a.paragraph,children:["5. - Great! You are all set. Start your Smart experience and continue exploring countless opportunities by creating your first team.",Object(a.jsx)("div",{children:Object(a.jsx)(lt,{className:Na.a["navigate-buttons"],title:"Create New Team",onClick:function(){return s(!0)}})})]}),Object(a.jsxs)("div",{className:Na.a.greeting,children:["Enjoy!",Object(a.jsx)("div",{children:"Smart Manager Team"})]})]})]})},Sa=n(178),Pa=n(100),Da=n.n(Pa);function Ia(e){var t=e.card,n=e.project,s=e.showCurrentCard,c=e.setCurrCard,i=Object(r.useRef)(null),o=fe(i),u=Object(l.a)(o,2),d=u[0],b=u[1],m=Object(j.h)().teamid;return Object(a.jsxs)("div",{className:Da.a.card,children:[Object(a.jsxs)("div",{children:[t.progress&&0!==t.progress||t.members.length>0||t.attachments.length>0?Object(a.jsxs)("div",{className:Da.a.container,children:[t.progress?Object(a.jsx)("div",{className:Da.a.progress,children:Object(a.jsx)(ea,{progress:t.progress})}):Object(a.jsx)("div",{}),Object(a.jsxs)("div",{className:Da.a.container,children:[t.attachments.length>0&&Object(a.jsx)(pa,{card:t,project:n,teamId:m}),Object(a.jsx)(Fn,{members:t.members,maxLength:2})]})]}):null,Object(a.jsx)("div",{className:Da.a["card-name"],children:t.name})]}),Object(a.jsx)(T,{className:Da.a.button,onClick:function(){s(),c(t)},title:Object(a.jsx)("img",{src:Vt,alt:"",width:"11.5",height:"11.5"})}),d&&Object(a.jsx)(be,{hideForm:function(){return b(!1)},children:Object(a.jsx)(la,{listRef:i,attachments:t.attachments,card:t,project:n,teamId:m})})]})}var Fa=n(42),Ea=n.n(Fa),Aa=n.p+"static/media/dots.d2d443b8.svg";function Ma(e){var t=e.isAdmin,n=e.project,s=e.list,c=e.showEditList,i=e.showCurrentCard,u=e.setCurrCard,d=Object(r.useRef)(null),m=Object(r.useRef)(null),p=fe(m),h=Object(l.a)(p,2),O=h[0],f=h[1],x=fe(d),_=Object(l.a)(x,2),N=_[0],k=_[1],C=Object(r.useState)(""),w=Object(l.a)(C,2),y=w[0],S=w[1],P=Object(r.useState)(!1),D=Object(l.a)(P,2),F=D[0],E=D[1],A=Object(j.g)(),M=I(),L=Object(j.h)().teamid,H=Object(r.useCallback)((function(){M.emit("project-update",n)}),[M,n]);function z(){return(z=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b("x-auth-token"),e.next=3,fetch("/api/projects/lists/".concat(n._id,"/").concat(s._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:t}});case 3:e.sent.ok?(H(),M.emit("task-team-update",L)):A.push("/error");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==y){e.next=3;break}return e.abrupt("return");case 3:return n=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/cards/".concat(s._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:y,description:"",dueDate:"",progress:"",members:[]})});case 6:if(e.sent.ok){e.next=12;break}return A.push("/error"),e.abrupt("return");case 12:f(!O),S(""),H();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A,y,s._id,H,O,f]);return Object(a.jsxs)("div",{className:Ea.a.list,children:[F&&Object(a.jsx)(ge,{title:"you wish to delete this list",hideConfirm:function(){return E(!1)},onConfirm:function(){return function(){return z.apply(this,arguments)}()}}),Object(a.jsxs)("div",{className:Ea.a.row,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Ea.a.name,title:s.name,children:s.name}),Object(a.jsx)(ie,{color:s.color||"#A6A48E",type:"list"})]}),t&&Object(a.jsx)(T,{className:Ea.a.button,onClick:function(){return k(!N)},title:Object(a.jsx)("img",{className:Ea.a.dots,src:Aa,alt:"...",width:"20",height:"6"})})]}),Object(a.jsx)("div",{className:Ea.a.relative,children:N&&Object(a.jsxs)("div",{ref:d,className:"".concat(Ea.a.menu),children:[Object(a.jsx)(G,{onClick:function(){c(),k(!N)},title:"Edit",className:Ea.a.edit}),Object(a.jsx)(G,{onClick:function(){return E(!0)},title:"Delete",className:Ea.a.delete})]})}),Object(a.jsx)(xe.c,{droppableId:s._id,type:"droppableSubItem",children:function(e){return Object(a.jsxs)("div",{className:Ea.a.droppable,ref:e.innerRef,children:[s.cards.map((function(e,t){return Object(a.jsx)(xe.b,{draggableId:e._id,index:t,children:function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:Object(a.jsx)(Ia,{card:e,project:n,showCurrentCard:i,setCurrCard:u})})),t.placeholder]})}},e._id)})),e.placeholder]})}}),Object(a.jsx)("div",{className:Ea.a.flexend,children:O?Object(a.jsxs)("form",{ref:m,className:Ea.a.container,children:[Object(a.jsx)("input",{autoFocus:!0,className:Ea.a["task-input"],type:"text",value:y,onChange:function(e){return S(e.target.value)}}),Object(a.jsx)(T,{type:"submit",className:Ea.a["add-task"],onClick:R,title:"+ Add Task",project:n})]}):Object(a.jsx)(T,{className:Ea.a["add-task"],onClick:function(){return f(!O)},title:"+ Add Task"})})]})}var La=n(81),Ha=n.n(La),za=n.p+"static/media/pic.260e1407.svg",Ra=n(60),Wa=n.n(Ra),Ba=n(373);function Ua(e){var t=Object(r.useRef)(null),n=Object(r.useState)(null),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(null),u=Object(l.a)(o,2),d=u[0],m=u[1],h=Object(r.useState)(e.list.name),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(j.g)(),N=I(),k=Object(r.useRef)(null),C=fe(k),w=Object(l.a)(C,2),y=w[0],S=w[1],P=Object(r.useState)(e.list.color||"#A6A48E"),D=Object(l.a)(P,2),F=D[0],E=D[1],A=Object(r.useState)(!1),M=Object(l.a)(A,2),L=M[0],H=M[1],z=e.project.membersRoles,R=Object(r.useContext)(p),W=e.project._id,B=e.list._id,U=Object(j.h)().teamid;function J(){return(J=Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b("x-auth-token"),t.next=3,fetch("/api/projects/lists/".concat(W,"/").concat(B),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:f,color:F})});case 3:t.sent.ok?(N.emit("project-update",e.project),N.emit("task-team-update",U),e.hideForm()):_.push("/error");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){H(ke(R.user.id,z))}),[z,R.user.id]);return Object(r.useEffect)((function(){setTimeout((function(){i(t.current.scrollHeight+2)}),1)}),[]),Object(a.jsxs)("div",{className:Wa.a.container,children:[Object(a.jsx)(at,{title:"Edit List"}),Object(a.jsxs)("div",{className:Wa.a["input-container"],children:[Object(a.jsx)("span",{className:Wa.a.name,children:" Name"}),Object(a.jsx)("textarea",{ref:t,className:"".concat(Wa.a["name-input"]," ").concat(Wa.a.text),style:{height:c},value:f,onFocus:function(){return m(f)},onKeyDown:function(e){return n=x,a=t,void(27===e.keyCode&&(n(d),setTimeout((function(){a.current.blur()}),1)));var n,a},onChange:function(e){x(e.target.value),i(t.current.scrollHeight+2)}})]}),Object(a.jsxs)("div",{className:Wa.a["change-color"],children:[Object(a.jsx)("span",{className:Wa.a["color-title"],children:"Color"}),Object(a.jsx)(T,{className:Wa.a["color-button"],style:{background:"".concat(F)},onClick:function(){return S(!y)}})]}),y&&Object(a.jsx)("div",{ref:k,children:Object(a.jsx)(Ba.a,{className:Wa.a["color-pick"],color:F,onChangeComplete:function(e){E(e.hex)}})}),Object(a.jsx)("div",{className:Wa.a["edit-list-button"],children:L&&Object(a.jsx)(G,{onClick:function(){return J.apply(this,arguments)},title:"Edit List"})})]})}function Ga(){return(Ga=Object(g.a)(v.a.mark((function e(t){var n,a,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b("x-auth-token"),a=Object(j.g)(),s=Object(r.useContext)(p),t!==s.user.lastTeamSelected){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("/api/user/".concat(s.user.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({lastTeamSelected:t})});case 7:e.sent.ok||a.push("/error"),(c=Object(o.a)({},s.user)).lastTeamSelected=t,s.setUser(Object(o.a)({},c));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ja=function(e){return Ga.apply(this,arguments)};function Ya(){var e=Object(j.h)(),t=Object(j.g)(),n=Object(r.useState)(!1),s=Object(l.a)(n,2),c=s[0],i=s[1],u=Object(r.useState)(""),h=Object(l.a)(u,2),O=h[0],f=h[1],_=Object(r.useRef)(null),N=fe(_),k=Object(l.a)(N,2),C=k[0],w=k[1],y=I(),S=Object(r.useContext)(re),P=Object(r.useState)(!1),D=Object(l.a)(P,2),F=D[0],E=D[1],A=Object(r.useState)(""),M=Object(l.a)(A,2),L=M[0],H=M[1],z=Object(r.useState)(""),R=Object(l.a)(z,2),W=R[0],B=R[1],U=Object(r.useState)(!1),G=Object(l.a)(U,2),J=G[0],Y=G[1],V=Object(r.useState)(!1),K=Object(l.a)(V,2),Z=K[0],q=K[1],Q=Object(r.useContext)(p),X=e.teamid,$=b("x-auth-token");Ja(e.teamid);var ee=Object(r.useCallback)((function(e){S.setProject(e),S.setLists(e.lists)}),[S]);Object(r.useEffect)((function(){var t=e.projectid;if(null!=y)return y.on("project-updated",ee),y.emit("project-join",t),function(){return y.off("project-updated")}}),[y,ee,e.projectid]),Object(r.useEffect)((function(){if(S.project&&S.project._id===e.projectid&&!Z){var t=[];S.project.membersRoles.map((function(e){return t.push({admin:e.admin,username:e.memberId.username,id:e.memberId._id})})),S.setLists(S.project.lists);var n=t.find((function(e){return e.id===Q.user.id}));n&&Y(n.admin)}}),[S.project,e.projectid,S,Q.user.id,Z]);var te=Object(r.useCallback)(Object(g.a)(v.a.mark((function n(){var a,r,s,c,i,l,u;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Q.user.id,r=Object(o.a)({},Q.user),!((s=Object(x.a)(r.recentProjects)).length>2&&s[2]._id===e.projectid)){n.next=5;break}return n.abrupt("return");case 5:return(c=s.filter((function(t){return t._id!==e.projectid}))).push({_id:e.projectid,name:S.project.name}),c.length>3&&c.shift(),n.next=10,fetch("/api/user/recentProjects/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:$},body:JSON.stringify({recentProjects:c})});case 10:if((i=n.sent).ok){n.next=15;break}t.push("/error"),n.next=20;break;case 15:return n.next=17,i.json();case 17:l=n.sent,u=m(l),Q.logIn(u);case 20:case"end":return n.stop()}}),n)}))),[Q,t,e.projectid,S.project,$]);if(Object(r.useEffect)((function(){S.project&&S.project._id===e.projectid&&te()}),[e.projectid,S.project,te]),!S.project||S.project._id!==e.projectid)return Object(a.jsx)(et,{children:Object(a.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})});function ne(){return(ne=Object(g.a)(v.a.mark((function e(n){var a,r,s,c,i,o,u,d,j,b,m,p,h,O,f,_,g,N,k,C,w,T;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.destination){e.next=2;break}return e.abrupt("return");case 2:if(q(!0),"droppableItem"!==n.type){e.next=23;break}return a=n.destination.index,r=S.lists.filter((function(e){return!S.hiddenLists.includes(e._id)})),s=r[a-1],a=S.lists.indexOf(s)+1,c=Object(x.a)(S.lists),i=c.splice(n.source.index,1),o=Object(l.a)(i,1),u=o[0],c.splice(n.destination.index,0,u),S.setLists(c),e.next=14,fetch("/api/projects/lists/".concat(S.project._id,"/").concat(n.draggableId,"/dnd-update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:$},body:JSON.stringify({position:a,element:"list"})});case 14:if((d=e.sent).ok){e.next=19;break}t.push("/error"),e.next=23;break;case 19:return e.next=21,d.json();case 21:j=e.sent,S.setProject(j);case 23:if("droppableSubItem"!==n.type){e.next=40;break}b=n.destination.index,m=n.source.index,p=n.source.droppableId,h=n.destination.droppableId,O=Object(x.a)(S.lists),f="",_="",g=Object(Sa.a)(O);try{for(g.s();!(N=g.n()).done;)(k=N.value)._id===p&&(f=O.indexOf(k)),k._id===h&&(_=O.indexOf(k))}catch(v){g.e(v)}finally{g.f()}return C=O[f].cards.splice(m,1),w=Object(l.a)(C,1),T=w[0],O[_].cards.splice(b,0,T),S.setLists(O),e.next=38,fetch("/api/projects/lists/".concat(S.project._id,"/").concat(n.draggableId,"/dnd-update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:$},body:JSON.stringify({position:b,element:"card",source:p,destination:h})});case 38:e.sent.ok||t.push("/error");case 40:y.emit("project-update",S.project),y.emit("task-team-update",X),q(!1);case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(){var e=Object(g.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==O){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("/api/projects/lists/".concat(S.project._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:$},body:JSON.stringify({name:O})});case 5:if(e.sent.ok){e.next=11;break}return t.push("/error"),e.abrupt("return");case 11:w(!C),f(""),y.emit("project-update",S.project);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(et,{children:Object(a.jsxs)("div",{style:{position:"absolute"},children:[F&&Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return E(!F)},children:Object(a.jsx)(ja,{hideForm:function(){return E(!F)},initialCard:L,listId:W,project:S.project,teamId:X,setCurrCard:H})})}),c&&Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return i(!c)},children:Object(a.jsx)(Ua,{hideForm:function(){return i(!c)},list:W,project:S.project})})}),Object(a.jsx)(xe.a,{onDragEnd:function(e){return ne.apply(this,arguments)},children:Object(a.jsx)(xe.c,{droppableId:"droppable",direction:"horizontal",type:"droppableItem",children:function(e){return Object(a.jsxs)("div",{className:Ha.a["container-droppable"],ref:e.innerRef,children:[S.lists.filter((function(e){return!S.hiddenLists.includes(e._id)})).map((function(e,t){return Object(a.jsx)(xe.b,{draggableId:e._id,index:t,children:function(t){return Object(a.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:Ha.a.droppable},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:Object(a.jsx)(Ma,{list:e,project:S.project,isAdmin:J,showEditList:function(){B(e),i(!c)},showCurrentCard:function(){B(e._id),E(!F)},setCurrCard:H})}))}},e._id)})),e.placeholder,J&&Object(a.jsx)("div",{className:Ha.a.list,children:C?Object(a.jsxs)("form",{ref:_,className:Ha.a.container,children:[Object(a.jsx)("input",{autoFocus:!0,className:Ha.a.input,type:"text",value:O,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)(T,{type:"submit",className:Ha.a.addlist,onClick:ae,title:"+ Add List"})]}):Object(a.jsx)(T,{className:Ha.a.addlist,onClick:function(){return w(!C)},title:"+ Add List"})})]})}})}),Object(a.jsx)("img",{className:Ha.a.pic,src:za,alt:"",width:"340"})]})})}var Va=n(188),Ka=n.n(Va),Za=n(73),qa=n.n(Za),Qa=n(374),Xa=(n(661),n(19)),$a=n.n(Xa),er=function(e){var t=e.value,n=e.setValue,s=e.onBlur,c=e.onKeyDown,i=e.onSubmit,o=e.className,u=e.toggleActive,d=Object(r.useRef)(null),j=Object(r.useState)(null),b=Object(l.a)(j,2),m=b[0],p=b[1],h=Object(r.useState)(null),O=Object(l.a)(h,2),f=O[0],x=O[1];Object(r.useEffect)((function(){d.current&&p(d.current.scrollHeight+2),d&&d.current.focus()}),[]);return Object(a.jsx)("textarea",{ref:d,className:o,style:{height:m},value:t,onKeyDown:function(e){return c?c(e):27===e.keyCode&&u?(n(f),u()):void(13===e.keyCode&&i(e))},onChange:function(e){p(d.current.scrollHeight+2),n(e.target.value)},onBlur:function(e){if(s)return s(e);t!==f&&i(e)},onFocus:function(){return x(t)}})};function tr(e){var t=e.card,n=e.listId,s=e.project,c=Object(r.useRef)(null),i=fe(c),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(t.name),p=Object(l.a)(m,2),h=p[0],O=p[1],f=Object(j.g)(),x=I(),_=Object(j.h)().teamid,N=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._id,""!==h){e.next=3;break}return e.abrupt("return");case 3:return r=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/cards/".concat(n,"/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:h})});case 6:if(e.sent.ok){e.next=12;break}return f.push("/error"),e.abrupt("return");case 12:d(!u),x.emit("project-update",s),x.emit("task-team-update",_);case 15:case"end":return e.stop()}}),e)}))),[f,h,u,d,t._id,n,s,x,_]);return Object(a.jsx)("div",{children:u?Object(a.jsx)("div",{ref:c,className:$a.a.nameContainer,children:Object(a.jsx)(er,{value:h,setValue:O,className:$a.a.inputElementName,onSubmit:N,toggleActive:function(){return d(!u)}})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:$a.a["attachments-container"],children:t.attachments&&t.attachments.length>0&&!u&&Object(a.jsx)(pa,{card:t,project:s,teamId:_})}),Object(a.jsx)("div",{className:$a.a.tableText,onClick:function(){return d(!u)},children:h})]})})}function nr(e){var t=Object(r.useMemo)((function(){return new Date(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()))}),[]),n=e.card,s=Object(r.useState)(n.history),c=Object(l.a)(s,2),i=c[0],o=c[1],u="",d=e.value.split("/");d.length>1&&(u=d[0]);var m=Object(r.useRef)(null),p=fe(m),h=Object(l.a)(p,2),O=h[0],f=h[1],_=Object(r.useState)(u),N=Object(l.a)(_,2),k=N[0],C=N[1],w=Object(j.g)(),y=I(),T=Object(j.h)().teamid,S=Object(r.useCallback)(function(){var a=Object(g.a)(v.a.mark((function a(r){var s,c,l,u,d,j;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),s=n._id,c=e.listId,!(!k||k>100||k<0)){a.next=5;break}return a.abrupt("return");case 5:if(l=Number(k),u=Math.max(Math.min(l,100),0),!isNaN(l)&&u!==Number(n.progress)){a.next=9;break}return a.abrupt("return");case 9:return C(u),d=[].concat(Object(x.a)(i),[{event:"Progress ".concat(k,"%"),date:t}]),o(d),j=b("x-auth-token"),a.next=15,fetch("/api/projects/lists/cards/".concat(c,"/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:j},body:JSON.stringify({progress:k,history:d})});case 15:if(a.sent.ok){a.next=19;break}return w.push("/error"),a.abrupt("return");case 19:f(!O),y.emit("project-update",e.project),y.emit("task-team-update",T);case 22:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[w,k,O,f,i,t,n._id,e.listId,e.project,y,T,n.progress]);function P(e){var t="";switch(!0){case 100===e||"100"===e:t="#0E8D27";break;case e<20:t="#EF2D2D";break;case e<100:t="#5E9DDC"}return t}return Object(a.jsx)(a.Fragment,{children:O?Object(a.jsx)("div",{ref:m,className:$a.a.taskProgress,onBlur:S,children:Object(a.jsx)("input",{className:$a.a.taskProgressButtonInput,style:{backgroundColor:P(k)},type:"number",value:k,onChange:function(e){return C(e.target.value)},min:"0",max:"100",autoFocus:!0})}):Object(a.jsx)("div",{className:$a.a.taskProgress,onClick:function(){return f(!O)},children:function(e){return e&&"null"!==e?Object(a.jsxs)("div",{style:{backgroundColor:P(e),padding:"5px",border:"solid black 1px",borderRadius:"5px",minHeight:"2rem",width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:[" ",e," %"]}):Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:"+ Add"})}(u)})})}function ar(e){var t=Object(r.useRef)(null),n=fe(t),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(e.cardDueDate),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),O=h[0],f=h[1],x=Object(j.g)(),_=I(),N=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),k=Object(j.h)().teamid,C=Object(r.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(n){var a,r,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.cardId,r=e.listId,""!==d||""!==n){t.next=5;break}return console.log("return"),t.abrupt("return");case 5:return s=b("x-auth-token"),t.next=8,fetch("/api/projects/lists/cards/".concat(r,"/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({dueDate:n})});case 8:if(t.sent.ok){t.next=14;break}return x.push("/error"),t.abrupt("return");case 14:i(!c),_.emit("project-update",e.project),_.emit("task-team-update",e.teamId);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[x,d,i,c,e.cardId,e.listId,e.project,_,e.teamId]),w=e.value;return Object(a.jsxs)("span",{className:$a.a.dueDateField,children:[Object(a.jsx)(Mn.a,{selected:w?d:N,customInput:w?Object(a.jsx)("div",{className:$a.a.dueDateFieldInput,children:Object(a.jsx)("span",{children:w})}):Object(a.jsx)("span",{children:"Select date"}),onChange:function(e){m(e),C(e)},label:"Go to date",onBlur:w?function(){return i(!c)}:null,popperPlacement:"bottom-end",closeOnScroll:function(e){return e.target===document.getElementsByClassName("rt-tbody")[0]}}),O?Object(a.jsx)("span",{children:Object(a.jsx)(be,{hideForm:function(){return f(!O)},children:Object(a.jsx)(ja,{hideForm:function(){return f(!O)},initialCard:e.card,listId:e.listId,project:e.project,teamId:k})})}):Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:$a.a.pen,src:Vt,alt:"...",width:"13",height:"13",onClick:function(){return f(!0)}})})]})}var rr=function(e){var t=e.handleSubmit,n=e.handleInputRemove,s=e.elementName,c=e.setElementName,i=e.placeholder,o=Object(r.useRef)(null),u=Object(r.useState)(null),d=Object(l.a)(u,2),j=d[0],b=d[1];return Object(a.jsx)("textarea",{value:s,ref:o,placeholder:i,className:$a.a.inputElementName,style:{height:j,width:"100%"},onKeyDown:function(e){return 27===e.keyCode?n():13===e.keyCode?t():void 0},onChange:function(e){13!==e.keyCode&&(c(e.target.value),b(o.current.scrollHeight+2))},onBlur:t,autoFocus:!0})};function sr(e){var t=e.listId,n=e.project,s=e.handleInputRemove,c=Object(r.useState)(""),i=Object(l.a)(c,2),o=i[0],u=i[1],d=I(),m=Object(j.g)(),p=function(){var e=Object(g.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",s());case 2:return a=b("x-auth-token"),e.next=5,fetch("/api/projects/lists/cards/".concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({name:o,progress:""})});case 5:if(e.sent.ok){e.next=9;break}return m.push("/error"),e.abrupt("return");case 9:d.emit("project-update",n),s();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(rr,{elementName:o,setElementName:u,handleSubmit:p,handleInputRemove:s,placeholder:"Enter new task name:"})}function cr(e){var t=e.project,n=e.handleInputRemove,s=Object(r.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=I(),d=Object(j.g)(),m=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._id,i){e.next=3;break}return e.abrupt("return",n());case 3:return r=b("x-auth-token"),e.next=6,fetch("/api/projects/lists/".concat(a),{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:i})});case 6:if(e.sent.ok){e.next=10;break}return d.push("/error"),e.abrupt("return");case 10:u.emit("project-update",t),n();case 12:case"end":return e.stop()}}),e)}))),[d,i,t,n,u]);return Object(a.jsx)(rr,{elementName:i,setElementName:o,handleSubmit:m,handleInputRemove:n,placeholder:"Enter new list name:"})}var ir="#0E8D27",or="#EF2D2D",lr="#EF2D2D",ur="#0E8D27",dr="#5E9DDC",jr="#A2A7B0",br=function(e){var t=new Date,n=null,r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",r={background:t,color:n,width:"100%",padding:"5px",border:"1px solid #363338",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center"};return Object(a.jsx)("div",{className:$a.a.daylyProgress,children:Object(a.jsx)("div",{style:r,children:e})})},s=function(a,s){if(!a)return"";0===s&&(n=JSON.parse(a));var c=n,i=c.date,o=c.history,u=c.progress,d=Bn(e,s),j=o&&o.events[Jn(d,"%d/%m/%y")],b=i?new Date(i):null,m=b&&Vn(d,b)>0,p=Vn(d,t)<0;if(j){var h=j.event.split(" "),O=Object(l.a)(h,2),f=O[0],x=O[1];if("Created"===f)return r(f,ir);if("Progress"===f&&x&&"100%"===x)return r("Finished",ur);if(p)return r(j.event,jr);var _=m?lr:dr;return r(j.event,_)}var v=0===s,g=o&&o.hasEventsInWeek[Jn(d,"%w/%y")];if(v&&u&&100===u&&g)return r("Finished",ur);if(b){if(Yn(d,b))return Vn(t,b)>0?r("Delayed",lr):r("Due Date",or);if(Vn(d,b)>0)return v&&Vn(t,d)>0?r("Delayed",lr):"";var N=o.finishedDate,k=o.startDate;return N=N&&new Date(N),k=k&&new Date(k),N&&Vn(d,N)>0?"":v&&k&&Vn(k,e)>0?"":r(v?"In Progress":"",p?jr:dr)}return""},c=function(n){var r=Bn(e,n),s=Yn(t,r)?"#CFE2EC":"",c=Jn(r,"%d.%m"),i=Jn(r,"%A");return Object(a.jsxs)("div",{style:{backgroundColor:s,color:"black"},children:[Object(a.jsx)("div",{style:{fontWeight:"600"},children:i}),Object(a.jsx)("div",{style:{fontSize:"80%"},children:c})]})},i=function(e){return Object(a.jsx)("div",{style:{whiteSpace:"normal",overflowWrap:"anywhere",textAlign:"left",height:"100%"},children:e})};return[{Header:function(){return Object(a.jsx)("div",{className:$a.a.header,children:"Task"})},accessor:"task",minWidth:350,Cell:function(e){var t=e.value;return i(t)},sortable:!0,resizable:!1},{Header:function(){return Object(a.jsx)("div",{className:$a.a.header,children:"Progress"})},accessor:"progress",minWidth:65,maxWidth:75,Cell:function(e){var t=e.value;return i(t)},sortable:!0,resizable:!1,sortMethod:function(){}},{Header:function(){return Object(a.jsx)("div",{className:$a.a.header,children:"Team"})},accessor:"assigned",minWidth:75,maxWidth:80,Cell:function(e){var t=e.value;return i(t)},getProps:function(e,t,n){return{style:{overflow:"visible"}}},sortable:!1,resizable:!1},{Header:c(0),accessor:"monday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,0)},sortable:!1,resizable:!1},{Header:c(1),accessor:"tuesday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,1)},sortable:!1,resizable:!1},{Header:c(2),accessor:"wednesday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,2)},sortable:!1,resizable:!1},{Header:c(3),accessor:"thursday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,3)},sortable:!1,resizable:!1},{Header:c(4),accessor:"friday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,4)},sortable:!1,resizable:!1},{Header:c(5),accessor:"saturday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,5)},sortable:!1,resizable:!1},{Header:c(6),accessor:"sunday",minWidth:95,maxWidth:125,Cell:function(e){var t=e.value;return s(t,6)},sortable:!1,resizable:!1},{Header:function(){return Object(a.jsx)("div",{className:$a.a.header,children:"Due Date"})},accessor:"dueDate",minWidth:100,maxWidth:130,sortable:!0,resizable:!1,sortMethod:function(){}}]},mr=n(173),pr=n(189),hr=n.n(pr),Or=function(e){var t=e.children,n=e.isVisible,r=e.legendContent;return Object(a.jsxs)("fieldset",{className:hr.a.container,children:[Object(a.jsx)("legend",{className:hr.a["legend-wrapper"],children:n&&Object(a.jsx)("blockquote",{className:hr.a.legend,children:r})}),t]})},fr=n(82),xr=n.n(fr),_r=function(e){var t=e.membersFilter,n=e.setMembersFilter,s=e.handleFilterClear,c=e.buttonStyle,i=Object(r.useRef)(null),o=fe(i),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(r.useContext)(re).project,m=Object(r.useMemo)((function(){return b.membersRoles.map((function(e){return{value:e.memberId._id,displayValue:e.memberId.username}}))}),[b.membersRoles]);return Object(a.jsx)(Or,{legendContent:"Tasks assigned to:",isVisible:!!t,children:Object(a.jsxs)("div",{className:xr.a.container,children:[Object(a.jsxs)("div",{className:xr.a["btn-container"],children:[Object(a.jsx)(T,{className:d?"".concat(c," ").concat(t&&xr.a["btn-partial"]," ").concat(xr.a["btn-clicked"]):"".concat(c," ").concat(t&&xr.a["btn-partial"]),onClick:function(){return j(!d)},title:t&&t.name||"Tasks Assigned To:"}),t&&Object(a.jsx)(T,{className:"".concat(c," ").concat(xr.a["btn-clear"]),title:"X",onClick:function(){s(),j(!1)}})]}),d&&Object(a.jsx)("div",{className:xr.a.options,ref:i,children:m.map((function(e){return Object(a.jsx)("div",{className:xr.a.option,onClick:function(){return t=e.value,a=e.displayValue,n(t,a),void j(!1);var t,a},children:e.displayValue},e.value)}))})]})})},vr=n(190),gr=n.n(vr),Nr=function(e){var t=e.dueBefore,n=e.buttonStyle,r=e.onChange,s=e.handleFilterClear;return Object(a.jsxs)(Or,{legendContent:"Tasks due before:",isVisible:!!t,children:[Object(a.jsx)(Mn.a,{selected:t,customInput:Object(a.jsx)("button",{className:t?"".concat(n," ").concat(gr.a["filter-used"]):"".concat(n," ").concat(gr.a["filter-blank"]),children:t?Jn(t,"%d-%m-%Y"):"Due Before:"}),showWeekNumbers:!0,onChange:r}),t&&Object(a.jsx)("button",{className:"".concat(n," ").concat(gr.a["filter-clear"]),onClick:s,children:"X"})]})},kr=n(136),Cr=n.n(kr),wr=function(e){var t=e.isActive,n=e.toggleStatus,r=e.label,s=e.containerStyle;return Object(a.jsxs)("div",{className:"".concat(Cr.a.container," ").concat(s),children:[Object(a.jsx)("label",{children:r}),Object(a.jsx)("span",{className:"".concat(Cr.a["switch-container"]," ").concat(t&&Cr.a["container-active"]),onClick:n,children:Object(a.jsx)("span",{className:Cr.a["state-circle"]})})]})},yr=n(83),Tr=n.n(yr),Sr=function(e){var t=e.buttonStyle,n=e.filters,s=e.toggleFilter,c=Object(r.useRef)(null),i=fe(c),o=Object(l.a)(i,2),u=o[0],d=o[1];return Object(a.jsxs)("div",{className:Tr.a.container,children:[Object(a.jsx)(T,{title:"Filter By Progress:",className:"".concat(t," ").concat(Tr.a["btn-progress"]),onClick:function(){return d(!u)}}),u&&Object(a.jsxs)("div",{className:Tr.a.dropdown,ref:c,children:[Object(a.jsx)(wr,{isActive:n.notStarted,label:"Not Started",toggleStatus:function(){return s("notStarted")},containerStyle:"".concat(Tr.a["progress-switch"]," ").concat(Tr.a["progress-switch-top"])}),Object(a.jsx)(wr,{isActive:n.inProgress,label:"In Progress",toggleStatus:function(){return s("inProgress")},containerStyle:Tr.a["progress-switch"]}),Object(a.jsx)(wr,{isActive:n.done,label:"Done",toggleStatus:function(){return s("done")},containerStyle:"".concat(Tr.a["progress-switch"]," ").concat(Tr.a["progress-switch-bottom"])})]})]})},Pr=function(e){var t=e.filter,n=e.setFilter;return Object(a.jsxs)("div",{className:$a.a["filters-container"],children:[Object(a.jsx)(Sr,{buttonStyle:$a.a.filter,filters:t.progress,toggleFilter:function(e){var a=t.progress[[e]];n(Object(o.a)(Object(o.a)({},t),{},{progress:Object(o.a)(Object(o.a)({},t.progress),{},Object(mr.a)({},e,!a))}))}}),Object(a.jsx)(_r,{membersFilter:t.member,setMembersFilter:function(e,a){return n(Object(o.a)(Object(o.a)({},t),{},{member:{id:e,name:a}}))},handleFilterClear:function(){return n(Object(o.a)(Object(o.a)({},t),{},{member:null}))},buttonStyle:$a.a.filter}),Object(a.jsx)(Nr,{dueBefore:t.dueBefore,buttonStyle:$a.a.filter,onChange:function(e){return n(Object(o.a)(Object(o.a)({},t),{},{dueBefore:e}))},handleFilterClear:function(){return n(Object(o.a)(Object(o.a)({},t),{},{dueBefore:null}))}})]})},Dr=n(61),Ir=n.n(Dr),Fr=n.p+"static/media/previous-day.e04a7658.svg",Er=n.p+"static/media/next-day.2584bb08.svg",Ar=function(e){var t=e.startDate,n=e.changeStartDate,r=e.setStartDate;return Object(a.jsxs)("div",{className:Ir.a.container,children:[Object(a.jsx)(Mn.a,{selected:t,customInput:Object(a.jsx)("button",{className:Ir.a.navigateButtons,children:"Choose Week"}),showWeekNumbers:!0,onChange:function(e){return r(Un(e))}}),Object(a.jsx)("button",{className:Ir.a.navigateButtons,onClick:function(){return n(-7)},children:"Previous week"}),Object(a.jsxs)("div",{className:Ir.a.picContainer,onClick:function(){return n(-1)},children:[Object(a.jsx)("img",{className:Ir.a.buttonPreviousDay,src:Fr,alt:"..."}),Object(a.jsx)("div",{className:Ir.a.centeredText,children:"Previous day"})]}),Object(a.jsxs)("div",{className:Ir.a.picContainer,onClick:function(){return n(1)},children:[Object(a.jsx)("img",{className:Ir.a.buttonPreviousDay,src:Er,alt:"..."}),Object(a.jsx)("div",{className:Ir.a.centeredText,children:"Next day"})]}),Object(a.jsx)("button",{className:Ir.a.navigateButtons,onClick:function(){return n(7)},children:"Next week"})]})},Mr=function(e,t){return e.name.localeCompare(t.name)},Lr=function(e,t){var n=e.progress||0,a=t.progress||0;return n>a?1:n<a?-1:0},Hr=function(e,t){var n=e.dueDate?new Date(e.dueDate):new Date("1970-01-01"),a=t.dueDate?new Date(t.dueDate):new Date("1970-01-01");return Vn(n,a)},zr=function(e){return{task:e.task||"",progress:e.progress||"",assigned:e.assigned||"",monday:e.monday||"",tuesday:e.tuesday||"",wednesday:e.wednesday||"",thursday:e.thursday||"",friday:e.friday||"",saturday:e.saturday||"",sunday:e.sunday||"",dueDate:e.dueDate||""}},Rr=function(e){var t=e.project,n=Object(r.useContext)(re),s=Object(r.useContext)(p),c=Object(j.h)(),i=Object(r.useState)(Un()),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)([]),m=Object(l.a)(b,2),h=m[0],O=m[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),_=x[0],v=x[1],g=Object(r.useState)(null),N=Object(l.a)(g,2),k=N[0],C=N[1],w=Object(r.useState)({columnName:null,isDescending:!1}),y=Object(l.a)(w,2),S=y[0],P=y[1],D=Object(r.useState)({progress:{notStarted:!0,inProgress:!0,done:!0},member:null,dueBefore:null,isUsed:!1}),I=Object(l.a)(D,2),F=I[0],E=I[1],A=Object(r.useCallback)((function(e){var t=n.project.membersRoles.find((function(e){return e.memberId._id===s.user.id}));t&&t.admin&&v(e),n.setLists(n.project.lists)}),[n,s.user.id]),M=Object(r.useCallback)((function(){var e=[],r=t.lists;n.setLists(r);var s=function(e,t){var n=null;switch(e){case"task":n=Mr;break;case"progress":n=Lr;break;case"dueDate":n=Hr;break;default:return null}return function(e,a){var r=n(e,a);return t?-r:r}}(S.columnName,S.isDescending);r.forEach((function(r,i){if(!n.hiddenLists.includes(r._id)){e.push(zr({task:Object(a.jsx)("div",{className:qa.a.listNameContainer,style:{background:r.color||"#A6A48E"},onClick:function(){return A(r)},children:Object(a.jsx)("span",{className:qa.a.listNameText,children:r.name})},i),dueDate:Object(a.jsx)("div",{onClick:function(){return C({newTask:r._id})},className:qa.a.addTask,children:"+ Add Task"})}));var o=r.cards.filter((function(e){return function(e,t){var n=!1;!t.progress.notStarted||0!==e.progress&&e.progress||(n=!0),t.progress.inProgress&&e.progress>0&&e.progress<100&&(n=!0),t.progress.done&&100===e.progress&&(n=!0);var a=!t.member||e.members.some((function(e){return e._id===t.member.id})),r=!t.dueBefore||e.dueDate&&Vn(new Date(e.dueDate),t.dueBefore)<=0;return n&&a&&r}(e,F)}));S.columnName&&(o=o.sort(s)),o.forEach((function(n){var s=n.dueDate?new Date(n.dueDate):"",i={date:s,history:function(e){if(!e)return null;var t,n={events:{},hasEventsInWeek:{}},a=Object(Sa.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,s=new Date(r.date);"Created"===r.event&&(n.startDate=s),n.events[Jn(s,"%d/%m/%y")]=r,n.hasEventsInWeek[Jn(s,"%w/%y")]=!0}}catch(i){a.e(i)}finally{a.f()}var c=e[e.length-1];return c&&"Progress 100%"===c.event&&(n.finishedDate=new Date(c.date)),n}(n.history),progress:n.progress},o=JSON.stringify(i);e.push(zr({task:Object(a.jsx)(tr,{card:n,listId:r._id,project:t}),progress:Object(a.jsx)(nr,{value:n.progress+"/"+n._id+"/"+r._id,listId:r._id,project:t,card:n}),assigned:Object(a.jsx)(Fn,{members:n.members,maxLength:2}),monday:o,tuesday:o,wednesday:o,thursday:o,friday:o,saturday:o,sunday:o,dueDate:Object(a.jsx)(ar,{value:s?Jn(s,"%d-%m-%Y"):"",cardDueDate:s,cardId:n._id,listId:r._id,project:t,card:n,teamId:c.teamid})}))})),k&&k.newTask&&k.newTask===r._id&&e.push(zr({task:Object(a.jsx)(sr,{listId:r._id,project:t,handleInputRemove:function(){return C(null)}})}))}})),k&&k.newList&&e.push(zr({task:Object(a.jsx)(cr,{project:t,handleInputRemove:function(){return C(null)}})})),O(S.isDescending?e.reverse():e)}),[F,A,c.teamid,n,t,k,S.columnName,S.isDescending]);Object(r.useEffect)((function(){M()}),[F,t,n.hiddenLists,S,M]);return Object(a.jsxs)("div",{className:qa.a.pageContainer,children:[_&&Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return v("")},children:Object(a.jsx)(Ua,{hideForm:function(){return v("")},list:_,project:t})})}),Object(a.jsxs)("div",{className:qa.a.buttoDiv,children:[Object(a.jsx)(Pr,{filter:F,setFilter:E}),Object(a.jsx)(Ar,{startDate:u,setStartDate:d,changeStartDate:function(e){var t=Bn(u,e);d(t)}}),Object(a.jsx)(T,{className:qa.a.addListButton,onClick:function(){return C({newList:!0})},title:"+ Add List"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(Qa.a,{data:h,columns:br(u),defaultPageSize:10,pageSize:h.length,showPagination:!1,background:"white",className:"".concat(qa.a.reactTable," -highlight"),getTbodyProps:function(){return{className:qa.a.reactTableBody}},getTrGroupProps:function(){return{className:qa.a.reactTableTrGroup}},onSortedChange:function(e){var t=e[0],n=t.id,a=t.desc;P({columnName:n,isDescending:a})}})})]})};function Wr(){var e=Object(j.h)(),t=I(),n=Object(r.useContext)(re),s=Object(r.useCallback)((function(e){n.setProject(e)}),[n]);return Object(r.useEffect)((function(){var n=e.projectid;if(null!=t)return t.on("project-updated",s),t.emit("project-join",n),function(){return t.off("project-updated")}}),[t,s,e.projectid]),n.project&&n.project._id===e.projectid?Object(a.jsx)(et,{contentClassName:Ka.a["layout-container"],children:Object(a.jsx)("div",{className:Ka.a.calendarPageContainer,children:Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:Ka.a["calendar-container"],children:Object(a.jsx)(Rr,{project:n.project})})})})}):Object(a.jsx)(et,{children:Object(a.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})})}var Br=function(e){var t=e.children,n=Object(r.useState)([]),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(r.useState)(null),m=Object(l.a)(b,2),p=m[0],h=m[1],O=Object(r.useState)("Select"),f=Object(l.a)(O,2),x=f[0],_=f[1];return Object(a.jsx)(re.Provider,{value:{lists:c,setLists:i,hiddenLists:d,setHiddenLists:j,project:p,setProject:h,projectName:x,setProjectName:_},children:t})};var Ur=function(e){var t=e.children,n=Object(r.useState)([]),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)("Select"),u=Object(l.a)(o,2),d=u[0],j=u[1],h=Object(r.useState)([]),O=Object(l.a)(h,2),f=O[0],x=O[1],_=Object(r.useContext)(p),N=I();Object(r.useEffect)((function(){i(_.user.teams)}),[_.user.teams]);var k=Object(r.useCallback)(Object(g.a)(v.a.mark((function e(){var t,n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b("x-auth-token"),e.next=3,fetch("/api/teams",{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,i(a.teams),r=m(a),_.logIn(r);case 10:case"end":return e.stop()}}),e)}))),[_]);return Object(r.useEffect)((function(){if(null!=N)return N.on("team-updated",k),function(){return N.off("team-updated")}}),[N,k]),Object(a.jsx)(C.Provider,{value:{teams:c,setTeams:i,selectedTeam:d,setSelectedTeam:j,currentProjects:f,setCurrentProjects:x,getCurrentProjects:function(e){var t=c.find((function(t){return t._id===e}));t&&x(t.projects)},updateSelectedTeam:function(e){var t=c.find((function(t){return t._id===e}));t&&j(t.name)}},children:t})},Gr=n(53),Jr=n.n(Gr),Yr=n(74),Vr=n.n(Yr);function Kr(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),s=n[0],c=n[1],i=Object(j.h)();return Object(a.jsxs)("div",{children:[s?Object(a.jsx)("div",{children:Object(a.jsx)(be,{hideForm:function(){return c(!s)},children:Object(a.jsx)(Ce,{hideForm:function(){return c(!s)},project:e.project})})}):null,Object(a.jsxs)("div",{className:Vr.a.container,children:[Object(a.jsx)("div",{className:Vr.a["top-side"],children:Object(a.jsxs)(f.b,{to:"/project-board/".concat(i.teamid,"/").concat(e.project._id),className:Vr.a.key,children:["Name: ",Object(a.jsx)("span",{className:Vr.a.value,children:e.project.name})]})}),Object(a.jsxs)("div",{className:Vr.a["lower-side"],children:[Object(a.jsxs)("div",{className:Vr.a["key-lower"],children:["Creator: ",Object(a.jsx)("span",{className:Vr.a.value,children:e.project.author.username})]}),Object(a.jsx)("div",{className:Vr.a.info,children:Object(a.jsx)(G,{className:Vr.a["info-btn"],title:"Info",onClick:function(){return c(!s)}})})]})]})]})}var Zr=n.p+"static/media/pic1.5bdefb31.svg",qr=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(r.useState)(!1),b=Object(l.a)(d,2),m=b[0],h=b[1],O=Object(r.useState)({}),f=Object(l.a)(O,2),x=f[0],_=f[1],v=Object(r.useState)([]),g=Object(l.a)(v,2),N=g[0],k=g[1],C=Object(r.useState)([]),w=Object(l.a)(C,2),y=w[0],T=w[1],S=Object(r.useState)([]),P=Object(l.a)(S,2),D=P[0],I=P[1],F=Object(j.h)(),E=Object(r.useContext)(p);return Object(r.useEffect)((function(){E.user.teams.forEach((function(e){e._id===F.teamid&&(_(e),k(e.projects),T(e.members),I(e.requests))}))}),[E,F]),Ja(F.teamid),Object(a.jsx)(et,{children:Object(a.jsxs)("div",{className:Jr.a.container,children:[n&&Object(a.jsx)(be,{hideForm:function(){return s(!1)},children:Object(a.jsx)(Ve,{})}),o&&Object(a.jsx)(be,{hideForm:function(){return u(!1)},children:Object(a.jsx)(tn,{currTeam:x,hideForm:function(){u(!1)}})}),Object(a.jsx)("div",{className:Jr.a.pic1,children:Object(a.jsx)("img",{className:Jr.a.picture,src:Zr,alt:""})}),Object(a.jsx)("div",{className:Jr.a["left-side"],children:m?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Jr.a.title,children:"Old Projects:"}),N.filter((function(e){return!0===e.isFinished})).reverse().map((function(e,t){return Object(a.jsx)(Kr,{index:t,project:e},e._id)}))]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Jr.a.title,children:"Current Projects:"}),N.filter((function(e){return!1===e.isFinished||void 0===e.isFinished})).reverse().map((function(e,t){return Object(a.jsx)(Kr,{index:t,project:e},e._id)}))]})}),Object(a.jsx)("div",{className:Jr.a["right-side"],children:Object(a.jsxs)("div",{className:Jr.a["right-side-team"],children:[Object(a.jsx)(en,{members:y,invited:D}),Object(a.jsxs)("div",{className:Jr.a["button-div"],children:[Object(a.jsx)(G,{className:Jr.a["new-project-button"],title:"View Team",onClick:function(){return u(!0)}}),Object(a.jsx)(G,{className:Jr.a["new-project-button"],title:"New Project",onClick:function(){return s(!0)}}),Object(a.jsx)(G,{className:Jr.a["new-project-button"],title:m?"Current Projects":"Old Projects",onClick:function(){return h(!m)}})]})]})})]})})},Qr=n(37),Xr=n.n(Qr),$r=n(372),es=n.n($r),ts=function(e){var t=e.title,n=e.onClick,r=e.className;return Object(a.jsx)("button",{onClick:n,className:"".concat(es.a.button," ").concat(r),children:t})},ns=function(){var e=Object(j.h)(),t=Object(j.g)(),n=Object(r.useState)(!0),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],m=Object(r.useContext)(p),h=m.user.newPasswordConfirmed,O=Object(r.useCallback)(Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.token,"not-confirmed"!==e.token){t.next=3;break}return t.abrupt("return");case 3:if(!m.user.confirmed||!m.user.newPasswordConfirmed){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,wt("/api/user/confirmation","POST",{token:n},(function(e){m.logIn(e),i(!1),b(!0)}),(function(e){console.log("Error",e)}));case 7:case"end":return t.stop()}}),t)}))),[e.token,m]);return Object(r.useEffect)((function(){O()}),[O]),"not-confirmed"===e.token?Object(a.jsx)("div",{children:h?Object(a.jsxs)("div",{className:Xr.a.container,children:[Object(a.jsx)("div",{className:Xr.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"194",height:"142"})}),Object(a.jsx)("div",{className:Xr.a.title,children:" Confirm your email address"}),Object(a.jsx)("div",{className:Xr.a.text,children:"Please check your email to confirm your account"}),Object(a.jsx)("div",{className:Xr.a.text,children:"Once confirmed, this email address will be uniquely associated with your Smart Manager  account."})]}):Object(a.jsxs)("div",{className:Xr.a.container,children:[Object(a.jsx)("div",{className:Xr.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"194",height:"142"})}),Object(a.jsx)("div",{className:Xr.a.title,children:" Confirm your new password"}),Object(a.jsx)("div",{className:Xr.a.text,children:"Please check your email to confirm your new password"}),Object(a.jsx)("div",{className:Xr.a.text,children:"Once confirmed, your new password will be active for your Smart Manager  account."})]})}):Object(a.jsxs)("div",{children:[c&&Object(a.jsx)("div",{children:"Validating your email."}),!c&&d&&Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:Xr.a.container,children:[Object(a.jsx)("div",{className:Xr.a.logo,children:Object(a.jsx)("img",{src:Q,alt:"logo",width:"194",height:"142"})}),Object(a.jsx)("div",{className:Xr.a.title,children:" Thank you"}),Object(a.jsx)("div",{className:Xr.a.text,children:"You can continue to Smart Manager now"}),Object(a.jsx)(ts,{title:"Proceed",className:Xr.a["proceed-button"],onClick:function(){return t.push("/")}}),Object(a.jsx)("div",{className:Xr.a.cheers,children:" Cheers,"}),Object(a.jsx)("div",{className:Xr.a.team,children:"The Smart Manager Team"})]})})]})},as=function(){var e=Object(r.useContext)(p),t=e.user.loggedIn;return Object(a.jsx)(f.a,{children:Object(a.jsx)(F,{user:e.user,children:Object(a.jsx)(Br,{children:Object(a.jsx)(Ur,{children:Object(a.jsx)(Kt.CloudinaryContext,{cloudName:"do7mce7ni",children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/confirmation/:token",children:Object(a.jsx)(ns,{})}),(t&&!e.user.confirmed||t&&!e.user.newPasswordConfirmed)&&Object(a.jsx)(j.a,{to:"/confirmation/not-confirmed"}),Object(a.jsx)(j.b,{exact:!0,path:"/",children:t?Object(a.jsx)(ut,{}):Object(a.jsx)(Ut,{})}),Object(a.jsx)(j.b,{path:"/get-started/",children:t?Object(a.jsx)(Ta,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/profile/:userid",children:t?Object(a.jsx)(Zt,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/inbox/:userid",children:t?Object(a.jsx)(pn,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/my-tasks/:userid",children:t?Object(a.jsx)(Oa,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/project-board/:teamid/:projectid",children:t?Object(a.jsx)(Ya,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/project-list/:teamid/:projectid",children:t?Object(a.jsx)(Wr,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{path:"/team/:teamid",children:t?Object(a.jsx)(qr,{}):Object(a.jsx)(j.a,{to:"/"})}),Object(a.jsx)(j.b,{component:va})]})})})})})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(O,{children:Object(a.jsx)(as,{})})}),document.getElementById("root"))},72:function(e,t,n){e.exports={input:"SearchField_input__1sYIs","search-fields":"SearchField_search-fields__9mWMv","search-button":"SearchField_search-button__1ZRbg","search-icon":"SearchField_search-icon__5N1sH","new-line":"SearchField_new-line__3C-7b",small:"SearchField_small__y5Vho"}},73:function(e,t,n){e.exports={pageContainer:"CalendarTable_pageContainer__Q79fJ",columns:"CalendarTable_columns__R05Oj",task:"CalendarTable_task__29X_O",buttoDiv:"CalendarTable_buttoDiv__19ygP",addTaskField:"CalendarTable_addTaskField__1LE6i",input:"CalendarTable_input__1fPuG",addlist:"CalendarTable_addlist__h88wS",addTask:"CalendarTable_addTask__1zOEV",daylyProgress:"CalendarTable_daylyProgress__2Wx8j",header:"CalendarTable_header__oJTtG",listNameContainer:"CalendarTable_listNameContainer__3d68t",listNameColor:"CalendarTable_listNameColor__1_jb0",listNameText:"CalendarTable_listNameText__1QDpy",reactTable:"CalendarTable_reactTable__1P6dk",reactTableBody:"CalendarTable_reactTableBody__34d6X",reactTableTrGroup:"CalendarTable_reactTableTrGroup__3JTfN",addListButton:"CalendarTable_addListButton__FlXW4"}},74:function(e,t,n){e.exports={container:"Project_container__ONX64","top-side":"Project_top-side__392gi",key:"Project_key__1l93o","key-lower":"Project_key-lower__3fmM2",value:"Project_value__22HvL",info:"Project_info__1374C","info-btn":"Project_info-btn__2ozWy","lower-side":"Project_lower-side__3yWMb"}},8:function(e,t,n){e.exports={message:"Inbox_message__ZLZDI",bold:"Inbox_bold__3vZs1",container:"Inbox_container__2hD3y",button:"Inbox_button__ct1tM",inline:"Inbox_inline__1a3Yv",margin:"Inbox_margin__3Drxg"}},80:function(e,t,n){e.exports={"transparent-confirm":"ConfirmationDialog_transparent-confirm__3OT_2",container:"ConfirmationDialog_container__3JXvR",content:"ConfirmationDialog_content__dEeu0",logo:"ConfirmationDialog_logo__2XqjU",title:"ConfirmationDialog_title__1NUmE",buttons:"ConfirmationDialog_buttons__3nQtz",button:"ConfirmationDialog_button__1xvbp"}},81:function(e,t,n){e.exports={pic:"ProjectBoard_pic__3F6G8","container-droppable":"ProjectBoard_container-droppable__ckvFz",droppable:"ProjectBoard_droppable__3yrYo",list:"ProjectBoard_list__3fwLJ",addlist:"ProjectBoard_addlist__375yy",input:"ProjectBoard_input__VcGLl",container:"ProjectBoard_container__jl8cg",navigateButtons:"ProjectBoard_navigateButtons__3KAmW",button:"ProjectBoard_button__1Rmzm"}},82:function(e,t,n){e.exports={container:"FilterMembers_container__2koZH",filter:"FilterMembers_filter__1nj-B",options:"FilterMembers_options__3FOmc",option:"FilterMembers_option__2a6k6","option-blank":"FilterMembers_option-blank__2lufJ","btn-clicked":"FilterMembers_btn-clicked__9V4Tv","btn-partial":"FilterMembers_btn-partial__2NVFS","btn-clear":"FilterMembers_btn-clear__R0IXt","btn-container":"FilterMembers_btn-container__3zSrs"}},83:function(e,t,n){e.exports={container:"FilterProgress_container__2mnmK",dropdown:"FilterProgress_dropdown__2grzj","progress-switch":"FilterProgress_progress-switch__3KrHg","progress-switch-top":"FilterProgress_progress-switch-top__1XXTF","progress-switch-bottom":"FilterProgress_progress-switch-bottom__pzTtC","btn-progress":"FilterProgress_btn-progress__2vbyR"}},89:function(e,t,n){e.exports={"all-card-members":"ShowAllTaskMembers_all-card-members__CdY8E","each-member":"ShowAllTaskMembers_each-member__36BTi",name:"ShowAllTaskMembers_name__10U3W",username:"ShowAllTaskMembers_username__1Q2r4","delete-icon":"ShowAllTaskMembers_delete-icon__230_4",avatar:"ShowAllTaskMembers_avatar__3r-ka"}},97:function(e,t,n){e.exports={navigation:"Header_navigation__3GP1c",small:"Header_small__39lIY",container:"Header_container__T6xRW",links:"Header_links__1ZKWa",font:"Header_font__vD-_Q"}},98:function(e,t,n){e.exports={members:"MembersList_members__1S0EV",avatar:"MembersList_avatar__tyCrE"}},99:function(e,t,n){e.exports={container:"AttachmentList_container___lpCu",attachment:"AttachmentList_attachment__18auf",title:"AttachmentList_title__21xB0",name:"AttachmentList_name__1ynZa",button:"AttachmentList_button__3ijRd"}}},[[662,1,2]]]);
//# sourceMappingURL=main.1b1c94fe.chunk.js.map