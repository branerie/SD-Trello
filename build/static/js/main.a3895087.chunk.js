(this["webpackJsonpsmart-manager"]=this["webpackJsonpsmart-manager"]||[]).push([[0],{11:function(e,t,a){e.exports={pageContainer:"welcome_pageContainer__2MsMV",topContainer:"welcome_topContainer__1sLFC",topDivtopContainer:"welcome_topDivtopContainer__1BQ8C",headerNav:"welcome_headerNav__2-v0A",logo:"welcome_logo__2Xqb5",firstButtons:"welcome_firstButtons__2GaNa",loginButton:"welcome_loginButton__1s5YU",signUpButton:"welcome_signUpButton__17HQF",topright:"welcome_topright__19thc",pic1:"welcome_pic1__qGdZx",pic2:"welcome_pic2__1c6_d",lowerDivtopContainer:"welcome_lowerDivtopContainer__vfmOx",firstText:"welcome_firstText__1cwSt",headers:"welcome_headers__3K-We",lucida:"welcome_lucida__ptbMc",paragraph:"welcome_paragraph__2tZDv",secondSignUpButton:"welcome_secondSignUpButton__3MeS7",secondContainer:"welcome_secondContainer__2-ZjX",firstRow:"welcome_firstRow__HneET",secondText:"welcome_secondText__107NK",thirdSignUpButton:"welcome_thirdSignUpButton__2Tob4",pic3Container:"welcome_pic3Container__n-vpQ",pic3:"welcome_pic3__UtHpX",secondRow:"welcome_secondRow__3Qag6",thirdText:"welcome_thirdText__3UTjU",pic4Container:"welcome_pic4Container__2LJvq",pic4:"welcome_pic4__3Me4y",pic5:"welcome_pic5__1w7Rp",thirdRow:"welcome_thirdRow__1v6hn",lastText:"welcome_lastText__3fE1B",lastHeaders:"welcome_lastHeaders__15kTV",lastParagraph:"welcome_lastParagraph__TiofZ",lastSignUpButton:"welcome_lastSignUpButton__2YDJE",pic6Container:"welcome_pic6Container__2Zxs1",pic6:"welcome_pic6__3nl5E",contentWrap:"welcome_contentWrap__1LD1T",footer:"welcome_footer__3gtAE",footerColumn:"welcome_footerColumn__3ooU8",footerHeaders:"welcome_footerHeaders__YIaMe",footerInfo:"welcome_footerInfo__1XQxM",lastColumn:"welcome_lastColumn__wS5Ha",socialMediaContainer:"welcome_socialMediaContainer__15hgL",socialMedia:"welcome_socialMedia__3XfBj",sd2006:"welcome_sd2006__1n8Ed"}},112:function(e,t,a){e.exports={container:"edit-project_container__3bzmM",form:"edit-project_form__u2u3o",membersList:"edit-project_membersList__2gqSm",editMembers:"edit-project_editMembers__2h7yv"}},12:function(e,t,a){e.exports={container:"create-card_container__1KGUj",form:"create-card_form__3QC0I",clean:"create-card_clean__3QajY",editButton:"create-card_editButton__uDHqy",text:"create-card_text__2CDTA",leftSide:"create-card_leftSide__ynGPb",rightSide:"create-card_rightSide__2oHzZ",inputTitles:"create-card_inputTitles__19hEe",pic1:"create-card_pic1__3DVGL",firstRow:"create-card_firstRow__3RqYb",nameInput:"create-card_nameInput__17JOJ",progressInput:"create-card_progressInput__1xCxk",createNameInput:"create-card_createNameInput__ymyWs",nameContainer:"create-card_nameContainer__3J3dR",textName:"create-card_textName__3tjjY",secondRow:"create-card_secondRow__1wJaJ",pic2:"create-card_pic2__3Yqne",bar:"create-card_bar__2ziCh",progress:"create-card_progress__2VQqL",progressInputContainer:"create-card_progressInputContainer__2RTO6",progressDiv:"create-card_progressDiv__3Az0M",membersDiv:"create-card_membersDiv__3YIWG",members:"create-card_members__mQn69",dueDate:"create-card_dueDate__13uEx",thirdRow:"create-card_thirdRow__3egxH",descriptinTitle:"create-card_descriptinTitle__3lakd",descriptionInput:"create-card_descriptionInput__mW_VY",descriptionButtons:"create-card_descriptionButtons__X0qkI",lasRow:"create-card_lasRow__2KAbi",lasRowRight:"create-card_lasRowRight__3lmjU",smallButtons:"create-card_smallButtons__1e9D_",picsSmallButtons:"create-card_picsSmallButtons__21xQV",smallButtonsNoPic:"create-card_smallButtonsNoPic__2IuW1"}},13:function(e,t,a){e.exports={container:"edit-card_container__2tYtI",form:"edit-card_form__2L5z5",clean:"edit-card_clean__3F9ET",editButton:"edit-card_editButton__iPRtv",text:"edit-card_text__3mvzJ",leftSide:"edit-card_leftSide__dTZkK",rightSide:"edit-card_rightSide__2UqY_",inputTitles:"edit-card_inputTitles__5qCV4",pic1:"edit-card_pic1__3MUMa",firstRow:"edit-card_firstRow__3GNRw",nameInput:"edit-card_nameInput__oHBLw",nameContainer:"edit-card_nameContainer__1aOY5",textName:"edit-card_textName__2ll_f",secondRow:"edit-card_secondRow__1FPEo",pic2:"edit-card_pic2__1auTe",bar:"edit-card_bar__237He",progress:"edit-card_progress__270Zm",progressInputContainer:"edit-card_progressInputContainer__OM3qZ",progressDiv:"edit-card_progressDiv__1-poZ",membersDiv:"edit-card_membersDiv__3UY00",members:"edit-card_members__3WgOH",dueDate:"edit-card_dueDate__10ing",thirdRow:"edit-card_thirdRow__91nzX",descriptinTitle:"edit-card_descriptinTitle__2pU3Z",descriptionInput:"edit-card_descriptionInput__2wVSN",descriptionButtons:"edit-card_descriptionButtons__6ZRKS",lasRow:"edit-card_lasRow__2PCIs",lasRowRight:"edit-card_lasRowRight__247I2",smallButtons:"edit-card_smallButtons__1-S_R",picsSmallButtons:"edit-card_picsSmallButtons__1NJsu",smallButtonsNoPic:"edit-card_smallButtonsNoPic__1TU6X"}},14:function(e,t,a){e.exports={navigation:"header_navigation__fJ63T",small:"header_small__1teZG",container:"header_container__3KlHF",links:"header_links__2hRFR",margin:"header_margin__1o7ce",options:"header_options__3k5mV","first-option":"header_first-option__2kqDm","last-option":"header_last-option__3QlKJ",logout:"header_logout__Sqhs8",input:"header_input__1xJ3o",avatar:"header_avatar__2BJ1H",font:"header_font__SQRRp",select:"header_select__3fnVl",view:"header_view__3reCI","logout-position":"header_logout-position__3aXq5","view-position":"header_view-position__2YHhc",teams:"header_teams__28NdG","teams-position":"header_teams-position__3RFVg","team-options":"header_team-options__3EQGp",overflow:"header_overflow__3pY44",hover:"header_hover__1X08T",flex:"header_flex__26aaz","projects-position":"header_projects-position__KW8oY"}},15:function(e,t,a){e.exports={columns:"calendar-data_columns__1QWXz",task:"calendar-data_task__ZE6uj",buttoDiv:"calendar-data_buttoDiv__2J87B",listName:"calendar-data_listName__3lv8E",container:"calendar-data_container__AkkwG",input:"calendar-data_input__1VVv0",inputList:"calendar-data_inputList__18Si4",addlist:"calendar-data_addlist__3ybnS",progressInput:"calendar-data_progressInput__3fTl8",addListButton:"calendar-data_addListButton__1LTMv",dueDateField:"calendar-data_dueDateField__3nuYW",dueDateFieldInput:"calendar-data_dueDateFieldInput__1csSW",inputTaskName:"calendar-data_inputTaskName__T52kv",clean:"calendar-data_clean__ldBxu",taskProgress:"calendar-data_taskProgress__1KRv2",taskProgressButton:"calendar-data_taskProgressButton__3GJU6",tableText:"calendar-data_tableText__2Rt8E",select:"calendar-data_select__21nQR",pen:"calendar-data_pen__1ZWSl",membersDiv:"calendar-data_membersDiv__3h7P0",membersContainer:"calendar-data_membersContainer__3yEFo",daylyProgress:"calendar-data_daylyProgress__2hXc9",header:"calendar-data_header__3vmIu"}},150:function(e,t,a){e.exports={submit:"button-hide-list_submit__3IMBu",name:"button-hide-list_name__yyff7",opacity:"button-hide-list_opacity__1yCdD"}},151:function(e,t,a){e.exports={app:"page-layout_app__v-_Gs",content:"page-layout_content__Cr_Mh",small:"page-layout_small__208gw"}},152:function(e,t,a){e.exports={message:"inbox_message__19Xxe"}},21:function(e,t,a){e.exports={container:"signup-form_container__pL3cY",alerts:"signup-form_alerts__1NIfM",innerContainer:"signup-form_innerContainer__5EwRE",logo:"signup-form_logo__EYNAN",rightSide:"signup-form_rightSide__aj-hV",title:"signup-form_title__QLVot",inputContainer:"signup-form_inputContainer__1aISK",passInstructions:"signup-form_passInstructions__2sXBP",signUpButton:"signup-form_signUpButton__3KddA",buttonDiv:"signup-form_buttonDiv__2Jo9x",textDiv:"signup-form_textDiv__1S15C",forgotPass:"signup-form_forgotPass__30gKD",alreadySignUp:"signup-form_alreadySignUp__ApEU9",signUpBtn:"signup-form_signUpBtn__3sCir",googleLoginBtn:"signup-form_googleLoginBtn__3tonf"}},211:function(e,t,a){e.exports={aside:"list-color_aside__27qHb",list:"list-color_list__3JEd4"}},212:function(e,t,a){e.exports={container:"edit-profile_container__3NVVU",form:"edit-profile_form__1T0aM"}},217:function(e,t,a){e.exports={newProjectButton:"team_newProjectButton__39sxK"}},28:function(e,t,a){e.exports={container:"add-project-member_container__22-qP",form:"add-project-member_form__3qaBa","current-members":"add-project-member_current-members__3RNVi",adminsContainer:"add-project-member_adminsContainer__1pj6I",admins:"add-project-member_admins__3tdXj",bigContainer:"add-project-member_bigContainer__1TE1V",membersContainer:"add-project-member_membersContainer__3_gmB",title:"add-project-member_title__3EGhe",members:"add-project-member_members__8u9vO",addButton:"add-project-member_addButton__3IjAh",draggable:"add-project-member_draggable__3PkUN",droppable:"add-project-member_droppable__XWc43",droppableMembers:"add-project-member_droppableMembers__32myT"}},29:function(e,t,a){e.exports={container:"create-project_container__3mplR",title:"create-project_title__2N9HY",inputContainer:"create-project_inputContainer__2IJ0I",inputContainerDescr:"create-project_inputContainerDescr__ZOQKA",textarea:"create-project_textarea__vHUfS",buttonDiv:"create-project_buttonDiv__3nEhN",createButton:"create-project_createButton__3c1D8",membersAvatars:"create-project_membersAvatars__38Wlv",members:"create-project_members__2Uleh",user:"create-project_user__6JmZH"}},299:function(e,t,a){e.exports={link:"link_link__3NAE5"}},30:function(e,t,a){e.exports={container:"edit-team_container__3iIvO",title:"edit-team_title__t532U",inputContainer:"edit-team_inputContainer__fS75R",inputContainerDescr:"edit-team_inputContainerDescr__pjoTj",textarea:"edit-team_textarea__7Jv7o",buttonDiv:"edit-team_buttonDiv__1vrBc",createButton:"edit-team_createButton__26byR",membersAvatars:"edit-team_membersAvatars__30OQB",members:"edit-team_members__3Uqvp",user:"edit-team_user__3k1aK",email:"edit-team_email__1dRrH"}},300:function(e,t,a){e.exports={clean:"button-clean_clean__2SpL2"}},301:function(e,t,a){e.exports={transparent:"transparent_transparent__30Vus"}},302:function(e,t,a){e.exports={submit:"button_submit__3lGVn"}},303:function(e,t,a){e.exports={title:"title_title__3Ce-3"}},307:function(e,t,a){e.exports={alert:"alert_alert__3deuX"}},32:function(e,t,a){e.exports={container:"create-team_container__2x5c_",title:"create-team_title___mRVu",inputContainer:"create-team_inputContainer__31V6c",inputContainerDescr:"create-team_inputContainerDescr__2mKsD",textarea:"create-team_textarea__1GWAG",buttonDiv:"create-team_buttonDiv__3N3fg",createButton:"create-team_createButton__3snCF",membersAvatars:"create-team_membersAvatars__3JDn6",members:"create-team_members__32-cU",user:"create-team_user__2icTP",email:"create-team_email__lytiR"}},33:function(e,t,a){e.exports={container:"login-form_container__DtpdL",logo:"login-form_logo__2lNG1",rightSide:"login-form_rightSide__1rx9t",title:"login-form_title__I-Bu-",inputContainer:"login-form_inputContainer__oL5TO",loginButton:"login-form_loginButton__1pGPK",buttonDiv:"login-form_buttonDiv__35Fz6",textDiv:"login-form_textDiv__3c9le",forgotPass:"login-form_forgotPass__2QGNZ",newToSmM:"login-form_newToSmM__22ZMI",signUpBtn:"login-form_signUpBtn__3WDwC",googleLoginBtn:"login-form_googleLoginBtn__FCyuZ"}},345:function(e,t,a){},36:function(e,t,a){e.exports={list:"list_list__23Rsq",row:"list_row__1A6HD",button:"list_button__2gQ2b",dots:"list_dots__wwSr4",menu:"list_menu__1hArt",active:"list_active__21mJd",relative:"list_relative__2X72U","add-task":"list_add-task__12pcF",draggable:"list_draggable__2_1rW",droppable:"list_droppable__cPWKr",flexend:"list_flexend__3_V7F",name:"list_name__33z_E",container:"list_container__HKNpO",input:"list_input__3Rjro",taskInput:"list_taskInput__2yaty"}},43:function(e,t,a){e.exports={aside:"aside_aside__3wMyb",container:"aside_container__Qu0TM",button:"aside_button__1Dg_A",logo:"aside_logo__1AAc9",topleft:"aside_topleft__1Lq3J",menu:"aside_menu__b_F-d",topright:"aside_topright__2SZev",link:"aside_link__2o8o9",bottomright:"aside_bottomright___B5p3"}},44:function(e,t,a){e.exports={card:"card_card__35DiC",bar:"card_bar__V0jN_",progress:"card_progress__S2h6J",flex:"card_flex__1dGe1",pen:"card_pen__23iOe",members:"card_members__2m-n7",avatar:"card_avatar__3ZLPw"}},50:function(e,t,a){e.exports={container:"form-add-password_container__2yhI6",logo:"form-add-password_logo__1HgWR",rightSide:"form-add-password_rightSide__1LBUg",title:"form-add-password_title__1kxgS",inputContainer:"form-add-password_inputContainer__zhZU1",passInstructions:"form-add-password_passInstructions__25RWw",loginButton:"form-add-password_loginButton__3pupI",buttonDiv:"form-add-password_buttonDiv__3-Pyi",textDiv:"form-add-password_textDiv__3Bs4x",forgotPass:"form-add-password_forgotPass__1Uo4N",newToSmM:"form-add-password_newToSmM__3qN7U",signUpBtn:"form-add-password_signUpBtn__2VXx2",googleLoginBtn:"form-add-password_googleLoginBtn__RtIq_"}},51:function(e,t,a){e.exports={projectInfoContainer:"project-list_projectInfoContainer__3mRLd",calendarContainer:"project-list_calendarContainer__27ZyO",table:"project-list_table__ibsXA",column:"project-list_column__3rGR1",columnChild:"project-list_columnChild__1AVvT",daylyElement:"project-list_daylyElement__2Qz1Z",filter:"project-list_filter__1hU5X","filter-off":"project-list_filter-off__2hOsK"}},574:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),s=a(66),i=a.n(s),o=a(18),l=a(3),u=a(70),d=a.n(u),j=a(24),b=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null},m=c.a.createContext({user:null,logIn:function(){},logOut:function(){}}),p=function(e){var t=Object(r.useState)(null),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)(!0),u=Object(l.a)(i,2),p=u[0],h=u[1],O=Object(j.g)(),x=function(e){s(Object(o.a)(Object(o.a)({},e),{},{loggedIn:!0}))},f=Object(r.useCallback)((function(){var e=b("x-auth-token");fetch("/api/user/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){e.ok?(document.cookie="x-auth-token= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/;",s({loggedIn:!1})):O.push("/error")}))}),[O]);return Object(r.useEffect)((function(){!function(){var e=b("x-auth-token");if(!e)return s({loggedIn:!1}),void h(!1);fetch("/api/user/verify",{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){return e.json()})).then((function(e){e.status?x({username:e.user.username,id:e.user._id,teams:e.teams,inbox:e.user.inbox,confirmed:e.user.confirmed}):f(),h(!1)}))}()}),[]),p?Object(n.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3}):Object(n.jsx)(m.Provider,{value:{user:c,setUser:s,logIn:x,logOut:f},children:e.children})},h=function(e){return Object(n.jsx)(p,{children:e.children})},O=(a(345),a(16)),x=a(299),f=a.n(x),_=function(e){var t=e.title,a=e.href,r=e.className,c=e.onClick;return Object(n.jsx)(O.b,{to:a,className:"".concat(f.a.link," ").concat(r),onClick:c,children:t})},v=a(43),g=a.n(v),N=a.p+"static/media/logo.2beba198.svg",C=a.p+"static/media/menu.f66dcc80.svg",k=a.p+"static/media/home.05f82417.svg",w=a.p+"static/media/tasks.d514e762.svg",y=a.p+"static/media/inbox.ccf477dd.svg",S=a.p+"static/media/settings.bbf4368b.svg",D=c.a.createContext({lists:[],setLists:function(){},hiddenLists:[],setHiddenLists:function(){},project:{},setProject:function(){}}),T=a(37),I=a(211),B=a.n(I);function P(e){var t=e.color,a=e.type;return Object(n.jsx)("svg",{className:"".concat(B.a[a]),xmlns:"http://www.w3.org/2000/svg",width:"110",height:"26.931",viewBox:"0 0 110 26.931",children:Object(n.jsx)("g",{id:"Layer_2","data-name":"Layer 2",transform:"translate(0.002 0.014)",children:Object(n.jsx)("g",{id:"Layer_1","data-name":"Layer 1",transform:"translate(-0.002 -0.014)",children:Object(n.jsx)("path",{className:B.a.path,id:"Path_60","data-name":"Path 60",d:"M4.208,22.578l-.277-.26c-.594-.366-.814-1.074-1.351-1.49-1-.749-1.14-2.214-2.352-2.784a1.237,1.237,0,0,1-.187-.391,1.628,1.628,0,0,1,.554-1.628,5.636,5.636,0,0,1,3.1-.456,6.862,6.862,0,0,0,1.083,0,.733.733,0,0,0,.765-.765c.049-.48-.057-.814-.586-.871a1.628,1.628,0,0,1-.513-.163c-.92-.456-.961-1.083-.106-1.7a3.256,3.256,0,0,0,.545-.448,1.27,1.27,0,0,1,.659-.383c.667-.244,1.538.3,2.027-.545a.651.651,0,0,0-.244-.374,6.894,6.894,0,0,1-.659-.554,1.278,1.278,0,0,1-.415-.814A1.9,1.9,0,0,0,5.022,6.933C4.2,6.509,3.6,5.891,4.411,4.881c2.263-1.628,4.933-1.937,7.57-2.328,1.27-.309,2.589-.187,3.858-.48a4.811,4.811,0,0,1,1.449-.09c.643.073,1.254.317,1.921-.147a2.011,2.011,0,0,1,1.718-.106,2.808,2.808,0,0,0,2.32-.2,3.394,3.394,0,0,1,2.2.122c1.628-.6,3.313-.391,4.957-.667.765-.147,1.563-.114,2.328-.3a8.873,8.873,0,0,1,3.557.13.252.252,0,0,0,.269,0A2.914,2.914,0,0,1,39.885.73h.277A2.182,2.182,0,0,1,42.075.307a22.922,22.922,0,0,0,3.883.057A34.326,34.326,0,0,0,56.165.2,1.75,1.75,0,0,1,57.85.51h.277C59.136-.3,60.276.054,61.383.128a28.856,28.856,0,0,0,4.436.26,8.669,8.669,0,0,1,2.751,0c1.188.317,2.442,0,3.606.244A22.083,22.083,0,0,0,75.7.917l.464.041a16.752,16.752,0,0,0,3.191.228h.464c1.083.057,2.157.285,3.256.269,1.351,0,2.678.3,4.021.309.814.171,1.685.2,2.523.334.545.269,1.254.065,1.709.578a4.746,4.746,0,0,0,1.9.309,26.545,26.545,0,0,1,4.548.392c1.166.211,2.347.235,3.527.333,1.091.3,2.271,0,3.329.5,1.408,0,2.825,0,4.241.081.3,0,.716.1.676.513s-.374.586-.814.383c-1.034-.09-2.059-.155-2.523,1.083-.317.814-.961.562-1.555.488-.537.228-1.14.147-1.677.358a5.576,5.576,0,0,1-.814.106,20.26,20.26,0,0,0-4.591.765c.814.676,1.245,1.555,2.255,1.758a1.934,1.934,0,0,1,1.424.334c-.057,1.026-.936.586-1.449.814a.578.578,0,0,1-.383-.065.057.057,0,0,0,0,.057h3.972a1.042,1.042,0,0,1,.92.448c-.244.814-1.058.521-1.587.814-.407.212-1.156.187-.545.961a4.613,4.613,0,0,0,.391.407,11.928,11.928,0,0,0,3,.155,5.421,5.421,0,0,1,.961,0c.814.147,1.058.44.407,1.156-1.074,1.188-2.442,2.165-3.012,3.769,1.742,0,3.565.041,5.389,0,.863.4.879.92.236,1.547a1.148,1.148,0,0,0-.3.814c.114.35.073.733.212,1.074.562,1.384.5,1.547-.863,2.068a13.569,13.569,0,0,1-2.637.814c-1.571.049-3.118.521-4.7.309-1.628-.554-3.329.212-4.99-.081a9.589,9.589,0,0,0-4.884.147,2.816,2.816,0,0,1-2.076.488H79.771a5.739,5.739,0,0,0-1.9.179,10.631,10.631,0,0,1-1.831.1c-4.485,0-8.954.081-13.455,0a4.933,4.933,0,0,0-1.758.187,9.247,9.247,0,0,1-2.507.106h-.529a28.6,28.6,0,0,1-3.126,0h-.48a6.137,6.137,0,0,1-1.726-.1,11.209,11.209,0,0,0-3.533-.2c-2.222.065-4.461-.106-6.675.163a6.658,6.658,0,0,1-1.929.081,4.168,4.168,0,0,1-.456,0c-1.286,0-2.572.106-3.858.049a12.474,12.474,0,0,0-3.394,0c-1.319.2-2.67-.138-3.98.187a16.768,16.768,0,0,1-2.556.236c-1.368-.366-2.711.342-4.07.106a2.133,2.133,0,0,1-.456-.073,9.475,9.475,0,0,0-2.711-.179c-1.213-.09-2.442-.236-3.63-.342a9.377,9.377,0,0,0-1.058-.228,17.6,17.6,0,0,0-2.068-.114c-1.335-.472-2.768-.22-4.119-.521a.969.969,0,0,1-.684-.814l-.594-.537c-.244-.236-.627-.26-.814-.529l-.529-.342A1.913,1.913,0,0,1,4.208,22.578Z",transform:"translate(0.002 0.014)",fill:t})})})})}var A=a(150),R=a.n(A),E=function(e){var t=e.list,a=e.type,c=Object(r.useContext)(D);return Object(n.jsxs)("button",{onClick:function(){var e=Object(T.a)(c.hiddenLists);if(e.includes(t._id)){var a=e.indexOf(t._id);e.splice(a,1)}else e.push(t._id);c.setHiddenLists(e)},className:"".concat(R.a.submit," ").concat(c.hiddenLists.includes(t._id)?R.a.opacity:""),children:[Object(n.jsx)(P,{color:t.color||"#A6A48E",type:a}),Object(n.jsx)("div",{className:R.a.name,children:t.name})]})},F=a(300),U=a.n(F),z=function(e){var t=e.title,a=e.onClick,r=e.type,c=e.className,s=e.children,i=e.style;return Object(n.jsxs)("button",{type:r||"button",onClick:a,className:"".concat(U.a.clean," ").concat(c),style:i,children:[t,s]})};function L(e){var t=e.asideOn,a=e.setAsideOn,c=Object(r.useState)(!1),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(r.useContext)(D),d=Object(r.useContext)(m);return Object(r.useEffect)((function(){window.location.href.includes("project")&&o(!0)})),Object(n.jsxs)("div",{className:g.a.aside,children:[Object(n.jsxs)("aside",{className:g.a.container,children:[Object(n.jsx)("div",{className:g.a.topleft,children:Object(n.jsx)(z,{onClick:function(){return a(!t)},title:Object(n.jsx)("img",{className:g.a.options,src:C,alt:"menu",width:"32",height:"24"})})}),Object(n.jsx)(_,{href:"/",title:Object(n.jsx)("img",{src:k,alt:"home",width:"34",height:"32"})}),Object(n.jsx)(_,{href:"/",title:Object(n.jsx)("img",{src:w,alt:"my-tasks",width:"30",height:"25"})}),Object(n.jsx)(_,{href:"/inbox/".concat(d.user.id),title:Object(n.jsx)("img",{src:y,alt:"inbox",width:"33",height:"34"})}),Object(n.jsx)(_,{href:"/",title:Object(n.jsx)("img",{src:S,alt:"settings",width:"25",height:"25"})})]}),t?Object(n.jsxs)("div",{className:g.a.menu,children:[Object(n.jsxs)("div",{className:g.a.topright,children:[Object(n.jsx)("div",{className:g.a.logo,children:Object(n.jsx)("img",{src:N,alt:"logo",width:"87",height:"65"})}),Object(n.jsx)(_,{href:"/",title:"Home",className:g.a.link}),Object(n.jsx)(_,{href:"/",title:"Projects",className:g.a.link}),Object(n.jsx)(_,{href:"/inbox/".concat(d.user.id),title:"Inbox",className:g.a.link}),Object(n.jsx)(_,{href:"/",title:"Settings",className:g.a.link})]}),i&&Object(n.jsx)("div",{className:g.a.bottomright,children:u.lists.map((function(e,t){return Object(n.jsx)(E,{list:e,type:"aside"},e._id)}))})]}):null]})}var M=a(14),J=a.n(M),H=a(19),G=function(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var t=function(t){null===e.current||e.current.contains(t.target)||c(!n)};return n&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}),[n,e]),[n,c]},W=c.a.createContext({teams:[],setTeams:function(){},selectedTeam:"Select",setSelectedTeam:function(){},getCurrentTeam:function(){},currentTeam:"",setCurrentTeam:function(){},getTeams:function(){}}),V=a(301),Y=a.n(V),q=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{onClick:e.hideForm,className:Y.a.transparent}),e.children]})},Q=a(5),Z=a.n(Q),K=a(9),X=a(302),$=a.n(X),ee=function(e){var t=e.title,a=e.onClick;return Object(n.jsx)("button",{type:"submit",onClick:a,className:$.a.submit,children:t})},te=function(e){var t=e.label,a=e.id,r=e.value,c=e.onChange,s=e.onFocus,i=e.onBlur,o=e.type,l=e.placeholder;return Object(n.jsx)("div",{children:Object(n.jsxs)("label",{htmlFor:a,children:[t,":",Object(n.jsx)("input",{type:o||"text",id:a,value:r,onChange:c,onFocus:s,onBlur:i,placeholder:l})]})})},ae=a(303),ne=a.n(ae),re=function(e){var t=e.title;return Object(n.jsx)("h1",{className:ne.a.title,children:t})},ce=a(32),se=a.n(ce),ie=a(304),oe=a.n(ie),le=c.a.createContext();function ue(){return Object(r.useContext)(le)}function de(e){var t=e.user,a=e.children,c=Object(r.useState)(),s=Object(l.a)(c,2),i=s[0],o=s[1],u=window.location.href.includes("heroku")?"/":"http://localhost:4000";return Object(r.useEffect)((function(){if(t&&t.teams){var e=t.username,a=Object(T.a)(t.teams).map((function(e){return e._id})),n=JSON.stringify(a),r=oe()(u,{query:{teamsStr:n,username:e},transports:["websocket"]});return o(r),function(){return r.close()}}}),[t]),Object(n.jsx)(le.Provider,{value:i,children:a})}function je(e){var t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],p=Object(r.useState)(""),h=Object(l.a)(p,2),O=h[0],x=h[1],f=Object(r.useState)([]),_=Object(l.a)(f,2),v=_[0],g=_[1],N=Object(r.useState)(!1),C=Object(l.a)(N,2),k=C[0],w=C[1],y=Object(r.useState)([]),S=Object(l.a)(y,2),D=S[0],I=S[1],B=Object(j.g)(),P=Object(r.useContext)(W),A=Object(r.useContext)(m),R=ue(),E=function(){var e=Object(K.a)(Z.a.mark((function e(t){var a,n,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(t.target.value),w(!1),0!==D.length){e.next=12;break}return a=b("x-auth-token"),e.next=6,fetch("/api/user/get-all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 6:return(n=e.sent).ok||B.push("/error"),e.next=10,n.json();case 10:r=e.sent,I(r);case 12:O.length>=2&&w(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var t=Object(K.a)(Z.a.mark((function t(a){var n,r,s,i;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=b("x-auth-token"),t.next=4,fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:c,description:u,requests:v})});case 4:if((r=t.sent).ok){t.next=10;break}return B.push("/error"),t.abrupt("return");case 10:return t.next=12,r.json();case 12:s=t.sent,(i=Object(T.a)(P.teams)).push(s),P.setTeams(i),P.setSelectedTeam(s.name),e.hideForm(),R.emit("team-update",s._id),B.push("/team/".concat(s._id));case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:se.a.form,children:Object(n.jsxs)("form",{className:se.a.container,onSubmit:F,children:[Object(n.jsx)("div",{className:se.a.title,children:"Create New Team"}),Object(n.jsxs)("div",{className:se.a.inputContainer,children:[Object(n.jsx)("span",{children:" Name"}),Object(n.jsx)("input",{className:se.a.input,value:c,onChange:function(e){return s(e.target.value)},label:"Name",id:"name"})]}),Object(n.jsxs)("div",{className:se.a.inputContainerDescr,children:[Object(n.jsx)("span",{children:" Description"}),Object(n.jsx)("textarea",{className:se.a.textarea,value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description"})]}),Object(n.jsxs)("div",{className:se.a.inputContainer,children:[Object(n.jsx)("span",{children:" Invite Members"}),Object(n.jsx)("input",{className:se.a.input,autocomplete:"off",value:O,onChange:E,label:"Invite members",id:"members",placeholder:"username"})]}),k?Object(n.jsx)("div",{className:se.a.members,children:D.filter((function(e){return e.username.toLowerCase().includes(O.toLowerCase())&&!e.username.includes(A.user.username)})).filter((function(e){return!v.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(n.jsx)(z,{className:se.a.user,onClick:function(){return function(e){var t=Object(T.a)(v);t.push(e),g(t),w(!1),x("")}(e)},title:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:e.username}),Object(n.jsx)("div",{className:se.a.email,children:e.email})]})},e._id)}))}):null,Object(n.jsx)("div",{className:se.a.membersAvatars,children:v.map((function(e){return Object(n.jsx)(z,{onClick:function(){return function(e){var t=v.filter((function(t){return t.email!==e.email}));g(t)}(e)},title:Object(n.jsx)(H.a,{name:e.username,size:40,round:!0,maxInitials:2},e._id)})}))}),Object(n.jsx)("div",{className:se.a.buttonDiv,children:Object(n.jsx)("button",{type:"submit",className:se.a.createButton,children:"Create"})})]})})}var be=a(29),me=a.n(be);a(103);function pe(e){var t=e.hideForm,a=Object(r.useState)(""),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(""),u=Object(l.a)(o,2),d=u[0],p=u[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),x=O[0],f=O[1],_=Object(r.useState)([]),v=Object(l.a)(_,2),g=v[0],N=v[1],C=Object(r.useState)(!1),k=Object(l.a)(C,2),w=k[0],y=k[1],S=Object(r.useState)([]),I=Object(l.a)(S,2),B=I[0],P=I[1],A=Object(r.useContext)(D),R=Object(r.useContext)(m),E=Object(r.useContext)(W),F=Object(j.g)(),U=Object(j.h)(),L=ue(),M=Object(r.useCallback)(function(){var e=Object(K.a)(Z.a.mark((function e(a){var n,r,c,i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=U.teamid,r=b("x-auth-token"),e.next=5,fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({name:s,description:d,teamId:n})});case 5:if((c=e.sent).ok){e.next=11;break}return F.push("/error"),e.abrupt("return");case 11:return e.next=13,c.json();case 13:i=e.sent,A.setProject(i._id),L.emit("team-update",E.currentTeam),F.push("/project-board/".concat(n,"/").concat(i._id)),t&&t();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[F,s,d]),J=function(){var e=Object(K.a)(Z.a.mark((function e(){var t,a,n,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),t=U.teamid,0!==B.length){e.next=12;break}return a=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 6:return(n=e.sent).ok||F.push("/error"),e.next=10,n.json();case 10:r=e.sent,P(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:me.a.form,children:Object(n.jsxs)("form",{className:me.a.container,onSubmit:M,children:[Object(n.jsx)("div",{className:me.a.title,children:"Create New Project"}),Object(n.jsxs)("div",{className:me.a.inputContainer,children:[Object(n.jsx)("span",{children:" Name"}),Object(n.jsx)("input",{className:me.a.input,value:s,onChange:function(e){return i(e.target.value)},label:"Name",id:"name"})]}),Object(n.jsxs)("div",{className:me.a.inputContainerDescr,children:[Object(n.jsx)("span",{children:" Description"}),Object(n.jsx)("textarea",{className:me.a.textarea,value:d,onChange:function(e){return p(e.target.value)},label:"Description",id:"description"})]}),Object(n.jsxs)("div",{className:me.a.inputContainer,children:[Object(n.jsx)("span",{children:" Invite Members"}),Object(n.jsx)("input",{className:me.a.input,autocomplete:"off",value:x,onFocus:J,onBlur:function(){setTimeout((function(){return y(!1)}),120)},onChange:function(e){return f(e.target.value)},label:"Invite members",id:"members",placeholder:"username"})]}),Object(n.jsx)("div",{className:me.a.membersAvatars,children:g.map((function(e){return Object(n.jsx)(H.a,{onClick:function(){return function(e){var t=g.filter((function(t){return t.email!==e.email}));N(t)}(e)},name:e.username,size:40,round:!0,maxInitials:2},e._id)}))}),w?Object(n.jsx)("div",{className:me.a.members,children:B.filter((function(e){return e.username.toLowerCase().includes(x.toLowerCase())&&!e.username.includes(R.user.username)})).filter((function(e){return!g.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(n.jsx)(z,{className:me.a.user,onClick:function(){return function(e){var t=Object(T.a)(g);t.push(e),N(t),y(!1),f("")}(e)},title:Object(n.jsxs)("div",{className:me.a.member,children:[Object(n.jsx)("div",{children:e.username}),Object(n.jsx)("div",{className:me.a.email,children:e.email})]})},e._id)}))}):null,Object(n.jsx)("div",{className:me.a.buttonDiv,children:Object(n.jsx)("button",{type:"submit",className:me.a.createButton,children:"Create"})})]})})}var he=function(e){var t=e.asideOn,a=Object(r.useRef)(null),c=Object(r.useRef)(null),s=Object(r.useRef)(null),i=Object(r.useRef)(null),o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],p=G(s),h=Object(l.a)(p,2),O=h[0],x=h[1],f=G(i),v=Object(l.a)(f,2),g=v[0],N=v[1],C=Object(r.useState)(!1),k=Object(l.a)(C,2),w=k[0],y=k[1],S=G(c),T=Object(l.a)(S,2),I=T[0],B=T[1],P=Object(r.useState)(null),A=Object(l.a)(P,2),R=A[0],E=A[1],F=G(a),U=Object(l.a)(F,2),L=U[0],M=U[1],V=Object(r.useState)(!1),Y=Object(l.a)(V,2),Q=Y[0],Z=Y[1],K=Object(r.useState)(!1),X=Object(l.a)(K,2),$=X[0],ee=X[1],te=Object(r.useContext)(m),ae=Object(r.useContext)(D),ne=Object(r.useContext)(W),re=Object(j.h)();return Object(r.useEffect)((function(){if(window.location.href.includes("team")||window.location.href.includes("project")){if("Select"===ne.selectedTeam){var e=re.teamid;ne.updateSelectedTeam(e)}}else ne.setSelectedTeam("Select");window.location.href.includes("project")&&(y(!0),b(!0),ne.getCurrentProjects(re.teamid),window.location.href.includes("board")&&E("Board"),window.location.href.includes("list")&&E("List"))})),Object(n.jsx)("header",{className:"".concat(J.a.navigation," ").concat(t?J.a.small:""),children:Object(n.jsxs)("div",{className:J.a.container,children:[Object(n.jsxs)("div",{className:J.a.links,children:[Object(n.jsx)("div",{className:J.a.margin,children:"Teams:"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(z,{className:J.a.teams,onClick:function(){return N(!g)},title:ne.selectedTeam}),g?Object(n.jsxs)("div",{ref:i,className:"".concat(J.a.options," ").concat(J.a.font," ").concat(J.a["teams-position"]),children:[ne.teams.map((function(e){return Object(n.jsx)("div",{className:J.a["team-options"],children:Object(n.jsx)(_,{href:"/team/".concat(e._id),title:e.name,onClick:function(){var t,a;t=e._id,a=e.name,ne.getCurrentProjects(t),ne.setSelectedTeam(a),N(!1)},className:"".concat(J.a.overflow," ").concat(J.a.hover)})},e._id)})),Object(n.jsx)("div",{className:J.a["last-option"],children:Object(n.jsx)(z,{onClick:function(){return Z(!0)},title:"Create Team",className:J.a.logout})})]}):null]}),Q?Object(n.jsx)(q,{hideForm:function(){return Z(!1)},children:Object(n.jsx)(je,{hideForm:function(){Z(!1)}})}):null,d&&Object(n.jsxs)("div",{className:J.a.flex,children:[Object(n.jsx)("div",{className:J.a.margin,children:"Project:"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(z,{className:J.a.teams,onClick:function(){return x(!O)},title:ae.projectName}),O?Object(n.jsxs)("div",{ref:s,className:"".concat(J.a.options," ").concat(J.a.font," ").concat(J.a["projects-position"]),children:[ne.currentProjects.map((function(e){return Object(n.jsx)("div",{className:J.a["team-options"],children:Object(n.jsx)(_,{href:"/project-board/".concat(re.teamid,"/").concat(e._id),title:e.name,className:"".concat(J.a.overflow," ").concat(J.a.hover)})},e._id)})),Object(n.jsx)("div",{className:J.a["last-option"],children:Object(n.jsx)(z,{onClick:function(){return ee(!0)},title:"Create Project",className:J.a.logout})})]}):null]}),$&&Object(n.jsx)(q,{hideForm:function(){return ee(!1)},children:Object(n.jsx)(pe,{hideForm:function(){return ee(!1)}})})]}),w&&Object(n.jsxs)("div",{className:J.a.flex,children:[Object(n.jsx)("div",{className:J.a.margin,children:"View:"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(z,{className:J.a.view,onClick:function(){return B(!I)},title:R}),I?Object(n.jsxs)("div",{ref:c,className:"".concat(J.a.options," ").concat(J.a.font," ").concat(J.a["view-position"]),children:[Object(n.jsx)("div",{className:J.a["first-option"],children:Object(n.jsx)(_,{href:"/project-board/".concat(re.teamid,"/").concat(ae.project),title:"Board",className:J.a.hover})}),Object(n.jsx)("div",{className:J.a["last-option"],children:Object(n.jsx)(_,{href:"/project-list/".concat(re.teamid,"/").concat(ae.project),title:"List",className:J.a.hover})})]}):null]})]})]}),Object(n.jsxs)("div",{className:"".concat(J.a.links," ").concat(J.a.font),children:[Object(n.jsx)("input",{className:J.a.input,type:"text",placeholder:"Search..."}),Object(n.jsx)(z,{className:J.a.avatar,onClick:function(){return M(!L)},title:Object(n.jsx)(H.a,{name:te.user.username,size:40,round:!0,maxInitials:2})}),L?Object(n.jsxs)("div",{ref:a,className:"".concat(J.a.options," ").concat(J.a["logout-position"]),children:[Object(n.jsx)("div",{className:J.a["first-option"],children:Object(n.jsx)(_,{href:"/profile/".concat(te.user&&te.user.id),title:"Profile",className:J.a.hover})}),Object(n.jsx)("div",{className:J.a["last-option"],children:Object(n.jsx)(z,{onClick:te.logOut,title:"Log Out",className:J.a.logout})})]}):null]})]})})},Oe=a(151),xe=a.n(Oe),fe=function(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(n.jsxs)("div",{className:xe.a.app,children:[Object(n.jsx)(L,{asideOn:c,setAsideOn:s}),Object(n.jsx)(he,{asideOn:c}),Object(n.jsx)("div",{className:"".concat(xe.a.content," ").concat(c?xe.a.small:""),children:e.children})]})},_e=function(){return Object(n.jsx)(fe,{children:Object(n.jsx)(re,{title:"Home"})})},ve=a(11),ge=a.n(ve),Ne=a.p+"static/media/welcome-page-1.303a4fd6.svg",Ce=a.p+"static/media/welcome-page-2.73d5ef5e.svg",ke=a.p+"static/media/welcome-page-3.5a073b3b.svg",we=a.p+"static/media/welcome-page-4.5b854b1a.svg",ye=a.p+"static/media/welcome-page-5.a24b3016.svg",Se=a.p+"static/media/welcome-page-6.2c79ee8c.svg",De=a.p+"static/media/instagram-icon.1043ced2.svg",Te=a.p+"static/media/twitter-icon.0f92d6a5.svg",Ie=a.p+"static/media/facebook-icon.529cf39a.svg",Be=a(86),Pe=a.n(Be),Ae=a(33),Re=a.n(Ae),Ee=function(){var e=Object(K.a)(Z.a.mark((function e(t,a,n,r,c){var s,i,o;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:a,body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,i=s.headers.get("Authorization"),e.next=7,s.json();case 7:if(!(o=e.sent).needPassword){e.next=11;break}return c(o),e.abrupt("return");case 11:document.cookie="x-auth-token=".concat(i),o.user.username&&i?r({username:o.user.username,id:o.user._id,teams:o.teams,inbox:o.user.inbox,confirmed:o.user.confirmed}):c(o),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),c(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(K.a)(Z.a.mark((function e(t,a,n){var r,c,s,i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.tokenId,e.next=4,fetch("/api/user/google-login",{method:"POST",body:JSON.stringify({tokenId:r}),headers:{"Content-Type":"application/json"}});case 4:return c=e.sent,s=c.headers.get("Authorization"),document.cookie="x-auth-token=".concat(s),e.next=9,c.json();case 9:(i=e.sent).user.username&&s?a({username:i.user.username,id:i.user._id,teams:i.teams,inbox:i.user.inbox,confirmed:i.user.confirmed}):n(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(K.a)(Z.a.mark((function e(t,a,n,r,c){var s,i,o;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=b("x-auth-token"),e.next=4,fetch(t,{method:a,body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:s}});case 4:return i=e.sent,e.next=7,i.json();case 7:(o=e.sent).user.username?r({username:o.user.username,id:o.user._id,teams:o.teams,inbox:o.user.inbox,confirmed:o.user.confirmed}):c(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),ze=a(50),Le=a.n(ze),Me=a.p+"static/media/google.2cf12fa6.svg";function Je(e){var t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(!0),p=Object(l.a)(b,2),h=p[0],O=p[1],x=Object(r.useContext)(m),f=Object(j.g)(),_=function(){var t=Object(K.a)(Z.a.mark((function t(a){var n;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe(a,(function(e){n=e.id,x.logIn(e),f.push("/")}),(function(e){console.log("Error",e)}));case 2:return t.next=4,Ue("/api/user/".concat(n),"PUT",{password:c},(function(e){x.logIn(e)}),(function(e){console.log("Error",e)}));case 4:e.hideForm();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){O(!c||c!==u)}),[c,u]),Object(n.jsxs)("form",{className:Le.a.container,children:[Object(n.jsx)("div",{className:Le.a.logo,children:Object(n.jsx)("img",{src:N,alt:"logo",width:"110",height:"100"})}),Object(n.jsxs)("div",{className:Le.a.rightSide,children:[Object(n.jsx)("div",{className:Le.a.title,children:"Add password to user"}),Object(n.jsxs)("div",{className:Le.a.inputContainer,children:[Object(n.jsx)("div",{children:" Password:"}),Object(n.jsx)("input",{placeholder:"********",className:Le.a.input,type:"password",value:c,onChange:function(e){return s(e.target.value)},label:"New Password",id:"password"}),Object(n.jsxs)("div",{className:Le.a.passInstructions,children:[Object(n.jsx)("p",{children:"Use 8 or more characters with a mix "}),Object(n.jsx)("p",{children:"of letters, numbers & symbols. "})]})]}),Object(n.jsxs)("div",{className:Le.a.inputContainer,children:[Object(n.jsx)("div",{children:" Confirm Password:"}),Object(n.jsx)("input",{placeholder:"********",className:Le.a.input,type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"Confirm Password",id:"rePassword"})]}),Object(n.jsx)(Pe.a,{render:function(e){return Object(n.jsxs)("button",{onClick:e.onClick,className:Le.a.googleLoginBtn,children:[Object(n.jsx)("img",{src:Me,alt:"logo",width:"25",height:"25"}),"Submit"]})},disabled:h,clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Submit",onSuccess:_,cookiePolicy:"single_host_origin"}),Object(n.jsx)("div",{children:"User was registered with Google. Please add password for this Website"})]})]})}var He=function(e){var t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],O=p[1],x=Object(r.useContext)(m),f=Object(j.g)(),_=function(){var e=Object(K.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ee("/api/user/login","POST",{email:u,password:c},(function(e){x.logIn(e),f.push("/")}),(function(e){e.needPassword&&O(!0),console.log("Error",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){O(!1)};return Object(n.jsxs)("div",{children:[h?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:v,children:Object(n.jsx)(Je,{hideForm:v})})}):null,Object(n.jsxs)("form",{className:Re.a.container,onSubmit:_,children:[Object(n.jsx)("div",{className:Re.a.logo,children:Object(n.jsx)("img",{src:N,alt:"logo",width:"110",height:"100"})}),Object(n.jsxs)("div",{className:Re.a.rightSide,children:[Object(n.jsx)("div",{className:Re.a.title,children:"Log In with E-mail"}),Object(n.jsxs)("div",{className:Re.a.inputContainer,children:[Object(n.jsx)("div",{children:" Email:"}),Object(n.jsx)("input",{className:Re.a.input,placeholder:"John@example.com",value:u,onChange:function(e){return d(e.target.value)},label:"Email",id:"email"})]}),Object(n.jsxs)("div",{className:Re.a.inputContainer,children:[Object(n.jsx)("div",{children:" Password:"}),Object(n.jsx)("input",{className:Re.a.input,placeholder:"********",type:"password",value:c,onChange:function(e){return s(e.target.value)},label:"Password",id:"password"})]}),Object(n.jsx)("div",{className:Re.a.buttonDiv,children:Object(n.jsx)("button",{type:"submit",className:Re.a.loginButton,children:"Log In"})}),Object(n.jsxs)("div",{className:Re.a.textDiv,children:[Object(n.jsx)("p",{className:Re.a.forgotPass,children:"Forgot Password?"}),Object(n.jsxs)("p",{className:Re.a.newToSmM,children:["New to Smart Manager?",Object(n.jsx)("button",{className:Re.a.signUpBtn,onClick:function(){e.goToSignUp(),e.hideForm()},children:"Sign Up"})]}),Object(n.jsx)("h3",{children:"or"})]}),Object(n.jsx)("div",{children:Object(n.jsx)(Pe.a,{render:function(e){return Object(n.jsxs)("button",{onClick:e.onClick,className:Re.a.googleLoginBtn,children:[Object(n.jsx)("img",{src:Me,alt:"logo",width:"25",height:"25"}),"Log In with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){Fe(e,(function(e){x.logIn(e),f.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"})})]})]})]})},Ge=a(21),We=a.n(Ge),Ve=a(307),Ye=a.n(Ve);function qe(e){return Object(n.jsx)("div",{children:e.alert?Object(n.jsx)("div",{className:Ye.a.alert,children:e.message}):null})}var Qe=function(e){var t=Object(r.useState)(null),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)(null),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(null),p=Object(l.a)(b,2),h=p[0],O=p[1],x=Object(r.useState)(null),f=Object(l.a)(x,2),_=f[0],v=f[1],g=Object(r.useState)(!1),C=Object(l.a)(g,2),k=C[0],w=C[1],y=Object(r.useState)(!1),S=Object(l.a)(y,2),D=S[0],T=S[1],I=Object(r.useState)(!1),B=Object(l.a)(I,2),P=B[0],A=B[1],R=Object(r.useContext)(m),E=Object(j.g)(),F=function(){var e=Object(K.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w(!1),T(!1),A(!1),u===_){e.next=7;break}return w(!0),e.abrupt("return");case 7:if(c&&u&&_&&h){e.next=10;break}return T(!0),e.abrupt("return");case 10:return e.next=12,Ee("/api/user/register","POST",{email:h,username:c,password:u},(function(e){R.logIn(e),E.push("/")}),(function(e){e.exist&&A(!0)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("form",{className:We.a.container,onSubmit:F,children:[Object(n.jsxs)("div",{className:We.a.alerts,children:[Object(n.jsx)(qe,{alert:k,message:"Passwords do not match"}),Object(n.jsx)(qe,{alert:P,message:"User with this email already exists"}),Object(n.jsx)(qe,{alert:D,message:"Please fill all fileds"})]}),Object(n.jsxs)("div",{className:We.a.innerContainer,children:[Object(n.jsx)("div",{className:We.a.logo,children:Object(n.jsx)("img",{src:N,alt:"logo",width:"110",height:"100"})}),Object(n.jsxs)("div",{className:We.a.rightSide,children:[Object(n.jsx)("div",{className:We.a.title,children:"Sign Up with E-mail"}),Object(n.jsxs)("div",{className:We.a.inputContainer,children:[Object(n.jsx)("div",{children:" Username:"}),Object(n.jsx)("input",{placeholder:"John Smith",className:We.a.input,value:c,onChange:function(e){return s(e.target.value)},label:"Username",id:"username"})]}),Object(n.jsxs)("div",{className:We.a.inputContainer,children:[Object(n.jsx)("div",{children:" Email:"}),Object(n.jsx)("input",{placeholder:"John@example.com",className:We.a.input,value:h,onChange:function(e){return O(e.target.value)},label:"Email",id:"email"})]}),Object(n.jsxs)("div",{className:We.a.inputContainer,children:[Object(n.jsx)("div",{children:" Password:"}),Object(n.jsx)("input",{placeholder:"********",className:We.a.input,type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"Password",id:"password"}),Object(n.jsxs)("div",{className:We.a.passInstructions,children:[Object(n.jsx)("p",{children:"Use 8 or more characters with a mix "}),Object(n.jsx)("p",{children:"of letters, numbers & symbols. "})]})]}),Object(n.jsxs)("div",{className:We.a.inputContainer,children:[Object(n.jsx)("div",{children:" Re-type Password:"}),Object(n.jsx)("input",{placeholder:"********",className:We.a.input,type:"password",value:_,onChange:function(e){return v(e.target.value)},label:"Re-Password",id:"re-password"})]}),Object(n.jsx)("div",{className:We.a.buttonDiv,children:Object(n.jsx)("button",{type:"submit",className:We.a.signUpButton,children:"Get Started"})}),Object(n.jsx)("div",{className:We.a.textDiv,children:Object(n.jsx)("h3",{children:"or"})}),Object(n.jsx)(Pe.a,{render:function(e){return Object(n.jsxs)("button",{onClick:e.onClick,className:We.a.googleLoginBtn,children:[Object(n.jsx)("img",{src:Me,alt:"logo",width:"25",height:"25"}),"Sign Up with Google"]})},clientId:"737157840044-8cdut4c3o2lrn6q2jn37uh65ate0g7pr.apps.googleusercontent.com",buttonText:"Sign up with Google",onSuccess:function(e){Fe(e,(function(e){R.logIn(e),E.push("/")}),(function(e){console.log("Error",e)}))},cookiePolicy:"single_host_origin"}),Object(n.jsx)("div",{className:We.a.textDiv,children:Object(n.jsxs)("p",{className:We.a.alreadySignUp,children:["Already Sign Up?",Object(n.jsx)("button",{className:We.a.signUpBtn,onClick:function(){e.goToLogin(),e.hideForm()},children:"Log In"})]})})]})]})]})},Ze=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),i=Object(l.a)(s,2),o=i[0],u=i[1];Object(j.g)();return Object(n.jsxs)("div",{className:ge.a.pageContainer,children:[Object(n.jsx)("div",{children:a?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:function(){return c(!a)},children:Object(n.jsx)(He,{hideForm:function(){return c(!a)},goToSignUp:function(){return u(!o)}})})}):null}),Object(n.jsx)("div",{children:o?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:function(){return u(!o)},children:Object(n.jsx)(Qe,{hideForm:function(){return u(!o)},goToLogin:function(){return c(!a)}})})}):null}),Object(n.jsxs)("div",{className:ge.a.contentWrap,children:[Object(n.jsxs)("div",{className:ge.a.topContainer,children:[Object(n.jsxs)("div",{className:ge.a.topDivtopContainer,children:[Object(n.jsxs)("div",{className:ge.a.headerNav,children:[Object(n.jsx)("span",{className:ge.a.logo,children:Object(n.jsx)("img",{src:N,alt:"logo",width:"194",height:"142"})}),Object(n.jsxs)("span",{className:ge.a.firstButtons,children:[Object(n.jsx)("button",{className:ge.a.loginButton,onClick:function(){return c(!a)},children:"Log In"}),Object(n.jsx)("button",{className:ge.a.signUpButton,onClick:function(){return u(!o)},children:"Sign Up"})]})]}),Object(n.jsxs)("div",{className:ge.a.topright,children:[Object(n.jsx)("div",{className:ge.a.pic1,children:Object(n.jsx)("img",{src:Ne,alt:""})}),Object(n.jsx)("div",{className:ge.a.pic2,children:Object(n.jsx)("img",{src:Ce,alt:""})})]})]}),Object(n.jsx)("div",{className:ge.a.lowerDivtopContainer,children:Object(n.jsxs)("div",{className:ge.a.firstText,children:[Object(n.jsxs)("p",{className:ge.a.headers,children:["Manage your work in a ",Object(n.jsx)("span",{className:ge.a.lucida,children:"Smart"})," way! "]}),Object(n.jsxs)("div",{className:ge.a.paragraph,children:[Object(n.jsx)("p",{children:"The ideas get more clear, organized and focused on."}),Object(n.jsx)("p",{children:"Flexible and time saving for the whole team. "})]}),Object(n.jsx)("div",{className:ge.a.paragraph,children:Object(n.jsx)("button",{className:ge.a.secondSignUpButton,onClick:function(){return u(!o)},children:"Free Sign Up"})})]})})]}),Object(n.jsxs)("div",{className:ge.a.secondContainer,children:[Object(n.jsxs)("div",{className:ge.a.firstRow,children:[Object(n.jsxs)("div",{className:ge.a.secondText,children:[Object(n.jsx)("p",{className:ge.a.headers,children:"Work and participate in different teams "}),Object(n.jsxs)("div",{className:ge.a.paragraph,children:[Object(n.jsx)("p",{children:"Follow who and when is doing tasks. Be always"}),Object(n.jsx)("p",{children:"informed with the accomplishment of the projects. "})]}),Object(n.jsx)("div",{className:ge.a.paragraph,children:Object(n.jsx)("button",{className:ge.a.thirdSignUpButton,onClick:function(){return u(!o)},children:"Try It Now"})})]}),Object(n.jsx)("div",{className:ge.a.pic3Container,children:Object(n.jsx)("img",{className:ge.a.pic3,src:ke,alt:""})})]}),Object(n.jsxs)("div",{className:ge.a.secondRow,children:[Object(n.jsx)("div",{className:ge.a.pic4Container,children:Object(n.jsx)("img",{className:ge.a.pic4,src:we,alt:""})}),Object(n.jsxs)("div",{className:ge.a.thirdText,children:[Object(n.jsx)("p",{className:ge.a.headers,children:"\u0415\u0430sy to manage all the information"}),Object(n.jsxs)("div",{className:ge.a.paragraph,children:[Object(n.jsx)("p",{children:"Add stickers, notes, comments, attachments in your"}),Object(n.jsx)("p",{children:"  Smart Manager."}),Object(n.jsx)("p",{children:"Collaborate with others in your Team."}),Object(n.jsx)("img",{className:ge.a.pic5,src:ye,alt:""})]})]})]}),Object(n.jsxs)("div",{className:ge.a.thirdRow,children:[Object(n.jsxs)("div",{className:ge.a.lastText,children:[Object(n.jsxs)("p",{className:ge.a.lastHeaders,children:["Start your ",Object(n.jsx)("span",{className:ge.a.lucida,children:"Smart Manager"})," Now "]}),Object(n.jsxs)("div",{className:ge.a.lastParagraph,children:[Object(n.jsxs)("p",{children:["Connect with other teams from ",Object(n.jsx)("span",{className:ge.a.lucida,children:"The Smart Family"}),","]}),Object(n.jsx)("p",{children:" save time with more work done."}),Object(n.jsx)("button",{className:ge.a.lastSignUpButton,onClick:function(){return u(!o)},children:"Get Started"})]})]}),Object(n.jsx)("div",{className:ge.a.pic6Container,children:Object(n.jsx)("img",{className:ge.a.pic6,src:Se,alt:""})})]})]})]}),Object(n.jsxs)("footer",{className:ge.a.footer,children:[Object(n.jsxs)("div",{className:ge.a.footerColumn,children:[Object(n.jsx)("div",{className:ge.a.footerHeaders,children:Object(n.jsx)("p",{children:"Contact Us"})}),Object(n.jsxs)("div",{className:ge.a.footerInfo,children:[Object(n.jsx)("p",{children:"+359 52 317 395"}),Object(n.jsx)("p",{children:"smartmanager@gmail.com"})]})]}),Object(n.jsxs)("div",{className:ge.a.footerColumn,children:[Object(n.jsx)("div",{className:ge.a.footerHeaders,children:Object(n.jsx)("p",{children:"SERVICES"})}),Object(n.jsxs)("div",{className:ge.a.footerInfo,children:[Object(n.jsx)("p",{children:"Contact Us"}),Object(n.jsxs)("p",{children:["Ordering ","&amp"," Payment FAQ"]})]})]}),Object(n.jsxs)("div",{className:ge.a.footerColumn,children:[Object(n.jsx)("div",{className:ge.a.footerHeaders,children:Object(n.jsx)("p",{children:"INFORMATION"})}),Object(n.jsxs)("div",{className:ge.a.footerInfo,children:[Object(n.jsx)("p",{children:"About SMART MANAGER"}),Object(n.jsx)("p",{children:"Work With US"}),Object(n.jsx)("p",{children:"Privacy Policy"}),Object(n.jsx)("p",{children:"Terms &amp Conditions"})]})]}),Object(n.jsxs)("div",{className:ge.a.lastColumn,children:[Object(n.jsxs)("div",{className:ge.a.socialMediaContainer,children:[Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:ge.a.socialMedia,src:De,alt:""})}),Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:ge.a.socialMedia,src:Te,alt:""})}),Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:ge.a.socialMedia,src:Ie,alt:""})})]}),Object(n.jsx)("div",{className:ge.a.sd2006,children:"&#169 SD2006"})]})]})]})},Ke=a(212),Xe=a.n(Ke);function $e(e){var t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(r.useContext)(m),p=Object(j.h)().userid,h=function(){var t=Object(K.a)(Z.a.mark((function t(a){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,Ue("/api/user/".concat(p),"PUT",{username:c,password:u},(function(e){b.logIn(e)}),(function(e){console.log("Error",e)}));case 3:e.hideForm();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:Xe.a.form,children:Object(n.jsxs)("form",{className:Xe.a.container,onSubmit:h,children:[Object(n.jsx)(re,{title:"Edit Profile"}),Object(n.jsx)(te,{value:c,onChange:function(e){return s(e.target.value)},label:"New Username",id:"username"}),Object(n.jsx)(te,{type:"password",value:u,onChange:function(e){return d(e.target.value)},label:"New Password",id:"password"}),Object(n.jsx)(ee,{title:"Update"})]})})}var et=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(null),i=Object(l.a)(s,2),o=i[0],u=i[1],b=Object(r.useState)(!1),m=Object(l.a)(b,2),p=m[0],h=m[1],O=Object(j.h)(),x=Object(j.g)(),f=Object(r.useCallback)(Object(K.a)(Z.a.mark((function e(){var t,a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.userid,e.next=3,fetch("/api/user/".concat(t));case 3:if((a=e.sent).ok){e.next=8;break}x.push("/error"),e.next=13;break;case 8:return e.next=10,a.json();case 10:n=e.sent,c(n.username),u(n.projects&&n.projects.length);case 13:case"end":return e.stop()}}),e)}))),[O.userid,x]),_=function(){f(),h(!1)};return Object(r.useEffect)((function(){f()}),[f]),a?Object(n.jsx)(fe,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{children:["User: ",a]}),Object(n.jsxs)("p",{children:["Projects: ",o]}),Object(n.jsx)("button",{onClick:function(){h(!0)},children:"Edit Profile"}),p?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:_,children:Object(n.jsx)($e,{hideForm:_})})}):null]})}):Object(n.jsx)(fe,{children:Object(n.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})})},tt=a(152),at=a.n(tt),nt=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useContext)(m),i=Object(j.g)();function o(e,t){return u.apply(this,arguments)}function u(){return(u=Object(K.a)(Z.a.mark((function e(t,n){var r,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b("x-auth-token"),e.next=3,fetch("/api/teams/invitations/".concat(t.teamId),{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({messageId:t.id,accepted:n,teamName:t.teamName})});case 3:if(e.sent.ok){e.next=9;break}return i.push("/error"),e.abrupt("return");case 9:s=a.filter((function(e){return e.id!==t.id})),c(s),n&&i.push("/team/".concat(t.teamId));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=s.user.inbox.map((function(e){return JSON.parse(e)}));c(e)}),[]),Object(n.jsx)(fe,{children:Object(n.jsx)("div",{children:a.filter((function(e){return"Team invitation"===e.subject})).map((function(e,t){return Object(n.jsxs)("div",{className:at.a.message,children:[Object(n.jsx)("div",{children:e.subject}),"Team name: ",Object(n.jsx)("span",{children:e.teamName}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ee,{className:at.a.button,onClick:function(){return o(e,!0)},title:"Accept"}),Object(n.jsx)(ee,{className:at.a.button,onClick:function(){return o(e,!1)},title:"Decline"})]})]},t)}))})})},rt=function(){return Object(n.jsx)(fe,{children:Object(n.jsx)("div",{children:"Error Page"})})},ct=a(112),st=a.n(ct),it=a(28),ot=a.n(it),lt=a.p+"static/media/pen.4b4021f9.svg",ut=a(42);function dt(e){var t=ue(),a=e.members,c=Object(r.useState)([]),s=Object(l.a)(c,2),i=s[0],u=s[1],d=Object(r.useState)(""),p=Object(l.a)(d,2),h=p[0],O=p[1],x=Object(r.useContext)(m),f=Object(r.useState)(!1),_=Object(l.a)(f,2),v=_[0],g=(_[1],Object(r.useContext)(W)),N=Object(r.useRef)(null),C=G(N),k=Object(l.a)(C,2),w=k[0],y=k[1],S=e.admin,D=Object(j.g)(),T=e.project._id,I=Object(r.useCallback)((function(){t.emit("project-update",e.project)}),[t,e.project]),B=function(){var e=Object(K.a)(Z.a.mark((function e(){var t,n,r,c,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,g.teams.map((function(e){return e.projects.map((function(a){return a._id===T&&(t=e._id),t}))}));case 3:return n=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 6:return(r=e.sent).ok||D.push("/error"),e.next=10,r.json();case 10:c=e.sent,s=c.filter((function(e){return!a.find((function(t){return t.memberId.username===e.username}))})),u(s);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function P(){return(P=Object(K.a)(Z.a.mark((function e(t){var n,r,c,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=3;break}return console.log("no destination"),e.abrupt("return");case 3:if(n=t.draggableId,(r=a.filter((function(e){return e._id===n}))[0].memberId)._id!==x.user.id){e.next=8;break}return console.log("can`t move self"),e.abrupt("return");case 8:if(c=a.filter((function(e){return e._id===n}))[0].admin,"admins"!==t.destination.droppableId||!c){e.next=11;break}return e.abrupt("return");case 11:if("members"!==t.destination.droppableId||c){e.next=13;break}return e.abrupt("return");case 13:if(c){e.next=16;break}if(window.confirm("Are you sure you wish to make ".concat(r.username," admin ?"))){e.next=16;break}return e.abrupt("return");case 16:if(!c){e.next=19;break}if(window.confirm("Are you sure you wish to remove ".concat(r.username," from  admins ?"))){e.next=19;break}return e.abrupt("return");case 19:return s=b("x-auth-token"),e.next=22,fetch("/api/projects/".concat(T,"/user-roles"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({userRole:n,isAdmin:!c})});case 22:e.sent.ok?I():D.push("/error");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=Object(r.useCallback)(function(){var t=Object(K.a)(Z.a.mark((function t(a,n){var r,c,s;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r=e.project._id,n._id!==x.user.id){t.next=4;break}return t.abrupt("return");case 4:return c=n._id,s=b("x-auth-token"),t.next=8,fetch("/api/projects/".concat(r,"/user-remove"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({memberId:c})});case 8:t.sent.ok?I():D.push("/error");case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),[D,e,I]),R=Object(r.useCallback)(function(){var e=Object(K.a)(Z.a.mark((function e(t){var a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h){e.next=4;break}return y(!w),e.abrupt("return");case 4:return a=b("x-auth-token"),n=h,e.next=8,fetch("/api/projects/".concat(T,"/user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({member:n,admin:!1})});case 8:e.sent.ok?(I(),y(!w),O("")):D.push("/error");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[D,e,h,v,I]);return Object(n.jsx)("div",{className:ot.a.container,children:Object(n.jsx)("div",{className:ot.a.bigContainer,ref:N,children:S?Object(n.jsx)("span",{children:w?Object(n.jsxs)("div",{className:ot.a.members,children:[Object(n.jsx)("div",{children:"Add Member to Project"}),Object(n.jsx)("span",{children:Object(n.jsxs)("select",{onChange:function(e){!function(e){var t=i.filter((function(t){return t._id===e}))[0];O(t)}(e.target.value)},children:[Object(n.jsx)("option",{children:"Select user"}),i.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.username},e._id)}))]})}),Object(n.jsx)("span",{className:ot.a.addButton,onClick:R,children:"Add"})]}):Object(n.jsxs)(ut.a,{onDragEnd:function(e){return P.apply(this,arguments)},children:[Object(n.jsxs)("div",{className:ot.a.adminsContainer,children:[Object(n.jsx)("span",{className:ot.a.title,children:"Admins:"}),Object(n.jsx)(ut.c,{droppableId:"admins",children:function(e){return Object(n.jsxs)("div",Object(o.a)(Object(o.a)({className:ot.a.droppable,ref:e.innerRef},e.droppableProps),{},{children:[a.filter((function(e){return!0===e.admin})).map((function(e,t){return Object(n.jsx)(ut.b,{draggableId:e._id,index:t,children:function(t){return Object(n.jsxs)("span",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:[Object(n.jsx)(H.a,{name:e.memberId.username,size:40,round:!0,maxInitials:2}),t.placeholder]}))}},e.memberId._id)})),e.placeholder]}))}})]}),Object(n.jsxs)("div",{className:ot.a.membersContainer,children:[Object(n.jsx)("span",{className:ot.a.title,children:"Members:"}),Object(n.jsx)(ut.c,{droppableId:"members",children:function(e){return Object(n.jsxs)("div",Object(o.a)(Object(o.a)({className:ot.a.droppableMembers,ref:e.innerRef},e.droppableProps),{},{children:[a.filter((function(e){return!0!==e.admin})).map((function(e,t){return Object(n.jsx)(ut.b,{draggableId:e._id,index:t,children:function(a){return Object(n.jsxs)("span",Object(o.a)(Object(o.a)(Object(o.a)({},a.dragHandleProps),a.draggableProps),{},{ref:a.innerRef,children:[Object(n.jsx)(H.a,{name:e.memberId.username,size:40,round:!0,maxInitials:2,onClick:function(t){window.confirm("Are you sure you wish to delete this member?")&&A(t,e.memberId)}},t),a.placeholder]}))}},e.memberId._id)})),e.placeholder]}))}}),Object(n.jsx)("span",{className:ot.a.addButton,onClick:function(){y(!w),B()},children:"Add"})]})]})}):Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:ot.a.adminsContainer,children:[Object(n.jsx)("span",{className:ot.a.title,children:"Admins:"}),Object(n.jsx)("div",{className:ot.a.droppable,children:a.filter((function(e){return!0===e.admin})).map((function(e,t){return Object(n.jsx)("span",{children:Object(n.jsx)(H.a,{name:e.memberId.username,size:40,round:!0,maxInitials:2})},t)}))})]}),Object(n.jsxs)("div",{className:ot.a.adminsContainer,children:[Object(n.jsx)("span",{className:ot.a.title,children:"Members:"}),Object(n.jsx)("div",{className:ot.a.droppable,children:a.filter((function(e){return!0!==e.admin})).map((function(e,t){return Object(n.jsx)("span",{children:Object(n.jsx)(H.a,{name:e.memberId.username,size:40,round:!0,maxInitials:2})},t)}))})]})]})})})}function jt(e){var t=Object(r.useState)(e.project.name),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)(e.project.description),o=Object(l.a)(i,2),u=o[0],d=o[1],p=e.project.membersRoles,h=Object(r.useState)(!1),O=Object(l.a)(h,2),x=(O[0],O[1],Object(r.useState)(!1)),f=Object(l.a)(x,2),_=f[0],v=f[1],g=Object(r.useContext)(m),N=Object(j.g)(),C=ue(),k=e.project._id,w=Object(r.useCallback)((function(){C.emit("project-update",e.project)}),[C,e.project]);function y(){return S.apply(this,arguments)}function S(){return(S=Object(K.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.filter((function(e){return!0===e.admin}));case 2:e.sent.some((function(e){return e.memberId._id===g.user.id}))?v(!0):v(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(K.a)(Z.a.mark((function t(a){var n;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=b("x-auth-token"),t.next=4,fetch("/api/projects/".concat(k),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:c,description:u})});case 4:t.sent.ok?(w(),e.hideForm()):N.push("/error");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){y()}),[y]),Object(n.jsxs)("div",{className:st.a.form,children:[Object(n.jsxs)("form",{className:st.a.container,children:[Object(n.jsx)(re,{title:"Project"}),Object(n.jsx)(te,{value:c,onChange:function(e){return s(e.target.value)},label:"Name",id:"name"}),Object(n.jsx)(te,{value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description"}),Object(n.jsx)("div",{className:st.a.editMembers,children:Object(n.jsx)(dt,{admin:_,project:e.project,members:e.project.membersRoles})})]}),Object(n.jsx)("div",{className:st.a.editMembers,children:_?Object(n.jsx)(ee,{onClick:function(e){return D.apply(this,arguments)},title:"Edit"}):null})]})}var bt=a(69),mt=a(13),pt=a.n(mt),ht=a.p+"static/media/pic1.06557b43.svg",Ot=a.p+"static/media/pic2.da7b02c6.svg",xt=a.p+"static/media/pic3.b95e708c.svg",ft=a.p+"static/media/pic4.48bbd98d.svg",_t=a.p+"static/media/pic5.e6817eda.svg",vt=a.p+"static/media/pic6.68bb366f.svg",gt=a.p+"static/media/pic7.86d3a007.svg",Nt=a.p+"static/media/pic8.252e7d72.svg",Ct=a.p+"static/media/pic9.7a153c8e.svg",kt=a(80),wt=a.n(kt);function yt(e){var t=Object(r.useRef)(null),a=Object(r.useState)(e.card.members),c=Object(l.a)(a,2),s=c[0],i=c[1],o=G(t),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(""),h=Object(l.a)(p,2),O=h[0],x=h[1],f=Object(r.useState)([]),_=Object(l.a)(f,2),v=_[0],g=_[1],N=Object(j.g)(),C=ue(),k=Object(r.useContext)(W),w=e.project._id,y=e.card._id,S=e.listId,D=function(){var e=Object(K.a)(Z.a.mark((function e(){var t,a,n,r,c,i,o;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,k.teams.map((function(e){return e.projects.map((function(a){return a._id===w&&(t=e._id),t}))}));case 3:return a=b("x-auth-token"),e.next=6,fetch("/api/teams/get-users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 6:return(n=e.sent).ok||N.push("/error"),e.next=10,n.json();case 10:for(i in r=e.sent,c=r,r)for(o in s)r[i]._id===s[o]._id&&(c=c.filter((function(e){return e._id!==s[o]._id})));g(c);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Object(r.useCallback)((function(){C.emit("project-update",e.project)}),[C,e.project]),B=Object(r.useCallback)(function(){var e=Object(K.a)(Z.a.mark((function e(t,a){var n,r,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=s.indexOf(a),r=Object(T.a)(s),-1!==n&&r.splice(n,1),c=b("x-auth-token"),e.next=7,fetch("/api/projects/lists/cards/".concat(S,"/").concat(y),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({members:r})});case 7:e.sent.ok?(I(),i(r)):N.push("/error");case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[N,e,y,S,I]),P=Object(r.useCallback)(function(){var t=Object(K.a)(Z.a.mark((function t(a){var n,r,c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),O){t.next=4;break}return m(!d),t.abrupt("return");case 4:if(n=b("x-auth-token"),r=e.project,r.membersRoles.filter((function(e){return e.memberId._id===O._id}))[0]){t.next=16;break}if(!window.confirm("Do you want to add ".concat(O.username," to project?"))){t.next=15;break}return t.next=11,fetch("/api/projects/".concat(w,"/user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({member:O,admin:!1})});case 11:t.sent.ok||N.push("/error"),t.next=16;break;case 15:return t.abrupt("return");case 16:return(c=Object(T.a)(s)).push(O),t.next=20,fetch("/api/projects/lists/cards/".concat(S,"/").concat(y),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({members:c})});case 20:t.sent.ok?(m(!d),i(c),I(),x("")):N.push("/error");case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[N,e,y,S,d,m,O,I]);return Object(n.jsx)("div",{children:d?Object(n.jsx)("span",{children:Object(n.jsxs)("form",{ref:t,className:wt.a.container,children:[Object(n.jsxs)("select",{className:wt.a.select,onChange:function(e){!function(e){var t=v.filter((function(t){return t._id===e}))[0];x(t)}(e.target.value)},children:[Object(n.jsx)("option",{children:"Select"}),v.map((function(e,t){return Object(n.jsx)("option",{value:e._id,children:e.username},t)}))]}),Object(n.jsx)("button",{className:wt.a.addUserButton,onClick:P,children:"Add"})]})}):Object(n.jsxs)("div",{className:wt.a.membersContainer,children:[Object(n.jsx)("span",{className:wt.a.membersDiv,children:s.map((function(t,a){return Object(n.jsx)("span",{children:Object(n.jsx)(H.a,{name:t.username,size:e.size,round:!0,maxInitials:2,onMouseEnter:Object(n.jsx)("div",{children:t.username}),onClick:function(e){window.confirm("Are you sure you wish to delete this member?")&&B(e,t)}})},a)}))}),Object(n.jsx)("img",{className:wt.a.pen,src:lt,alt:"...",width:"13",height:"13",onClick:function(){D(),m(!d)}})]})})}var St=a(90),Dt=a.n(St),Tt=a(71),It=a.n(Tt);function Bt(e){var t=Object(r.useRef)(null),a=G(t),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(e.cardDueDate),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(j.g)(),h=ue(),O=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),x=Object(r.useCallback)((function(){h.emit("project-update",e.project)}),[h,e.project]),f=Object(r.useCallback)(function(){var t=Object(K.a)(Z.a.mark((function t(a){var n,r,c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cardId,r=e.listId,""!==d||""!==a){t.next=5;break}return console.log("return"),t.abrupt("return");case 5:return c=b("x-auth-token"),t.next=8,fetch("/api/projects/lists/cards/".concat(r,"/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({dueDate:a})});case 8:if(t.sent.ok){t.next=14;break}return p.push("/error"),t.abrupt("return");case 14:i(!s),x();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[p,d,x,i,s,e.cardId,e.listId]),_="",v="";d&&(v=(_=new Date(d)).getTime());var g=""!==v&&0!==v?("0"+_.getDate()).slice(-2)+"-"+("0"+(_.getMonth()+1)).slice(-2)+"-"+_.getFullYear():"";if(g){var N=g;return Object(n.jsx)("span",{className:Dt.a.dueDateField,children:Object(n.jsx)(It.a,{selected:d,customInput:Object(n.jsx)("div",{className:Dt.a.dueDateField,children:Object(n.jsx)("span",{children:N})}),onChange:function(){var e=Object(K.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:f(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),label:"Go to date",onBlur:function(){return i(!s)}})})}return Object(n.jsx)("span",{className:Dt.a.dueDateField,children:s?Object(n.jsx)("div",{className:Dt.a.dueDateField,children:Object(n.jsx)(It.a,{customInput:Object(n.jsx)("div",{children:Object(n.jsx)("span",{children:"Select date"})}),selected:O,onChange:function(e){m(e),f(e)},label:"Go to date"})}):Object(n.jsx)("div",{className:Dt.a.dueDateField,children:Object(n.jsx)("span",{onClick:function(){return i(!s)},children:"Due Date"})})})}function Pt(e){var t=e.listId,a=Object(r.useRef)(null),c=Object(r.useState)(e.card),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(i.name),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(r.useState)(i.description),O=Object(l.a)(h,2),x=O[0],f=O[1],_=Object(r.useState)(new Date(i.dueDate)),v=Object(l.a)(_,2),g=v[0],N=(v[1],Object(r.useState)(i.progress)),C=Object(l.a)(N,2),k=C[0],w=C[1],y=Object(j.g)(),S=ue(),D=G(a),T=Object(l.a)(D,2),I=T[0],B=T[1],P=G(a),A=Object(l.a)(P,2),R=A[0],E=A[1],F=Object(r.useState)(!1),U=Object(l.a)(F,2),z=U[0],L=U[1],M=i._id,J=Object(r.useCallback)((function(){S.emit("project-update",e.project)}),[S,e.project]),H=Object(r.useCallback)(function(){var a=Object(K.a)(Z.a.mark((function a(n){var r;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),window.confirm("Are you sure you wish to delete this item?")){a.next=3;break}return a.abrupt("return");case 3:return r=b("x-auth-token"),a.next=6,fetch("/api/projects/lists/cards/".concat(t,"/").concat(M),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:r}});case 6:a.sent.ok?(J(),e.hideForm()):y.push("/error");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[y,e,M,t,J]),W=Object(r.useCallback)(function(){var e=Object(K.a)(Z.a.mark((function e(a){var n,r,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(Number(k)>100)){e.next=6;break}return w(100),e.abrupt("return");case 6:if(!(Number(k)<0)){e.next=9;break}return w(0),e.abrupt("return");case 9:return n=b("x-auth-token"),e.next=12,fetch("/api/projects/lists/cards/".concat(t,"/").concat(M),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:m,description:x,dueDate:g,progress:k})});case 12:if((r=e.sent).ok){e.next=17;break}y.push("/error"),e.next=25;break;case 17:return e.next=19,r.json();case 19:c=e.sent,o(c),J(),B(!1),E(!1),L(!1);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y,e,m,x,g,k,t,M,J,Pt,B,E]);return g&&0!==g&&g.getTime(),Object(n.jsx)("div",{className:pt.a.container,children:Object(n.jsxs)("form",{className:pt.a.form,children:[Object(n.jsxs)("div",{className:pt.a.leftSide,children:[Object(n.jsx)("div",{className:pt.a.firstRow,children:Object(n.jsxs)("div",{className:pt.a.inputTitles,children:[Object(n.jsx)("span",{className:pt.a.pic1,children:Object(n.jsx)("img",{src:ht,alt:"pic1"})}),I?Object(n.jsx)("div",{ref:a,children:Object(n.jsxs)("span",{className:pt.a.nameContainer,children:[Object(n.jsx)("input",{className:pt.a.nameInput,value:m,onChange:function(e){return p(e.target.value)}}),Object(n.jsx)("button",{onClick:W,className:pt.a.editButton,children:"Edit"})]})}):Object(n.jsx)("span",{className:pt.a.nameContainer,children:Object(n.jsx)("p",{className:pt.a.textName,onClick:function(){return B(!I)},children:i.name})})]})}),Object(n.jsxs)("div",{className:pt.a.secondRow,children:[Object(n.jsxs)("div",{className:pt.a.inputTitles,children:[Object(n.jsx)("span",{className:pt.a.pic2,children:Object(n.jsx)("img",{src:Ot,alt:"pic2"})}),Object(n.jsx)("span",{className:pt.a.nameContainer,children:Object(n.jsx)("p",{children:"Progress"})})]}),Object(n.jsx)("div",{children:R?Object(n.jsx)("div",{ref:a,children:Object(n.jsxs)("span",{className:pt.a.progressInputContainer,children:[Object(n.jsx)("input",{type:"number",className:pt.a.nameInput,value:k,onChange:function(e){return w(e.target.value)},min:"0",max:"100"}),"%",Object(n.jsx)("button",{onClick:W,className:pt.a.editButton,children:"Edit"})]})}):Object(n.jsxs)("div",{className:pt.a.progressDiv,onClick:function(){return E(!0)},children:[i.progress?Object(n.jsx)("div",{className:pt.a.bar,children:Object(n.jsx)("div",{style:Object(bt.a)({width:"".concat(i.progress,"%")},"backgroundColor",function(e){return Number(e)<=20?"red":Number(e)<=40?"orange":Number(e)<=80?"blue":Number(e)>80?"green":void 0}(i.progress)),className:pt.a.progress})}):Object(n.jsx)("div",{children:"Enter Task Progress"}),Object(n.jsxs)("span",{className:pt.a.textName,children:[i.progress,i.progress?Object(n.jsx)("span",{children:"%"}):null]})]})})]}),Object(n.jsxs)("div",{className:pt.a.thirdRow,children:[Object(n.jsx)("div",{className:pt.a.descriptinTitle,children:Object(n.jsx)("p",{className:pt.a.text,children:"Description"})}),Object(n.jsx)("textarea",{className:pt.a.descriptionInput,ref:a,value:x,onChange:function(e){f(e.target.value),L(!0)}}),z?Object(n.jsxs)("div",{className:pt.a.descriptionButtons,children:[Object(n.jsx)("span",{children:Object(n.jsx)("button",{onClick:W,className:pt.a.editButton,children:"Edit"})}),Object(n.jsx)("span",{children:Object(n.jsx)("button",{onClick:function(e){f(i.description),L(!1)},className:pt.a.editButton,children:"Cancel"})})]}):null]}),Object(n.jsx)("div",{className:pt.a.lasRow})]}),Object(n.jsxs)("div",{className:pt.a.rightSide,children:[Object(n.jsxs)("div",{className:pt.a.membersDiv,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:pt.a.text,children:"Members"})}),Object(n.jsx)("div",{className:pt.a.members,children:Object(n.jsx)(yt,{card:i,size:30,listId:t,project:e.project,title:"Add"})})]}),Object(n.jsx)("div",{className:pt.a.secondRow,children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:pt.a.dueDate,children:Object(n.jsx)(Bt,{cardDueDate:g,cardId:M,listId:t,project:e.project,showEditCard:!1})})})}),Object(n.jsxs)("div",{className:pt.a.thirdRow,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:pt.a.text,children:"Add"})}),Object(n.jsxs)("div",{className:pt.a.smallButtons,children:[Object(n.jsx)("img",{className:pt.a.picsSmallButtons,src:xt,alt:"pic3"}),"Join"]}),Object(n.jsxs)("div",{className:pt.a.smallButtons,children:[Object(n.jsx)("img",{className:pt.a.picsSmallButtons,src:ft,alt:"pic4"}),"Stickers"]}),Object(n.jsxs)("div",{className:pt.a.smallButtons,children:[Object(n.jsx)("img",{className:pt.a.picsSmallButtons,src:_t,alt:"pic5"}),"Due Date"]}),Object(n.jsxs)("div",{className:pt.a.smallButtons,children:[Object(n.jsx)("img",{className:pt.a.picsSmallButtons,src:vt,alt:"pic6"}),"Attach file"]}),Object(n.jsxs)("div",{className:pt.a.smallButtons,children:[Object(n.jsx)("img",{className:pt.a.picsSmallButtons,src:gt,alt:"pic7"}),"Reports"]})]}),Object(n.jsxs)("div",{className:pt.a.lasRowRight,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:pt.a.text,children:"Manage"})}),Object(n.jsx)("div",{className:pt.a.smallButtonsNoPic,children:"Make Template"}),Object(n.jsx)("div",{className:pt.a.smallButtonsNoPic,children:"Remove Note"}),Object(n.jsx)("button",{className:pt.a.smallButtonsNoPic,onClick:function(e){H(e)},title:"Delete Task",children:"Delete Task"}),Object(n.jsxs)("div",{className:pt.a.smallButtons,children:[Object(n.jsx)("img",{className:pt.a.picsSmallButtons,src:Nt,alt:"pic8"}),"Settings"]}),Object(n.jsxs)("div",{className:pt.a.smallButtons,children:[Object(n.jsx)("img",{className:pt.a.picsSmallButtons,src:Ct,alt:"pic9"}),"View"]})]})]})]})})}var At=a(44),Rt=a.n(At);function Et(e){var t,a=Object(r.useState)(!1),c=Object(l.a)(a,2),s=(c[0],c[1],e.card);return Object(n.jsxs)("div",{className:Rt.a.card,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:s.name}),s.progress?Object(n.jsx)("div",{className:Rt.a.bar,children:Object(n.jsx)("div",{style:Object(bt.a)({width:"".concat(s.progress,"%")},"backgroundColor",(t=s.progress,Number(t)<=20?"red":Number(t)<=40?"orange":Number(t)<=80?"blue":Number(t)>80?"green":void 0)),className:Rt.a.progress})}):null]}),Object(n.jsxs)("div",{className:Rt.a.flex,children:[s.members.length>3?Object(n.jsxs)("div",{className:Rt.a.members,children:[s.members.slice(0,3).map((function(e){return Object(n.jsx)("span",{className:Rt.a.avatar,children:Object(n.jsx)(H.a,{name:e.username,size:30,round:!0,className:Rt.a.avatar},e._id)})})),Object(n.jsx)("span",{className:Rt.a.avatar,children:Object(n.jsx)(H.a,{color:"grey",name:"+   ".concat(s.members.length-3," ").concat(("0"+(s.members.length-3)).slice(2)),size:30,round:!0,maxInitials:3,className:Rt.a.avatar})})]}):Object(n.jsx)("div",{className:Rt.a.members,children:s.members.map((function(e){return Object(n.jsx)("span",{className:Rt.a.avatar,children:Object(n.jsx)(H.a,{name:e.username,size:30,round:!0,maxInitials:2},e._id)})}))}),Object(n.jsx)(z,{className:Rt.a.pen,onClick:function(){return e.showEditCard()},title:Object(n.jsx)("img",{src:lt,alt:"...",width:"11.5",height:"11.5"})})]})]})}var Ft=a(12),Ut=a.n(Ft);function zt(e){var t=e.listId,a=Object(r.useRef)(null),c=Object(r.useState)(""),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(""),d=Object(l.a)(u,2),m=d[0],p=d[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),x=O[0],f=O[1],_=Object(r.useState)(""),v=Object(l.a)(_,2),g=v[0],N=(v[1],Object(r.useState)("")),C=Object(l.a)(N,2),k=C[0],w=C[1],y=Object(j.g)(),S=ue(),D=G(a),T=Object(l.a)(D,2),I=T[0],B=T[1],P=G(a),A=Object(l.a)(P,2),R=A[0],E=A[1],F=Object(r.useState)(!1),U=Object(l.a)(F,2),z=U[0],L=U[1],M=i._id,J=Object(r.useCallback)((function(){S.emit("project-update",e.project)}),[S,e.project]),H=Object(r.useCallback)(function(){var a=Object(K.a)(Z.a.mark((function a(n){var r;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),window.confirm("Are you sure you wish to delete this item?")){a.next=3;break}return a.abrupt("return");case 3:return r=b("x-auth-token"),a.next=6,fetch("/api/projects/lists/cards/".concat(t,"/").concat(M),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:r}});case 6:a.sent.ok?(J(),e.hideForm()):y.push("/error");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[y,e,M,t,J]),W=Object(r.useCallback)(function(){var e=Object(K.a)(Z.a.mark((function e(a){var n,r,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(Number(k)>100)){e.next=6;break}return w(100),e.abrupt("return");case 6:if(!(Number(k)<0)){e.next=9;break}return w(0),e.abrupt("return");case 9:return n=b("x-auth-token"),e.next=12,fetch("/api/projects/lists/cards/".concat(t,"/").concat(M),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:m,description:x,dueDate:g,progress:k})});case 12:if((r=e.sent).ok){e.next=17;break}y.push("/error"),e.next=25;break;case 17:return e.next=19,r.json();case 19:c=e.sent,o(c),J(),B(!1),E(!1),L(!1);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y,e,m,x,g,k,t,M,J,zt,B,E]),V=Object(r.useCallback)(function(){var e=Object(K.a)(Z.a.mark((function e(a){var n,r,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==m){e.next=2;break}return e.abrupt("return");case 2:if(a.preventDefault(),!(Number(k)>100)){e.next=8;break}return w(100),e.abrupt("return");case 8:if(!(Number(k)<0)){e.next=11;break}return w(0),e.abrupt("return");case 11:return n=b("x-auth-token"),e.next=14,fetch("/api/projects/lists/cards/".concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:m,description:x,dueDate:g,progress:k})});case 14:if((r=e.sent).ok){e.next=19;break}y.push("/error"),e.next=27;break;case 19:return e.next=21,r.json();case 21:c=e.sent,o(c),J(),B(!1),E(!1),L(!1);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y,e,m,x,g,k,t,M,J,zt,B,E]);return g&&0!==g&&g.getTime(),Object(n.jsx)("div",{className:Ut.a.container,children:Object(n.jsxs)("form",{className:Ut.a.form,children:[Object(n.jsxs)("div",{className:Ut.a.leftSide,children:[Object(n.jsx)("div",{className:Ut.a.firstRow,children:Object(n.jsxs)("div",{className:Ut.a.inputTitles,children:[Object(n.jsx)("span",{className:Ut.a.pic1,children:Object(n.jsx)("img",{src:ht,alt:"pic1"})}),Object(n.jsx)("span",{children:""===i?Object(n.jsxs)("span",{className:Ut.a.nameContainer,children:[Object(n.jsx)("input",{className:Ut.a.createNameInput,placeholder:"Add Task Name",onChange:function(e){return p(e.target.value)}}),Object(n.jsx)("button",{onClick:V,className:Ut.a.editButton,children:"Create"})]}):Object(n.jsx)("span",{children:I?Object(n.jsx)("div",{ref:a,children:Object(n.jsxs)("span",{className:Ut.a.nameContainer,children:[Object(n.jsx)("input",{className:Ut.a.nameInput,value:m,onChange:function(e){return p(e.target.value)}}),Object(n.jsx)("button",{onClick:W,className:Ut.a.editButton,children:"Edit"})]})}):Object(n.jsx)("span",{className:Ut.a.nameContainer,children:Object(n.jsx)("p",{className:Ut.a.textName,onClick:function(){return B(!I)},children:i.name})})})})]})}),Object(n.jsxs)("div",{className:Ut.a.secondRow,children:[Object(n.jsxs)("div",{className:Ut.a.inputTitles,children:[Object(n.jsx)("span",{className:Ut.a.pic2,children:Object(n.jsx)("img",{src:Ot,alt:"pic2"})}),Object(n.jsx)("span",{className:Ut.a.nameContainer,children:Object(n.jsx)("p",{children:"Progress"})})]}),Object(n.jsx)("div",{children:""===i?null:Object(n.jsx)("span",{children:R?Object(n.jsx)("div",{ref:a,children:Object(n.jsxs)("span",{className:Ut.a.progressInputContainer,children:[Object(n.jsx)("input",{type:"number",className:Ut.a.progressInput,value:k,onChange:function(e){return w(e.target.value)}}),Object(n.jsx)("button",{onClick:W,className:Ut.a.editButton,children:"Edit"})]})}):Object(n.jsxs)("div",{className:Ut.a.progressDiv,onClick:function(){return E(!0)},children:[i.progress?Object(n.jsx)("div",{className:Ut.a.bar,children:Object(n.jsx)("div",{style:Object(bt.a)({width:"".concat(i.progress,"%")},"backgroundColor",function(e){return Number(e)<=20?"red":Number(e)<=40?"orange":Number(e)<=80?"blue":Number(e)>80?"green":void 0}(i.progress)),className:Ut.a.progress})}):null,Object(n.jsxs)("span",{className:Ut.a.textName,children:[i.progress," %"]})]})})})]}),Object(n.jsxs)("div",{className:Ut.a.thirdRow,children:[Object(n.jsx)("div",{className:Ut.a.descriptinTitle,children:Object(n.jsx)("p",{className:Ut.a.text,children:"Description"})}),Object(n.jsx)("textarea",{className:Ut.a.descriptionInput,ref:a,value:x,onChange:function(e){f(e.target.value),L(!0)}}),Object(n.jsx)("span",{children:""===i?null:Object(n.jsx)("span",{children:z?Object(n.jsxs)("div",{className:Ut.a.descriptionButtons,children:[Object(n.jsx)("span",{children:Object(n.jsx)("button",{onClick:W,className:Ut.a.editButton,children:"Edit"})}),Object(n.jsx)("span",{children:Object(n.jsx)("button",{onClick:function(e){f(i.description),L(!1)},className:Ut.a.editButton,children:"Cancel"})})]}):null})})]}),Object(n.jsx)("div",{className:Ut.a.lasRow})]}),Object(n.jsxs)("div",{className:Ut.a.rightSide,children:[Object(n.jsxs)("div",{className:Ut.a.membersDiv,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Ut.a.text,children:"Members"})}),Object(n.jsx)("div",{className:Ut.a.members,children:""===i?null:Object(n.jsx)(yt,{card:i,size:30,listId:t,project:e.project,title:"Add"})})]}),Object(n.jsx)("div",{className:Ut.a.secondRow,children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:Ut.a.dueDate,children:""===i?null:Object(n.jsx)(Bt,{cardDueDate:g,cardId:M,listId:t,project:e.project,showEditCard:!1})})})}),Object(n.jsxs)("div",{className:Ut.a.thirdRow,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Ut.a.text,children:"Add"})}),Object(n.jsxs)("div",{className:Ut.a.smallButtons,children:[Object(n.jsx)("img",{className:Ut.a.picsSmallButtons,src:xt,alt:"pic3"}),"Join"]}),Object(n.jsxs)("div",{className:Ut.a.smallButtons,children:[Object(n.jsx)("img",{className:Ut.a.picsSmallButtons,src:ft,alt:"pic4"}),"Stickers"]}),Object(n.jsxs)("div",{className:Ut.a.smallButtons,children:[Object(n.jsx)("img",{className:Ut.a.picsSmallButtons,src:_t,alt:"pic5"}),"Due Date"]}),Object(n.jsxs)("div",{className:Ut.a.smallButtons,children:[Object(n.jsx)("img",{className:Ut.a.picsSmallButtons,src:vt,alt:"pic6"}),"Attach file"]}),Object(n.jsxs)("div",{className:Ut.a.smallButtons,children:[Object(n.jsx)("img",{className:Ut.a.picsSmallButtons,src:gt,alt:"pic7"}),"Reports"]})]}),Object(n.jsxs)("div",{className:Ut.a.lasRowRight,children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:Ut.a.text,children:"Manage"})}),Object(n.jsx)("div",{className:Ut.a.smallButtonsNoPic,children:"Make Template"}),Object(n.jsx)("div",{className:Ut.a.smallButtonsNoPic,children:"Remove Note"}),Object(n.jsx)("button",{className:Ut.a.smallButtonsNoPic,onClick:function(e){H(e)},title:"Delete Task",children:"Delete Task"}),Object(n.jsxs)("div",{className:Ut.a.smallButtons,children:[Object(n.jsx)("img",{className:Ut.a.picsSmallButtons,src:Nt,alt:"pic8"}),"Settings"]}),Object(n.jsxs)("div",{className:Ut.a.smallButtons,children:[Object(n.jsx)("img",{className:Ut.a.picsSmallButtons,src:Ct,alt:"pic9"}),"View"]})]})]})]})})}var Lt=a(81),Mt=a.n(Lt),Jt=a(315);function Ht(e){var t=Object(r.useState)(e.list.name),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(j.g)(),o=ue(),u=Object(r.useRef)(null),d=G(u),m=Object(l.a)(d,2),p=m[0],h=m[1],O=Object(r.useState)(e.list.color||"#A6A48E"),x=Object(l.a)(O,2),f=x[0],_=x[1],v=e.project._id,g=e.list._id,N=Object(r.useCallback)((function(){o.emit("project-update",e.project)}),[o,e.project]);function C(){return(C=Object(K.a)(Z.a.mark((function t(a){var n;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=b("x-auth-token"),t.next=4,fetch("/api/projects/lists/".concat(v,"/").concat(g),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:c,color:f})});case 4:t.sent.ok?(N(),e.hideForm()):i.push("/error");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.jsx)("div",{className:Mt.a.form,children:Object(n.jsxs)("form",{className:Mt.a.container,children:[Object(n.jsx)(re,{title:"Edit List"}),Object(n.jsx)(te,{value:c,onChange:function(e){return s(e.target.value)},label:"Name",id:"name"}),Object(n.jsxs)("div",{className:Mt.a.changeColor,children:[Object(n.jsx)("span",{children:"Change Color:"}),Object(n.jsx)("span",{className:Mt.a.listColor,children:Object(n.jsx)(z,{className:Mt.a["color-button"],style:{background:"".concat(f)},onClick:function(){return h(!p)}})})]}),p&&Object(n.jsx)("div",{ref:u,children:Object(n.jsx)(Jt.a,{className:Mt.a["color-pick"],color:f,onChangeComplete:function(e){_(e.hex),h(!1)}})}),Object(n.jsx)(ee,{onClick:function(e){return C.apply(this,arguments)},title:"Edit List"})]})})}var Gt=a(36),Wt=a.n(Gt),Vt=a.p+"static/media/dots.d2d443b8.svg";function Yt(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useRef)(null),u=Object(r.useRef)(null),d=G(u),m=Object(l.a)(d,2),p=m[0],h=m[1],O=G(i),x=Object(l.a)(O,2),f=x[0],_=x[1],v=Object(r.useState)(""),g=Object(l.a)(v,2),N=g[0],C=g[1],k=Object(r.useState)(""),w=Object(l.a)(k,2),y=(w[0],w[1],Object(r.useState)("")),S=Object(l.a)(y,2),D=(S[0],S[1],Object(j.g)()),T=ue(),I=Object(r.useCallback)((function(){T.emit("project-update",e.project)}),[T,e.project]);function B(){return(B=Object(K.a)(Z.a.mark((function t(){var a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b("x-auth-token"),t.next=3,fetch("/api/projects/lists/".concat(e.project._id,"/").concat(e.list._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a}});case 3:t.sent.ok?I():D.push("/error");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var A=Object(r.useCallback)(function(){var t=Object(K.a)(Z.a.mark((function t(a){var n;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==N){t.next=3;break}return t.abrupt("return");case 3:return n=b("x-auth-token"),t.next=6,fetch("/api/projects/lists/cards/".concat(e.list._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:N,description:"",dueDate:"",progress:"",members:[]})});case 6:if(t.sent.ok){t.next=12;break}return D.push("/error"),t.abrupt("return");case 12:h(!p),C(""),I();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[D,N,e.list._id,e,I]);return Object(n.jsxs)("div",{className:Wt.a.list,children:[Object(n.jsxs)("div",{className:Wt.a.row,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:Wt.a.name,children:e.list.name}),Object(n.jsx)(P,{color:e.list.color||"#A6A48E",type:"list"})]}),Object(n.jsx)(z,{className:Wt.a.button,onClick:function(){return _(!f)},title:Object(n.jsx)("img",{className:Wt.a.dots,src:Vt,alt:"...",width:"20",height:"6"})})]}),Object(n.jsx)("div",{className:Wt.a.relative,children:Object(n.jsxs)("div",{ref:i,className:"".concat(Wt.a.menu," ").concat(f?Wt.a.active:""),children:[Object(n.jsx)("div",{onClick:function(){return s(!c)},children:"Edit"}),Object(n.jsx)("div",{onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&function(){B.apply(this,arguments)}()},children:"Delete"})]})}),Object(n.jsx)(ut.c,{droppableId:e.list._id,type:"droppableSubItem",children:function(t){return Object(n.jsxs)("div",{className:Wt.a.droppable,ref:t.innerRef,children:[e.list.cards.map((function(t,a){return Object(n.jsx)(ut.b,{draggableId:t._id,index:a,children:function(r){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({},r.dragHandleProps),r.draggableProps),{},{ref:r.innerRef,children:Object(n.jsx)(Et,{showEditCard:function(){e.showCurrentCard(t)},card:t,listId:e.list._id,project:e.project},a)})),r.placeholder]})}},t._id)})),t.placeholder]})}}),Object(n.jsx)("div",{className:Wt.a.flexend,children:p?Object(n.jsxs)("form",{ref:u,className:Wt.a.container,children:[Object(n.jsx)("input",{className:Wt.a.taskInput,type:"text",value:N,onChange:function(e){return C(e.target.value)}}),Object(n.jsx)(z,{type:"submit",className:Wt.a.addlist,onClick:A,title:"+ Add Task",project:e.project})]}):Object(n.jsx)(z,{className:Wt.a["add-task"],onClick:function(){return h(!p)},title:"+ Add Task"})}),c?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:function(){return s(!c)},children:Object(n.jsx)(Ht,{hideForm:function(){return s(!c)},list:e.list,project:e.project})})}):null]},e.list._id)}var qt=a(72),Qt=a.n(qt),Zt=a.p+"static/media/pic.260e1407.svg";function Kt(e){var t=Object(j.h)(),a=Object(j.g)(),c=Object(r.useState)(null),s=Object(l.a)(c,2),i=s[0],u=s[1],p=Object(r.useState)([]),h=Object(l.a)(p,2),O=h[0],x=h[1],f=Object(r.useState)(!1),_=Object(l.a)(f,2),v=_[0],g=_[1],N=Object(r.useState)(""),C=Object(l.a)(N,2),k=C[0],w=C[1],y=Object(r.useRef)(null),S=G(y),T=Object(l.a)(S,2),I=T[0],B=T[1],P=ue(),A=Object(r.useContext)(D),R=Object(r.useState)(!1),E=Object(l.a)(R,2),F=E[0],U=E[1],L=Object(r.useState)(""),M=Object(l.a)(L,2),J=M[0],H=M[1],W=Object(r.useState)(""),V=Object(l.a)(W,2),Y=V[0],Q=V[1],X=Object(r.useState)(!1),$=Object(l.a)(X,2),te=$[0],ae=$[1],ne=Object(r.useContext)(m),re=Object(r.useCallback)((function(e){u(e);var t=[];e.membersRoles.map((function(e){return t.push({admin:e.admin,username:e.memberId.username})})),x(t),A.setLists(e.lists)}),[A]);Object(r.useEffect)((function(){var e=t.projectid;if(null!=P)return P.on("project-updated",re),P.emit("project-join",e),function(){return P.off("project-updated")}}),[P,re]);var ce=Object(r.useCallback)(Object(K.a)(Z.a.mark((function e(){var n,r,c,s,i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectid,r=b("x-auth-token"),e.next=4,fetch("/api/projects/info/".concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:r}});case 4:if((c=e.sent).ok){e.next=9;break}a.push("/error"),e.next=19;break;case 9:return e.next=11,c.json();case 11:s=e.sent,u(s),A.setProjectName(s.name),i=[],s.membersRoles.map((function(e){return i.push({admin:e.admin,username:e.memberId.username,id:e.memberId._id})})),x(i),A.setLists(s.lists),se(s);case 19:case"end":return e.stop()}}),e)}))),[t.projectid,a,A]);if(Object(r.useEffect)((function(){ce();var e=t.projectid;e&&e!==A.project&&A.setProject(e)}),[t.projectid]),!i)return Object(n.jsx)(fe,{children:Object(n.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})});function se(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(K.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.membersRoles.filter((function(e){return!0===e.admin}));case 2:e.sent.some((function(e){return e.memberId._id===ne.user.id}))?ae(!0):ae(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(K.a)(Z.a.mark((function e(){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b("x-auth-token"),e.next=3,fetch("/api/projects/".concat(i._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:n}});case 3:e.sent.ok?(P.emit("team-update",t.teamid),a.push("/")):a.push("/error");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(K.a)(Z.a.mark((function e(t){var n,r,c,s,o,l,u,d;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:if("droppableItem"!==t.type){e.next=12;break}return n=t.destination.index,r=A.lists.filter((function(e){return!A.hiddenLists.includes(e._id)})),c=r[n-1],n=A.lists.indexOf(c)+1,s=b("x-auth-token"),e.next=10,fetch("/api/projects/lists/".concat(i._id,"/").concat(t.draggableId,"/dnd-update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({position:n,element:"list"})});case 10:e.sent.ok||a.push("/error");case 12:if("droppableSubItem"!==t.type){e.next=21;break}return o=t.destination.index,l=t.source.droppableId,u=t.destination.droppableId,d=b("x-auth-token"),e.next=19,fetch("/api/projects/lists/".concat(i._id,"/").concat(t.draggableId,"/dnd-update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:d},body:JSON.stringify({position:o,element:"card",source:l,destination:u})});case 19:e.sent.ok||a.push("/error");case 21:P.emit("project-update",i);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(){var e=Object(K.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==k){e.next=4;break}return console.log("return"),e.abrupt("return");case 4:return n=b("x-auth-token"),e.next=7,fetch("/api/projects/lists/".concat(i._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:k})});case 7:if(e.sent.ok){e.next=13;break}return a.push("/error"),e.abrupt("return");case 13:B(!I),w(""),P.emit("project-update",i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(fe,{children:[F?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:function(){return U(!F)},children:Object(n.jsx)(Pt,{hideForm:function(){return U(!F)},card:J,listId:Y,project:i})})}):null,Object(n.jsx)(ut.a,{onDragEnd:function(e){return le.apply(this,arguments)},children:Object(n.jsx)(ut.c,{droppableId:"droppable",direction:"horizontal",type:"droppableItem",children:function(e){return Object(n.jsxs)("div",{className:Qt.a.flex,ref:e.innerRef,children:[A.lists.filter((function(e){return!A.hiddenLists.includes(e._id)})).map((function(e,t){return Object(n.jsx)(ut.b,{draggableId:e._id,index:t,children:function(t){return Object(n.jsx)("div",{children:Object(n.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:Object(n.jsx)(Yt,{list:e,project:i,showCurrentCard:function(t){H(t),Q(e._id),U(!F)}})}))})}},e._id)})),te?Object(n.jsx)("div",{className:Qt.a.list,children:I?Object(n.jsxs)("form",{ref:y,className:Qt.a.container,children:[Object(n.jsx)("input",{className:Qt.a.input,type:"text",value:k,onChange:function(e){return w(e.target.value)}}),Object(n.jsx)(z,{type:"submit",className:Qt.a.addlist,onClick:de,title:"+ Add List"})]}):Object(n.jsx)(z,{className:Qt.a.addlist,onClick:function(){return B(!I)},title:"+ Add List"})}):null,e.placeholder]})}})}),Object(n.jsx)(ee,{title:"Edit Project",onClick:function(){return g(!v)}}),v?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:function(){return g(!v)},children:Object(n.jsx)(jt,{hideForm:function(){return g(!v)},project:i,members:O})})}):null,Object(n.jsx)(ee,{title:"Delete Project",onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&function(){oe.apply(this,arguments)}()}}),Object(n.jsx)("img",{className:Qt.a.pic,src:Zt,alt:"",width:"373",height:"312"})]})}var Xt=a(51),$t=a.n(Xt),ea=a(67),ta=a.n(ea),aa=a(316),na=(a(573),a(15)),ra=a.n(na);function ca(e){var t=Object(r.useRef)(null),a=G(t),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(""),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(j.g)(),h=ue(),O=Object(r.useCallback)((function(){h.emit("project-update",e.project)}),[h,e.project]),x=Object(r.useCallback)(function(){var t=Object(K.a)(Z.a.mark((function t(a){var n,r,c,o;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),console.log(d),n=e.value.split("/"),r=n[1],c=n[2],""!==d){t.next=8;break}return console.log("return"),t.abrupt("return");case 8:return o=b("x-auth-token"),t.next=11,fetch("/api/projects/lists/cards/".concat(c,"/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:o},body:JSON.stringify({name:d})});case 11:if(t.sent.ok){t.next=17;break}return p.push("/error"),t.abrupt("return");case 17:m(""),i(!s),O();case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[p,d,O,s,i,e.value]),f=e.value;if(f){var _=f.split("/");if(1===_.length)return Object(n.jsx)("div",{className:ra.a.listName,children:f});var v=_[0];_[1],_[2];return Object(n.jsx)("span",{children:s?Object(n.jsx)("div",{ref:t,className:ra.a.container,onBlur:x,children:Object(n.jsx)("input",{className:ra.a.inputTaskName,type:"text",placeholder:v,onChange:function(e){return m(e.target.value)}})}):Object(n.jsx)("div",{className:ra.a.tableText,onClick:function(){return i(!s)},children:Object(n.jsx)("span",{children:v})})})}return f}function sa(e){var t=e.value,a="",c=t.split("/");c.length>1&&(a=c[0]);var s=Object(r.useRef)(null),i=G(s),o=Object(l.a)(i,2),u=o[0],d=o[1],m=Object(r.useState)(a),p=Object(l.a)(m,2),h=p[0],O=p[1],x=Object(r.useState)(""),f=Object(l.a)(x,2),_=(f[0],f[1],Object(j.g)()),v=ue(),g=Object(r.useCallback)((function(){v.emit("project-update",e.project)}),[v,e.project]),N=Object(r.useCallback)(function(){var t=Object(K.a)(Z.a.mark((function t(a){var n,r,c,s;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.value.split("/"),r=n[1],c=n[2],""!==h){t.next=9;break}return console.log("return"),t.abrupt("return");case 9:if(!(Number(h)>100)){t.next=14;break}return O(100),t.abrupt("return");case 14:if(!(Number(h)<0)){t.next=17;break}return O(0),t.abrupt("return");case 17:return s=b("x-auth-token"),t.next=20,fetch("/api/projects/lists/cards/".concat(c,"/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({progress:h})});case 20:if(t.sent.ok){t.next=26;break}return _.push("/error"),t.abrupt("return");case 26:d(!u),g();case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[_,h,g,u,d,e.value]);function C(e){return"null"!==e?Object(n.jsxs)("div",{style:{backgroundColor:k(e),padding:"5px",fontSize:"14px",border:"solid black 1px",borderRadius:"5px"},children:[" ",e," %"]}):Object(n.jsx)("div",{children:"Add Progress"})}function k(e){var t="";switch(!0){case"100"===e:t="#0E8D27";break;case e<20:t="#EB4863";break;case e<100:t="#5E9DDC"}return t}if(t){var w=t.split("/");if(1===w.length)return Object(n.jsx)("div",{className:ra.a.listName,children:t});var y=w[0];w[1],w[2];return Object(n.jsx)("span",{children:u?Object(n.jsx)("div",{ref:s,className:ra.a.taskProgress,onBlur:N,children:Object(n.jsx)("input",{className:ra.a.progressInput,style:{backgroundColor:[k(y)],padding:"5px",fontSize:"14px",border:"solid black 1px",borderRadius:"5px",width:"100%",textAlign:"center"},type:"number",value:h,placeholder:"%",onChange:function(e){return O(e.target.value)},min:"0",max:"100"})}):Object(n.jsx)("div",{className:ra.a.taskProgress,children:Object(n.jsx)("button",{className:ra.a.taskProgressButton,onClick:function(){return d(!u)},children:Object(n.jsx)("span",{children:C(y)})})})})}return C("")}function ia(e){var t=Object(r.useRef)(null),a=G(t),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(e.cardDueDate),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),O=h[0],x=h[1],f=Object(j.g)(),_=ue(),v=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),g=Object(r.useCallback)((function(){_.emit("project-update",e.project)}),[_,e.project]),N=Object(r.useCallback)(function(){var t=Object(K.a)(Z.a.mark((function t(a){var n,r,c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cardId,r=e.listId,""!==d||""!==a){t.next=5;break}return console.log("return"),t.abrupt("return");case 5:return c=b("x-auth-token"),t.next=8,fetch("/api/projects/lists/cards/".concat(r,"/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({dueDate:a})});case 8:if(t.sent.ok){t.next=14;break}return f.push("/error"),t.abrupt("return");case 14:i(!s),g();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[f,d,g,i,s,e.cardId,e.listId]);d&&new Date(d).getTime();var C=e.value;if(C){var k=C;return Object(n.jsxs)("span",{className:ra.a.dueDateField,children:[Object(n.jsx)(It.a,{selected:d,customInput:Object(n.jsx)("div",{className:ra.a.dueDateFieldInput,children:Object(n.jsx)("span",{children:k})}),onChange:function(){var e=Object(K.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:N(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),label:"Go to date",onBlur:function(){return i(!s)}}),Object(n.jsx)("span",{children:O?Object(n.jsx)("span",{children:Object(n.jsx)(q,{hideForm:function(){return x(!O)},children:Object(n.jsx)(Pt,{hideForm:function(){return x(!O)},card:e.card,listId:e.listId,project:e.project})})}):Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:ra.a.pen,src:lt,alt:"...",width:"13",height:"13",onClick:function(){return x(!0)}})})})]})}return Object(n.jsxs)("span",{className:ra.a.dueDateField,children:[s?Object(n.jsx)("div",{className:ra.a.dueDateField,children:Object(n.jsx)(It.a,{customInput:Object(n.jsx)("div",{children:Object(n.jsx)("span",{children:"Select date"})}),selected:v,onChange:function(e){m(e),N(e)},label:"Go to date"})}):Object(n.jsx)("div",{className:ra.a.dueDateField,children:Object(n.jsx)("span",{onClick:function(){return i(!s)},children:"Due Date"})}),Object(n.jsx)("span",{children:O?Object(n.jsx)("span",{children:Object(n.jsx)(q,{hideForm:function(){return x(!O)},children:Object(n.jsx)(Pt,{hideForm:function(){return x(!O)},card:e.card,listId:e.listId,project:e.project})})}):Object(n.jsx)("span",{children:Object(n.jsx)("img",{className:ra.a.pen,src:lt,alt:"...",width:"13",height:"13",onClick:function(){return x(!0)}})})})]})}function oa(e){var t=Object(j.g)(),a=Object(r.useState)(""),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(r.useRef)(null),u=G(o),d=Object(l.a)(u,2),m=d[0],p=d[1],h=ue(),O=Object(r.useCallback)((function(){h.emit("project-update",e.project)}),[h,e.project]),x=Object(r.useCallback)(function(){var a=Object(K.a)(Z.a.mark((function a(n){var r,c;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r=e.project._id,""!==s){a.next=5;break}return console.log("return"),a.abrupt("return");case 5:return c=b("x-auth-token"),a.next=8,fetch("/api/projects/lists/".concat(r),{method:"POST",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({name:s})});case 8:if(a.sent.ok){a.next=14;break}return t.push("/error"),a.abrupt("return");case 14:p(!m),i(""),O();case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[t,s,O,p,m,e.project._id]);return Object(n.jsx)("div",{className:ra.a.list,children:m?Object(n.jsxs)("form",{ref:o,className:ra.a.container,children:[Object(n.jsx)("input",{className:ra.a.inputList,type:"text",value:s,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)(z,{type:"submit",className:ra.a.addListButton,onClick:x,title:"+ Add"})]}):Object(n.jsx)(z,{className:ra.a.addListButton,onClick:function(){return p(!m)},title:"+ Add List"})})}function la(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(n.jsxs)("div",{className:ra.a.flexend,children:[Object(n.jsx)(z,{className:ra.a.addnote,onClick:function(){return s(!c)},title:"+ Add Task"}),c?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:function(){return s(!c)},children:Object(n.jsx)(zt,{hideForm:function(){return s(!c)},listId:e.listId,project:e.project})})}):null]})}function ua(e){var t=e.value;return Object(n.jsx)("div",{children:t.length>3?Object(n.jsx)("div",{className:ra.a.membersContainer,children:Object(n.jsxs)("span",{className:ra.a.membersDiv,children:[t.slice(0,3).map((function(t,a){return Object(n.jsx)("span",{children:Object(n.jsx)(H.a,{name:t.username,size:e.size,round:!0,maxInitials:2})},a)})),Object(n.jsx)("span",{children:Object(n.jsx)(H.a,{color:"grey",name:"+   ".concat(t.length-3," ").concat(("0"+(t.length-3)).slice(2)),size:e.size,round:!0,maxInitials:3})})]})}):Object(n.jsx)("div",{className:ra.a.membersContainer,children:Object(n.jsx)("span",{className:ra.a.membersDiv,children:t.map((function(t,a){return Object(n.jsx)("span",{children:Object(n.jsx)(H.a,{name:t.username,size:e.size,round:!0,maxInitials:2})},a)}))})})})}var da=function(e){var t=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),a=function(t,a){if(0===a){if(t){var r=t.split("/"),c=Number(r[0]),s=Number(r[1]),i=e.setDate(e.getDate()),o="",l="";if(c){switch(!0){case c===i:o="#EB4863",l="Due Date";break;case 100===s||100===c:o="#0E8D27",l="Finished";break;case c>i:o="#5E9DDC",l="In Progress";break;case c<i&&(s<100||!s):o="#EB4863",l="Delayed"}return Object(n.jsx)("div",{className:ra.a.daylyProgress,children:Object(n.jsx)("div",{style:{background:o,width:"100%",textAlign:"center",padding:"5px",fontSize:"14px",border:"#363338 solid 1px",borderRadius:"5px"},children:l})})}return""}return t}if(0!==a){if(t){var u=t.split("/"),d=Number(u[0]),j=Number(u[1]),b=new Date(e),m=b.setDate(b.getDate()+a),p="",h="";switch(!0){case d===m:p="#EB4863",h="Due Date";break;case d>m&&100!==j:p="#5E9DDC",h="In Progress";break;default:return null}return Object(n.jsx)("div",{className:ra.a.daylyProgress,children:Object(n.jsx)("div",{style:{background:p,color:p,width:"100%",textAlign:"center",padding:"5px",fontSize:"14px",border:"#363338 solid 1px",borderRadius:"5px"},children:h})})}return t}return t},r=function(a){var r=new Date(e);r.setDate(r.getDate()+a);var c,s=function(e){var t=e.getDay();return t>6&&(t-=7),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t]}(r),i=("0"+(c=r).getDate()).slice(-2)+"."+("0"+(c.getMonth()+1)).slice(-2),o="",l=new Date(t).getTime(),u=new Date(e);return u.setDate(u.getDate()+a)===l&&(o="#CFE2EC"),Object(n.jsxs)("div",{style:{background:o,color:"black"},children:[Object(n.jsx)("div",{style:{fontWeight:"600"},children:s}),Object(n.jsx)("div",{style:{fontSize:"80%"},children:i})]})};return[{Header:function(){return Object(n.jsx)("div",{className:ra.a.header,children:"Task"})},accessor:"task",minWidth:200},{Header:function(){return Object(n.jsx)("div",{className:ra.a.header,children:"Progress"})},accessor:"progress",minWidth:100},{Header:function(){return Object(n.jsx)("div",{className:ra.a.header,children:"Teammates"})},accessor:"assigned",minWidth:130},{Header:r(0),accessor:"monday",minWidth:90,Cell:function(e){var t=e.value;return a(t,0)}},{Header:r(1),accessor:"tuesday",minWidth:90,Cell:function(e){var t=e.value;return a(t,1)}},{Header:r(2),accessor:"wednesday",minWidth:90,Cell:function(e){var t=e.value;return a(t,2)}},{Header:r(3),accessor:"thursday",minWidth:90,Cell:function(e){var t=e.value;return a(t,3)}},{Header:r(4),accessor:"friday",minWidth:90,Cell:function(e){var t=e.value;return a(t,4)}},{Header:r(5),accessor:"saturday",minWidth:90,Cell:function(e){var t=e.value;return a(t,5)}},{Header:r(6),accessor:"sunday",minWidth:90,Cell:function(e){var t=e.value;return a(t,6)}},{Header:function(){return Object(n.jsx)("div",{className:ra.a.header,children:"Due Date"})},accessor:"dueDate",minWidth:150}]},ja=function(e){var t=Object(r.useState)((function(){var e=new Date,t=e.getDay(),a=e.getDate()-t+(0==t?-6:1),n=new Date(e.setDate(a));return new Date(n.getFullYear(),n.getMonth(),n.getDate())})),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)([]),o=Object(l.a)(i,2),u=o[0],d=o[1],j=Object(r.useState)(10),b=Object(l.a)(j,2),m=b[0],p=b[1],h=Object(r.useContext)(D);var O=Object(r.useCallback)(Object(K.a)(Z.a.mark((function t(){var a,r,c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=0,r=[],c=e.project.lists,h.setLists(c),h.lists.filter((function(e){return!h.hiddenLists.includes(e._id)})).map((function(t){return a++,r.push({task:Object(n.jsxs)("div",{className:ta.a.listNameContainer,children:[Object(n.jsx)("span",{className:ta.a.listNameColor,children:Object(n.jsx)(P,{color:t.color||"#A6A48E"})}),Object(n.jsx)("span",{className:ta.a.listNameText,children:t.name})]}),progress:"",assigned:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",dueDate:Object(n.jsx)(la,{listId:t._id,project:e.project})}),t.cards.filter((function(t){return!!(e.filter["Not Started"]||0!==t.progress&&null!==t.progress)&&(!(!e.filter["In Progress"]&&t.progress>0&&t.progress<100)&&!(!e.filter.Done&&100===t.progress))})).forEach((function(c){a++;var s="",i="";c.dueDate&&(i=(s=new Date(c.dueDate)).getTime()),r.push({task:Object(n.jsx)(ca,{value:c.name+"/"+c._id+"/"+t._id,props:e,project:e.project}),progress:Object(n.jsx)(sa,{value:c.progress+"/"+c._id+"/"+t._id,project:e.project,card:c}),assigned:Object(n.jsx)(ua,{value:c.members,card:c,cardId:c._id,listId:t._id,project:e.project,size:30,title:"+"}),monday:i+"/"+c.progress,tuesday:i+"/"+c.progress,wednesday:i+"/"+c.progress,thursday:i+"/"+c.progress,friday:i+"/"+c.progress,saturday:i+"/"+c.progress,sunday:i+"/"+c.progress,dueDate:Object(n.jsx)("div",{children:Object(n.jsx)("span",{children:Object(n.jsx)(ia,{value:""!==i&&0!==i?("0"+s.getDate()).slice(-2)+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+s.getFullYear():"",cardDueDate:s,cardId:c._id,listId:t._id,props:e,project:e.project,card:c})})})})})),r})),a++,r.push({task:Object(n.jsx)(oa,{props:e,project:e.project}),progress:"",assigned:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",dueDate:""}),p(a),d(r),t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)}))),[h,e]);Object(r.useEffect)((function(){O()}),[O]);var x=function(){var e=Object(K.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c,e.next=3,t.setDate(t.getDate()+7);case 3:return e.next=5,O();case 5:s(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(K.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=c).setDate(t.getDate()-7),e.next=4,O();case 4:return s(t),e.next=7,O();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:ta.a.reactTable,children:[Object(n.jsxs)("div",{className:ta.a.buttoDiv,children:[Object(n.jsx)("span",{children:Object(n.jsx)(It.a,{selected:c,customInput:Object(n.jsx)("div",{className:ta.a.navigateButtons,children:"Choose Week"}),showWeekNumbers:!0,onChange:function(e){return s(e)}})}),Object(n.jsxs)("span",{children:[Object(n.jsx)("button",{className:ta.a.navigateButtons,onClick:f,children:"Previous week"}),Object(n.jsx)("button",{className:ta.a.navigateButtons,onClick:x,children:"Next week"})]})]}),Object(n.jsx)("div",{children:Object(n.jsx)(aa.a,{data:u,columns:da(c),defaultPageSize:10,pageSize:m,showPagination:!1,background:"white"})})]})};function ba(){var e=Object(j.h)(),t=Object(j.g)(),a=Object(r.useState)(!1),c=Object(l.a)(a,2),s=c[0],i=c[1],u=Object(r.useState)({"Not Started":!0,"In Progress":!0,Done:!0}),m=Object(l.a)(u,2),p=m[0],h=m[1],O=Object(r.useState)(null),x=Object(l.a)(O,2),f=x[0],_=x[1],v=ue(),g=Object(r.useContext)(D),N=Object(r.useCallback)((function(e){_(e)}),[]);Object(r.useEffect)((function(){var t=e.projectid;if(null!=v)return v.on("project-updated",N),v.emit("project-join",t),function(){return v.off("project-updated")}}),[v,N]);var C=Object(r.useCallback)(Object(K.a)(Z.a.mark((function a(){var n,r,c,s;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.projectid,r=b("x-auth-token"),a.next=4,fetch("/api/projects/info/".concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:r}});case 4:if((c=a.sent).ok){a.next=9;break}t.push("/error"),a.next=14;break;case 9:return a.next=11,c.json();case 11:s=a.sent,_(s),g.setProjectName(s.name);case 14:case"end":return a.stop()}}),a)}))),[e.projectid,t]);Object(r.useEffect)((function(){C();var t=e.projectid;t&&t!==g.project&&g.setProject(t)}),[]);var k=function(e){var t=Object(o.a)({},p);t[e]=!t[e],h(t)};return f?Object(n.jsxs)(fe,{className:$t.a.conteiner,children:[Object(n.jsx)(z,{className:$t.a.filter,onClick:function(){return i(!s)},title:"Task filters"}),s?Object(n.jsxs)("div",{children:[Object(n.jsx)(z,{title:"Not Started",onClick:function(){return k("Not Started")},className:"".concat($t.a.filter," ").concat(p["Not Started"]?"":$t.a["filter-off"])}),Object(n.jsx)(z,{title:"In Progress",className:"".concat($t.a.filter," ").concat(p["In Progress"]?"":$t.a["filter-off"]),onClick:function(){return k("In Progress")}}),Object(n.jsx)(z,{title:"Done",className:"".concat($t.a.filter," ").concat(p.Done?"":$t.a["filter-off"]),onClick:function(){return k("Done")}})]}):null,Object(n.jsx)("div",{className:$t.a.calendarPageContainer,children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:$t.a.calendarContainer,children:Object(n.jsx)(ja,{project:f,filter:p})})})})]}):Object(n.jsx)(fe,{children:Object(n.jsx)(d.a,{type:"TailSpin",color:"#363338",height:100,width:100,timeout:3e3})})}var ma=function(e){var t=e.children,a=Object(r.useState)([]),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(r.useState)(null),m=Object(l.a)(b,2),p=m[0],h=m[1],O=Object(r.useState)("Select"),x=Object(l.a)(O,2),f=x[0],_=x[1];return Object(n.jsx)(D.Provider,{value:{lists:s,setLists:i,hiddenLists:d,setHiddenLists:j,project:p,setProject:h,projectName:f,setProjectName:_},children:t})};var pa=function(e){var t=e.children,a=Object(r.useState)([]),c=Object(l.a)(a,2),s=c[0],i=c[1],u=Object(r.useState)("Select"),d=Object(l.a)(u,2),j=d[0],p=d[1],h=Object(r.useState)([]),O=Object(l.a)(h,2),x=O[0],f=O[1],_=Object(r.useContext)(m),v=ue();function g(){return N.apply(this,arguments)}function N(){return(N=Object(K.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.user.teams&&i(_.user.teams);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){g()}));var C=Object(r.useCallback)((function(e){console.log("teamUpdateFunc",e);var t=b("x-auth-token");fetch("/api/teams",{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){return e.json()})).then((function(e){console.log(e),i(e);var t=Object(o.a)({},_.user);t.teams=e,_.setUser(t)}))}),[_]);return Object(r.useEffect)((function(){if(null!=v)return v.on("team-updated",C),function(){return v.off("team-updated")}}),[v,C]),Object(n.jsx)(W.Provider,{value:{teams:s,setTeams:i,selectedTeam:j,setSelectedTeam:p,currentProjects:x,setCurrentProjects:f,getCurrentProjects:function(e){var t=s.find((function(t){return t._id===e}));t&&f(t.projects)},getTeams:g,updateSelectedTeam:function(e){var t=s.find((function(t){return t._id===e}));t&&p(t.name)}},children:t})},ha=a(217),Oa=a.n(ha),xa=a(91),fa=a.n(xa);function _a(e){var t=Object(r.useContext)(D),a=Object(r.useState)(!1),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(j.h)();return Object(n.jsx)("div",{className:fa.a.container,children:Object(n.jsxs)("div",{className:fa.a.top,children:[Object(n.jsxs)(O.b,{to:"/project-board/".concat(o.teamid,"/").concat(e.project._id),onClick:function(){t.setProject(e.project._id)},className:fa.a.projectname,children:["Name: ",e.project.name]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:fa.a.username,children:["Creator: ",e.project.author.username]}),s?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:function(){return i(!s)},children:Object(n.jsx)(jt,{hideForm:function(){return i(!s)},project:e.project})})}):null,Object(n.jsx)("div",{className:fa.a.info,onClick:function(){return i(!s)},children:"Info"})]})]})})}var va=a(30),ga=a.n(va);function Na(e){var t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],p=Object(r.useState)(""),h=Object(l.a)(p,2),O=h[0],x=h[1],f=Object(r.useState)([]),_=Object(l.a)(f,2),v=_[0],g=_[1],N=Object(r.useState)(!1),C=Object(l.a)(N,2),k=C[0],w=C[1],y=Object(r.useState)([]),S=Object(l.a)(y,2),D=S[0],I=S[1],B=Object(r.useState)(!1),P=Object(l.a)(B,2),A=P[0],R=P[1],E=Object(r.useContext)(m),F=Object(j.g)(),U=Object(r.useContext)(W),L=Object(r.useContext)(m),M=ue(),J=Object(j.h)().teamid,G=Object(r.useCallback)(Object(K.a)(Z.a.mark((function e(){var t,a,n,r,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,U.teams.map((function(e){e._id===J&&(t=e)}));case 3:return a=t.author,n=b("x-auth-token"),e.next=7,fetch("/api/teams/get-users/".concat(J),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}});case 7:if((r=e.sent).ok){e.next=12;break}F.push("/error"),e.next=19;break;case 12:return e.next=14,r.json();case 14:c=e.sent,g(c),d(t.description),s(t.name),E.user.id===a&&R(!0);case 19:case"end":return e.stop()}}),e)}))),[]);Object(r.useEffect)((function(){G()}),[G]);var V=function(){var e=Object(K.a)(Z.a.mark((function e(t){var a,n,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(t.target.value),w(!1),0!==D.length){e.next=12;break}return a=b("x-auth-token"),e.next=6,fetch("/api/user/get-all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:a}});case 6:return(n=e.sent).ok||F.push("/error"),e.next=10,n.json();case 10:r=e.sent,I(r);case 12:O.length>=2&&w(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var t=Object(K.a)(Z.a.mark((function t(a){var n;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=b("x-auth-token"),t.next=4,fetch("/api/teams/".concat(J),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({name:c,description:u,members:v})});case 4:if(t.sent.ok){t.next=10;break}return F.push("/error"),t.abrupt("return");case 10:U.setSelectedTeam(c),G(),e.hideForm(),M.emit("team-update",J);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:ga.a.form,children:Object(n.jsxs)("form",{className:ga.a.container,onSubmit:Y,children:[Object(n.jsx)("div",{className:ga.a.title,children:"Team"}),Object(n.jsxs)("div",{className:ga.a.inputContainer,children:[Object(n.jsx)("span",{children:" Name"}),Object(n.jsx)("input",{className:ga.a.input,value:c,onChange:function(e){return s(e.target.value)},label:"Name",id:"name"})]}),Object(n.jsxs)("div",{className:ga.a.inputContainerDescr,children:[Object(n.jsx)("span",{children:" Description"}),Object(n.jsx)("textarea",{className:ga.a.textarea,value:u,onChange:function(e){return d(e.target.value)},label:"Description",id:"description"})]}),A?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:ga.a.inputContainer,children:[Object(n.jsx)("span",{children:" Invite Members"}),Object(n.jsx)("input",{className:ga.a.input,autocomplete:"off",value:O,onChange:V,label:"Invite members",id:"members",placeholder:"username"})]}),k?Object(n.jsx)("div",{className:ga.a.members,children:D.filter((function(e){return e.username.toLowerCase().includes(O.toLowerCase())&&!e.username.includes(L.user.username)})).filter((function(e){return!v.find((function(t){return t.username===e.username}))})).sort((function(e,t){return e.username.localeCompare(t.username)})).map((function(e){return Object(n.jsx)(z,{className:ga.a.user,onClick:function(){return function(e){var t=Object(T.a)(v);t.push(e),g(t),w(!1),x("")}(e)},title:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:e.username}),Object(n.jsx)("div",{className:ga.a.email,children:e.email})]})},e._id)}))}):null,Object(n.jsx)("div",{className:ga.a.membersAvatars,children:v.map((function(e,t){return Object(n.jsx)(H.a,{name:e.username,size:40,round:!0,maxInitials:2,onClick:function(){window.confirm("Are you sure you wish to delete this member?")&&function(e){var t=v.filter((function(t){return t._id!==e._id}));g(t)}(e)}},t)}))}),Object(n.jsx)("div",{className:ga.a.buttonDiv,children:Object(n.jsx)("button",{type:"submit",className:ga.a.createButton,children:"Submit Changes"})})]}):Object(n.jsx)("div",{className:ga.a.membersAvatars,children:v.map((function(e){return Object(n.jsx)(z,{title:Object(n.jsx)(H.a,{name:e.username,size:40,round:!0,maxInitials:2},e._id)})}))})]})})}var Ca=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),i=Object(l.a)(s,2),o=i[0],u=i[1],d=Object(r.useContext)(W),b=Object(j.h)();return Object(r.useEffect)((function(){var e=b.teamid;d.getCurrentProjects(e)})),Object(n.jsxs)(fe,{children:[Object(n.jsx)("div",{children:d.currentProjects.map((function(e,t){return Object(n.jsx)(_a,{index:t,project:e},e._id)}))}),Object(n.jsx)("button",{className:Oa.a.newProjectButton,onClick:function(){return c(!0)},children:"New Project"}),a?Object(n.jsx)("div",{children:Object(n.jsx)(q,{hideForm:function(){return c(!1)},children:Object(n.jsx)(pe,{})})}):null,Object(n.jsx)("button",{className:Oa.a.newProjectButton,onClick:function(){return u(!0)},children:"View Team"}),o?Object(n.jsx)(q,{hideForm:function(){return u(!1)},children:Object(n.jsx)(Na,{hideForm:function(){u(!1)},team:d})}):null]})},ka=function(){var e=Object(j.h)(),t=Object(j.g)(),a=Object(r.useState)(!0),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],p=Object(r.useContext)(m),h=Object(r.useCallback)(Object(K.a)(Z.a.mark((function a(){var n,r,c;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.token,a.next=3,fetch("/api/user/confirmation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});case 3:if((r=a.sent).ok){a.next=9;break}return t.push("/error"),a.abrupt("return");case 9:return a.next=11,r.json();case 11:c=a.sent,p.logIn({username:c.username,id:c._id,inbox:c.inbox,confirmed:c.confirmed}),i(!1),b(!0);case 15:case"end":return a.stop()}}),a)}))));return Object(r.useEffect)((function(){h()})),"not-confirmed"===e.token?Object(n.jsx)("div",{children:"Please check your email to confirm your account"}):Object(n.jsxs)("div",{children:[s&&Object(n.jsx)("div",{children:"Validating your email."}),!s&&d&&Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"Thank you. Your account has been verified."}),Object(n.jsx)(ee,{title:"Proceed",onClick:function(){return t.push("/")}})]})]})},wa=function(){var e=Object(r.useContext)(m),t=e.user.loggedIn;return Object(n.jsx)(O.a,{children:Object(n.jsx)(de,{user:e.user,children:Object(n.jsx)(ma,{children:Object(n.jsx)(pa,{children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/confirmation/:token",children:Object(n.jsx)(ka,{})}),t&&!e.user.confirmed?Object(n.jsx)(j.a,{to:"/confirmation/not-confirmed"}):null,Object(n.jsx)(j.b,{exact:!0,path:"/",children:t?Object(n.jsx)(_e,{}):Object(n.jsx)(Ze,{})}),Object(n.jsx)(j.b,{path:"/profile/:userid",children:t?Object(n.jsx)(et,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{path:"/inbox/:userid",children:t?Object(n.jsx)(nt,{}):Object(n.jsx)(j.a,{to:"/login"})}),Object(n.jsx)(j.b,{path:"/project-board/:teamid/:projectid",children:t?Object(n.jsx)(Kt,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{path:"/project-list/:teamid/:projectid",children:t?Object(n.jsx)(ba,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{path:"/team/:teamid",children:t?Object(n.jsx)(Ca,{}):Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{component:rt})]})})})})})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(h,{children:Object(n.jsx)(wa,{})})}),document.getElementById("root"))},67:function(e,t,a){e.exports={reactTable:"calendar-table_reactTable__3vx2L",columns:"calendar-table_columns__2r7c1",task:"calendar-table_task__1tz91",buttoDiv:"calendar-table_buttoDiv__AB2Qr",addTaskField:"calendar-table_addTaskField__3Yb0t",container:"calendar-table_container__3s5z4",input:"calendar-table_input__214q3",addlist:"calendar-table_addlist__3I9s5",daylyProgress:"calendar-table_daylyProgress__3j-CE",navigateButtons:"calendar-table_navigateButtons__3lTnJ",header:"calendar-table_header__1AROC",listNameContainer:"calendar-table_listNameContainer__1-WSQ",listNameColor:"calendar-table_listNameColor__2hEFD",listNameText:"calendar-table_listNameText__YPqg0"}},72:function(e,t,a){e.exports={pic:"project-board_pic__3YRcb",flex:"project-board_flex__13yXL",list:"project-board_list__jeXIy",addlist:"project-board_addlist__-i_Vu",input:"project-board_input__ljKcM",container:"project-board_container__1yKm3"}},80:function(e,t,a){e.exports={container:"task-members_container__2INWa",addUserButton:"task-members_addUserButton__1Ay0S",select:"task-members_select__3Oirt",pen:"task-members_pen__1EvaG",membersDiv:"task-members_membersDiv__92OQm",membersContainer:"task-members_membersContainer__39AVz"}},81:function(e,t,a){e.exports={container:"edit-list_container__1PV_g",form:"edit-list_form__1Ipgs",changeColor:"edit-list_changeColor__nfyWy","color-pick":"edit-list_color-pick__3MYZG","color-button":"edit-list_color-button__1duo6"}},90:function(e,t,a){e.exports={dueDateField:"task-dueDate_dueDateField__17EhQ"}},91:function(e,t,a){e.exports={projectname:"project_projectname__2bHy2",username:"project_username__roD9R",info:"project_info__16VKJ",container:"project_container__2Nl29",top:"project_top__3NBWB"}}},[[574,1,2]]]);
//# sourceMappingURL=main.a3895087.chunk.js.map